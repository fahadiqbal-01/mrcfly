(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var Em={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function Sw(){if(kv)return kl;kv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return kl.Fragment=e,kl.jsx=t,kl.jsxs=t,kl}var xv;function Aw(){return xv||(xv=1,Em.exports=Sw()),Em.exports}var qe=Aw(),Tm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function bw(){if(Lv)return Ce;Lv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function b(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,q={};function D(O,ee,oe){this.props=O,this.context=ee,this.refs=q,this.updater=oe||x}D.prototype.isReactComponent={},D.prototype.setState=function(O,ee){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ee,"setState")},D.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function K(){}K.prototype=D.prototype;function ie(O,ee,oe){this.props=O,this.context=ee,this.refs=q,this.updater=oe||x}var te=ie.prototype=new K;te.constructor=ie,V(te,D.prototype),te.isPureReactComponent=!0;var he=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},Te=Object.prototype.hasOwnProperty;function M(O,ee,oe,re,pe,Oe){return oe=Oe.ref,{$$typeof:i,type:O,key:ee,ref:oe!==void 0?oe:null,props:Oe}}function w(O,ee){return M(O.type,ee,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function P(O){var ee={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(oe){return ee[oe]})}var k=/\/+/g;function U(O,ee){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):ee.toString(36)}function I(){}function Bt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(I,I):(O.status="pending",O.then(function(ee){O.status==="pending"&&(O.status="fulfilled",O.value=ee)},function(ee){O.status==="pending"&&(O.status="rejected",O.reason=ee)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ut(O,ee,oe,re,pe){var Oe=typeof O;(Oe==="undefined"||Oe==="boolean")&&(O=null);var Ae=!1;if(O===null)Ae=!0;else switch(Oe){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(O.$$typeof){case i:case e:Ae=!0;break;case v:return Ae=O._init,ut(Ae(O._payload),ee,oe,re,pe)}}if(Ae)return pe=pe(O),Ae=re===""?"."+U(O,0):re,he(pe)?(oe="",Ae!=null&&(oe=Ae.replace(k,"$&/")+"/"),ut(pe,ee,oe,"",function(Jn){return Jn})):pe!=null&&(R(pe)&&(pe=w(pe,oe+(pe.key==null||O&&O.key===pe.key?"":(""+pe.key).replace(k,"$&/")+"/")+Ae)),ee.push(pe)),1;Ae=0;var Nt=re===""?".":re+":";if(he(O))for(var et=0;et<O.length;et++)re=O[et],Oe=Nt+U(re,et),Ae+=ut(re,ee,oe,Oe,pe);else if(et=b(O),typeof et=="function")for(O=et.call(O),et=0;!(re=O.next()).done;)re=re.value,Oe=Nt+U(re,et++),Ae+=ut(re,ee,oe,Oe,pe);else if(Oe==="object"){if(typeof O.then=="function")return ut(Bt(O),ee,oe,re,pe);throw ee=String(O),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function $(O,ee,oe){if(O==null)return O;var re=[],pe=0;return ut(O,re,"","",function(Oe){return ee.call(oe,Oe,pe++)}),re}function ae(O){if(O._status===-1){var ee=O._result;ee=ee(),ee.then(function(oe){(O._status===0||O._status===-1)&&(O._status=1,O._result=oe)},function(oe){(O._status===0||O._status===-1)&&(O._status=2,O._result=oe)}),O._status===-1&&(O._status=0,O._result=ee)}if(O._status===1)return O._result.default;throw O._result}var me=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function He(){}return Ce.Children={map:$,forEach:function(O,ee,oe){$(O,function(){ee.apply(this,arguments)},oe)},count:function(O){var ee=0;return $(O,function(){ee++}),ee},toArray:function(O){return $(O,function(ee){return ee})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ce.Component=D,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=ie,Ce.StrictMode=s,Ce.Suspense=g,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(O){return le.H.useMemoCache(O)}},Ce.cache=function(O){return function(){return O.apply(null,arguments)}},Ce.cloneElement=function(O,ee,oe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=V({},O.props),pe=O.key,Oe=void 0;if(ee!=null)for(Ae in ee.ref!==void 0&&(Oe=void 0),ee.key!==void 0&&(pe=""+ee.key),ee)!Te.call(ee,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ee.ref===void 0||(re[Ae]=ee[Ae]);var Ae=arguments.length-2;if(Ae===1)re.children=oe;else if(1<Ae){for(var Nt=Array(Ae),et=0;et<Ae;et++)Nt[et]=arguments[et+2];re.children=Nt}return M(O.type,pe,void 0,void 0,Oe,re)},Ce.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ce.createElement=function(O,ee,oe){var re,pe={},Oe=null;if(ee!=null)for(re in ee.key!==void 0&&(Oe=""+ee.key),ee)Te.call(ee,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(pe[re]=ee[re]);var Ae=arguments.length-2;if(Ae===1)pe.children=oe;else if(1<Ae){for(var Nt=Array(Ae),et=0;et<Ae;et++)Nt[et]=arguments[et+2];pe.children=Nt}if(O&&O.defaultProps)for(re in Ae=O.defaultProps,Ae)pe[re]===void 0&&(pe[re]=Ae[re]);return M(O,Oe,void 0,void 0,null,pe)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(O){return{$$typeof:m,render:O}},Ce.isValidElement=R,Ce.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:ae}},Ce.memo=function(O,ee){return{$$typeof:p,type:O,compare:ee===void 0?null:ee}},Ce.startTransition=function(O){var ee=le.T,oe={};le.T=oe;try{var re=O(),pe=le.S;pe!==null&&pe(oe,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(He,me)}catch(Oe){me(Oe)}finally{le.T=ee}},Ce.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Ce.use=function(O){return le.H.use(O)},Ce.useActionState=function(O,ee,oe){return le.H.useActionState(O,ee,oe)},Ce.useCallback=function(O,ee){return le.H.useCallback(O,ee)},Ce.useContext=function(O){return le.H.useContext(O)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(O,ee){return le.H.useDeferredValue(O,ee)},Ce.useEffect=function(O,ee,oe){var re=le.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(O,ee)},Ce.useId=function(){return le.H.useId()},Ce.useImperativeHandle=function(O,ee,oe){return le.H.useImperativeHandle(O,ee,oe)},Ce.useInsertionEffect=function(O,ee){return le.H.useInsertionEffect(O,ee)},Ce.useLayoutEffect=function(O,ee){return le.H.useLayoutEffect(O,ee)},Ce.useMemo=function(O,ee){return le.H.useMemo(O,ee)},Ce.useOptimistic=function(O,ee){return le.H.useOptimistic(O,ee)},Ce.useReducer=function(O,ee,oe){return le.H.useReducer(O,ee,oe)},Ce.useRef=function(O){return le.H.useRef(O)},Ce.useState=function(O){return le.H.useState(O)},Ce.useSyncExternalStore=function(O,ee,oe){return le.H.useSyncExternalStore(O,ee,oe)},Ce.useTransition=function(){return le.H.useTransition()},Ce.version="19.1.0",Ce}var Uv;function Sp(){return Uv||(Uv=1,Tm.exports=bw()),Tm.exports}var Y=Sp(),Sm={exports:{}},xl={},Am={exports:{}},bm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function ww(){return Bv||(Bv=1,function(i){function e($,ae){var me=$.length;$.push(ae);e:for(;0<me;){var He=me-1>>>1,O=$[He];if(0<o(O,ae))$[He]=ae,$[me]=O,me=He;else break e}}function t($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ae=$[0],me=$.pop();if(me!==ae){$[0]=me;e:for(var He=0,O=$.length,ee=O>>>1;He<ee;){var oe=2*(He+1)-1,re=$[oe],pe=oe+1,Oe=$[pe];if(0>o(re,me))pe<O&&0>o(Oe,re)?($[He]=Oe,$[pe]=me,He=pe):($[He]=re,$[oe]=me,He=oe);else if(pe<O&&0>o(Oe,me))$[He]=Oe,$[pe]=me,He=pe;else break e}}return ae}function o($,ae){var me=$.sortIndex-ae.sortIndex;return me!==0?me:$.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],p=[],v=1,S=null,b=3,x=!1,V=!1,q=!1,D=!1,K=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function he($){for(var ae=t(p);ae!==null;){if(ae.callback===null)s(p);else if(ae.startTime<=$)s(p),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=t(p)}}function le($){if(q=!1,he($),!V)if(t(g)!==null)V=!0,Te||(Te=!0,U());else{var ae=t(p);ae!==null&&ut(le,ae.startTime-$)}}var Te=!1,M=-1,w=5,R=-1;function P(){return D?!0:!(i.unstable_now()-R<w)}function k(){if(D=!1,Te){var $=i.unstable_now();R=$;var ae=!0;try{e:{V=!1,q&&(q=!1,ie(M),M=-1),x=!0;var me=b;try{t:{for(he($),S=t(g);S!==null&&!(S.expirationTime>$&&P());){var He=S.callback;if(typeof He=="function"){S.callback=null,b=S.priorityLevel;var O=He(S.expirationTime<=$);if($=i.unstable_now(),typeof O=="function"){S.callback=O,he($),ae=!0;break t}S===t(g)&&s(g),he($)}else s(g);S=t(g)}if(S!==null)ae=!0;else{var ee=t(p);ee!==null&&ut(le,ee.startTime-$),ae=!1}}break e}finally{S=null,b=me,x=!1}ae=void 0}}finally{ae?U():Te=!1}}}var U;if(typeof te=="function")U=function(){te(k)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Bt=I.port2;I.port1.onmessage=k,U=function(){Bt.postMessage(null)}}else U=function(){K(k,0)};function ut($,ae){M=K(function(){$(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function($){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var me=b;b=ae;try{return $()}finally{b=me}},i.unstable_requestPaint=function(){D=!0},i.unstable_runWithPriority=function($,ae){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var me=b;b=$;try{return ae()}finally{b=me}},i.unstable_scheduleCallback=function($,ae,me){var He=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?He+me:He):me=He,$){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=me+O,$={id:v++,callback:ae,priorityLevel:$,startTime:me,expirationTime:O,sortIndex:-1},me>He?($.sortIndex=me,e(p,$),t(g)===null&&$===t(p)&&(q?(ie(M),M=-1):q=!0,ut(le,me-He))):($.sortIndex=O,e(g,$),V||x||(V=!0,Te||(Te=!0,U()))),$},i.unstable_shouldYield=P,i.unstable_wrapCallback=function($){var ae=b;return function(){var me=b;b=ae;try{return $.apply(this,arguments)}finally{b=me}}}}(bm)),bm}var zv;function Rw(){return zv||(zv=1,Am.exports=ww()),Am.exports}var wm={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function Cw(){if(qv)return Xt;qv=1;var i=Sp();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:p,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,v)},Xt.flushSync=function(g){var p=h.T,v=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=p,s.p=v,s.d.f()}},Xt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Xt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Xt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,S=m(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:x}):v==="script"&&s.d.X(g,{crossOrigin:S,integrity:b,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Xt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Xt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,S=m(v,p.crossOrigin);s.d.L(g,v,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Xt.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Xt.requestFormReset=function(g){s.d.r(g)},Xt.unstable_batchedUpdates=function(g,p){return g(p)},Xt.useFormState=function(g,p,v){return h.H.useFormState(g,p,v)},Xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Xt.version="19.1.0",Xt}var Hv;function Iw(){if(Hv)return wm.exports;Hv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),wm.exports=Cw(),wm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function Ow(){if(jv)return xl;jv=1;var i=Rw(),e=Sp(),t=Iw();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function g(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===l)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,T=f.child;T;){if(T===a){E=!0,a=f,l=d;break}if(T===l){E=!0,l=f,a=d;break}T=T.sibling}if(!E){for(T=d.child;T;){if(T===a){E=!0,a=d,l=f;break}if(T===l){E=!0,l=d,a=f;break}T=T.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function p(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=p(n),r!==null)return r;n=n.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),ie=Symbol.for("react.consumer"),te=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function Bt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case V:return"Fragment";case D:return"Profiler";case q:return"StrictMode";case le:return"Suspense";case Te:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case te:return(n.displayName||"Context")+".Provider";case ie:return(n._context.displayName||"Context")+".Consumer";case he:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return r=n.displayName||null,r!==null?r:Bt(n.type)||"Memo";case w:r=n._payload,n=n._init;try{return Bt(n(r))}catch{}}return null}var ut=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},He=[],O=-1;function ee(n){return{current:n}}function oe(n){0>O||(n.current=He[O],He[O]=null,O--)}function re(n,r){O++,He[O]=n.current,n.current=r}var pe=ee(null),Oe=ee(null),Ae=ee(null),Nt=ee(null);function et(n,r){switch(re(Ae,r),re(Oe,n),re(pe,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?uv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=uv(r),n=cv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}oe(pe),re(pe,n)}function Jn(){oe(pe),oe(Oe),oe(Ae)}function hr(n){n.memoizedState!==null&&re(Nt,n);var r=pe.current,a=cv(r,n.type);r!==a&&(re(Oe,n),re(pe,a))}function Di(n){Oe.current===n&&(oe(pe),oe(Oe)),Nt.current===n&&(oe(Nt),Dl._currentValue=me)}var as=Object.prototype.hasOwnProperty,os=i.unstable_scheduleCallback,ls=i.unstable_cancelCallback,Co=i.unstable_shouldYield,Cu=i.unstable_requestPaint,Sn=i.unstable_now,Ef=i.unstable_getCurrentPriorityLevel,Io=i.unstable_ImmediatePriority,oa=i.unstable_UserBlockingPriority,us=i.unstable_NormalPriority,Tf=i.unstable_LowPriority,la=i.unstable_IdlePriority,Oo=i.log,Iu=i.unstable_setDisableYieldValue,ct=null,Ke=null;function dn(n){if(typeof Oo=="function"&&Iu(n),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(ct,n)}catch{}}var Yt=Math.clz32?Math.clz32:cs,Ou=Math.log,Sf=Math.LN2;function cs(n){return n>>>=0,n===0?32:31-(Ou(n)/Sf|0)|0}var hs=256,fs=4194304;function Bn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ua(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=Bn(l):(E&=T,E!==0?f=Bn(E):a||(a=T&~n,a!==0&&(f=Bn(a))))):(T=l&~d,T!==0?f=Bn(T):E!==0?f=Bn(E):a||(a=l&~n,a!==0&&(f=Bn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function ds(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Do(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function No(){var n=hs;return hs<<=1,(hs&4194048)===0&&(hs=256),n}function Mo(){var n=fs;return fs<<=1,(fs&62914560)===0&&(fs=4194304),n}function Ni(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Mi(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Po(n,r,a,l,f,d){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,C=n.expirationTimes,H=n.hiddenUpdates;for(a=E&~a;0<a;){var X=31-Yt(a),J=1<<X;T[X]=0,C[X]=-1;var j=H[X];if(j!==null)for(H[X]=null,X=0;X<j.length;X++){var F=j[X];F!==null&&(F.lane&=-536870913)}a&=~J}l!==0&&Zn(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(E&~r))}function Zn(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-Yt(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Vo(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-Yt(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function fr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ca(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function dr(){var n=ae.p;return n!==0?n:(n=window.event,n===void 0?32:Ov(n.type))}function Du(n,r){var a=ae.p;try{return ae.p=n,r()}finally{ae.p=a}}var it=Math.random().toString(36).slice(2),bt="__reactFiber$"+it,_t="__reactProps$"+it,An="__reactContainer$"+it,ko="__reactEvents$"+it,Af="__reactListeners$"+it,mr="__reactHandles$"+it,Nu="__reactResources$"+it,ms="__reactMarker$"+it;function pr(n){delete n[bt],delete n[_t],delete n[ko],delete n[Af],delete n[mr]}function Pi(n){var r=n[bt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[An]||a[bt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=mv(n);n!==null;){if(a=n[bt])return a;n=mv(n)}return r}n=a,a=n.parentNode}return null}function ei(n){if(n=n[bt]||n[An]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function ti(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function nn(n){var r=n[Nu];return r||(r=n[Nu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function dt(n){n[ms]=!0}var xo=new Set,ha={};function zn(n,r){Vi(n,r),Vi(n+"Capture",r)}function Vi(n,r){for(ha[n]=r,n=0;n<r.length;n++)xo.add(r[n])}var Mu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pu={},ps={};function Vu(n){return as.call(ps,n)?!0:as.call(Pu,n)?!1:Mu.test(n)?ps[n]=!0:(Pu[n]=!0,!1)}function gr(n,r,a){if(Vu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function ni(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function zt(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var gs,ku;function ki(n){if(gs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);gs=r&&r[1]||"",ku=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gs+n+ku}var fa=!1;function da(n,r){if(!n||fa)return"";fa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(F){var j=F}Reflect.construct(n,[],J)}else{try{J.call()}catch(F){j=F}n.call(J.prototype)}}else{try{throw Error()}catch(F){j=F}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(F){if(F&&j&&typeof F.stack=="string")return[F.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],T=d[1];if(E&&T){var C=E.split(`
`),H=T.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===H.length)for(l=C.length-1,f=H.length-1;1<=l&&0<=f&&C[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==H[f]){var X=`
`+C[l].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=l&&0<=f);break}}}finally{fa=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?ki(a):""}function Lo(n){switch(n.tag){case 26:case 27:case 5:return ki(n.type);case 16:return ki("Lazy");case 13:return ki("Suspense");case 19:return ki("SuspenseList");case 0:case 15:return da(n.type,!1);case 11:return da(n.type.render,!1);case 1:return da(n.type,!0);case 31:return ki("Activity");default:return""}}function ma(n){try{var r="";do r+=Lo(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function rn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Uo(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function bf(n){var r=Uo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function pa(n){n._valueTracker||(n._valueTracker=bf(n))}function Bo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Uo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function ys(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var wf=/[\n"\\]/g;function vt(n){return n.replace(wf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function mn(n,r,a,l,f,d,E,T){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+rn(r)):n.value!==""+rn(r)&&(n.value=""+rn(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?yr(n,E,rn(r)):a!=null?yr(n,E,rn(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+rn(T):n.removeAttribute("name")}function _s(n,r,a,l,f,d,E,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+rn(a):"",r=r!=null?""+rn(r):a,T||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function yr(n,r,a){r==="number"&&ys(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function xi(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+rn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function $e(n,r,a){if(r!=null&&(r=""+rn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+rn(a):""}function vs(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ut(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=rn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function bn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Es=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xu(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Es.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function zo(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&xu(n,f,l)}else for(var d in r)r.hasOwnProperty(d)&&xu(n,d,r[d])}function qo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(n){return Cf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Li=null;function wn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ui=null,Bi=null;function Ho(n){var r=ei(n);if(r&&(n=r.stateNode)){var a=n[_t]||null;e:switch(n=r.stateNode,r.type){case"input":if(mn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[_t]||null;if(!f)throw Error(s(90));mn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Bo(l)}break e;case"textarea":$e(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&xi(n,!!a.multiple,r,!1)}}}var ii=!1;function Lu(n,r,a){if(ii)return n(r,a);ii=!0;try{var l=n(r);return l}finally{if(ii=!1,(Ui!==null||Bi!==null)&&(Dc(),Ui&&(r=Ui,n=Bi,Bi=Ui=null,Ho(r),n)))for(r=0;r<n.length;r++)Ho(n[r])}}function Ts(n,r){var a=n.stateNode;if(a===null)return null;var l=a[_t]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rn=!1;if(qn)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{Rn=!1}var ri=null,_r=null,zi=null;function jo(){if(zi)return zi;var n,r=_r,a=r.length,l,f="value"in ri?ri.value:ri.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var E=a-n;for(l=1;l<=E&&r[a-l]===f[d-l];l++);return zi=f.slice(n,1<l?1-l:void 0)}function si(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function ai(){return!0}function Fo(){return!1}function Mt(n){function r(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ai:Fo,this.isPropagationStopped=Fo,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),r}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ya=Mt(Fe),As=v({},Fe,{view:0,detail:0}),Uu=Mt(As),_a,va,oi,bs=v({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==oi&&(oi&&n.type==="mousemove"?(_a=n.screenX-oi.screenX,va=n.screenY-oi.screenY):va=_a=0,oi=n),_a)},movementY:function(n){return"movementY"in n?n.movementY:va}}),Cn=Mt(bs),Bu=v({},bs,{dataTransfer:0}),If=Mt(Bu),ws=v({},As,{relatedTarget:0}),Ea=Mt(ws),Go=v({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ta=Mt(Go),zu=v({},Fe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Sa=Mt(zu),Of=v({},Fe,{data:0}),Ko=Mt(Of),Rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qo(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Hu[n])?!!r[n]:!1}function Cs(){return Qo}var ju=v({},As,{key:function(n){if(n.key){var r=Rs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=si(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?qu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(n){return n.type==="keypress"?si(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?si(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Aa=Mt(ju),Fu=v({},bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yo=Mt(Fu),qi=v({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),Gu=Mt(qi),Ku=v({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qu=Mt(Ku),Yu=v({},bs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ba=Mt(Yu),sn=v({},Fe,{newState:0,oldState:0}),$u=Mt(sn),Xu=[9,13,27,32],li=qn&&"CompositionEvent"in window,c=null;qn&&"documentMode"in document&&(c=document.documentMode);var y=qn&&"TextEvent"in window&&!c,_=qn&&(!li||c&&8<c&&11>=c),A=" ",B=!1;function G(n,r){switch(n){case"keyup":return Xu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var xe=!1;function wt(n,r){switch(n){case"compositionend":return se(r);case"keypress":return r.which!==32?null:(B=!0,A);case"textInput":return n=r.data,n===A&&B?null:n;default:return null}}function Le(n,r){if(xe)return n==="compositionend"||!li&&G(n,r)?(n=jo(),zi=_r=ri=null,xe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Pt[n.type]:r==="textarea"}function Hi(n,r,a,l){Ui?Bi?Bi.push(l):Bi=[l]:Ui=l,r=xc(r,"onChange"),0<r.length&&(a=new ya("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var qt=null,ui=null;function $o(n){rv(n,0)}function Wu(n){var r=ti(n);if(Bo(r))return n}function wg(n,r){if(n==="change")return r}var Rg=!1;if(qn){var Df;if(qn){var Nf="oninput"in document;if(!Nf){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),Nf=typeof Cg.oninput=="function"}Df=Nf}else Df=!1;Rg=Df&&(!document.documentMode||9<document.documentMode)}function Ig(){qt&&(qt.detachEvent("onpropertychange",Og),ui=qt=null)}function Og(n){if(n.propertyName==="value"&&Wu(ui)){var r=[];Hi(r,ui,n,wn(n)),Lu($o,r)}}function JA(n,r,a){n==="focusin"?(Ig(),qt=r,ui=a,qt.attachEvent("onpropertychange",Og)):n==="focusout"&&Ig()}function ZA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Wu(ui)}function eb(n,r){if(n==="click")return Wu(r)}function tb(n,r){if(n==="input"||n==="change")return Wu(r)}function nb(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var pn=typeof Object.is=="function"?Object.is:nb;function Xo(n,r){if(pn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!as.call(r,f)||!pn(n[f],r[f]))return!1}return!0}function Dg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ng(n,r){var a=Dg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Dg(a)}}function Mg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Mg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Pg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=ys(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=ys(n.document)}return r}function Mf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var ib=qn&&"documentMode"in document&&11>=document.documentMode,wa=null,Pf=null,Wo=null,Vf=!1;function Vg(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vf||wa==null||wa!==ys(l)||(l=wa,"selectionStart"in l&&Mf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wo&&Xo(Wo,l)||(Wo=l,l=xc(Pf,"onSelect"),0<l.length&&(r=new ya("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=wa)))}function Is(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ra={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},kf={},kg={};qn&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function Os(n){if(kf[n])return kf[n];if(!Ra[n])return n;var r=Ra[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in kg)return kf[n]=r[a];return n}var xg=Os("animationend"),Lg=Os("animationiteration"),Ug=Os("animationstart"),rb=Os("transitionrun"),sb=Os("transitionstart"),ab=Os("transitioncancel"),Bg=Os("transitionend"),zg=new Map,xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xf.push("scrollEnd");function Hn(n,r){zg.set(n,r),zn(r,[n])}var qg=new WeakMap;function In(n,r){if(typeof n=="object"&&n!==null){var a=qg.get(n);return a!==void 0?a:(r={value:n,source:r,stack:ma(r)},qg.set(n,r),r)}return{value:n,source:r,stack:ma(r)}}var On=[],Ca=0,Lf=0;function Ju(){for(var n=Ca,r=Lf=Ca=0;r<n;){var a=On[r];On[r++]=null;var l=On[r];On[r++]=null;var f=On[r];On[r++]=null;var d=On[r];if(On[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&Hg(a,f,d)}}function Zu(n,r,a,l){On[Ca++]=n,On[Ca++]=r,On[Ca++]=a,On[Ca++]=l,Lf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Uf(n,r,a,l){return Zu(n,r,a,l),ec(n)}function Ia(n,r){return Zu(n,null,null,r),ec(n)}function Hg(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-Yt(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function ec(n){if(50<Sl)throw Sl=0,Fd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Oa={};function ob(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(n,r,a,l){return new ob(n,r,a,l)}function Bf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ji(n,r){var a=n.alternate;return a===null?(a=gn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function jg(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function tc(n,r,a,l,f,d){var E=0;if(l=n,typeof n=="function")Bf(n)&&(E=1);else if(typeof n=="string")E=uw(n,a,pe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=gn(31,a,r,f),n.elementType=R,n.lanes=d,n;case V:return Ds(a.children,f,d,r);case q:E=8,f|=24;break;case D:return n=gn(12,a,r,f|2),n.elementType=D,n.lanes=d,n;case le:return n=gn(13,a,r,f),n.elementType=le,n.lanes=d,n;case Te:return n=gn(19,a,r,f),n.elementType=Te,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case K:case te:E=10;break e;case ie:E=9;break e;case he:E=11;break e;case M:E=14;break e;case w:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=gn(E,a,r,f),r.elementType=n,r.type=l,r.lanes=d,r}function Ds(n,r,a,l){return n=gn(7,n,l,r),n.lanes=a,n}function zf(n,r,a){return n=gn(6,n,null,r),n.lanes=a,n}function qf(n,r,a){return r=gn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Da=[],Na=0,nc=null,ic=0,Dn=[],Nn=0,Ns=null,Fi=1,Gi="";function Ms(n,r){Da[Na++]=ic,Da[Na++]=nc,nc=n,ic=r}function Fg(n,r,a){Dn[Nn++]=Fi,Dn[Nn++]=Gi,Dn[Nn++]=Ns,Ns=n;var l=Fi;n=Gi;var f=32-Yt(l)-1;l&=~(1<<f),a+=1;var d=32-Yt(r)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Fi=1<<32-Yt(r)+f|a<<f|l,Gi=d+n}else Fi=1<<d|a<<f|l,Gi=n}function Hf(n){n.return!==null&&(Ms(n,1),Fg(n,1,0))}function jf(n){for(;n===nc;)nc=Da[--Na],Da[Na]=null,ic=Da[--Na],Da[Na]=null;for(;n===Ns;)Ns=Dn[--Nn],Dn[Nn]=null,Gi=Dn[--Nn],Dn[Nn]=null,Fi=Dn[--Nn],Dn[Nn]=null}var an=null,ht=null,je=!1,Ps=null,ci=!1,Ff=Error(s(519));function Vs(n){var r=Error(s(418,""));throw el(In(r,n)),Ff}function Gg(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[bt]=n,r[_t]=l,a){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(a=0;a<bl.length;a++)Me(bl[a],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),_s(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),pa(r);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),vs(r,l.value,l.defaultValue,l.children),pa(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||lv(r.textContent,a)?(l.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),l.onScroll!=null&&Me("scroll",r),l.onScrollEnd!=null&&Me("scrollend",r),l.onClick!=null&&(r.onclick=Lc),r=!0):r=!1,r||Vs(n)}function Kg(n){for(an=n.return;an;)switch(an.tag){case 5:case 13:ci=!1;return;case 27:case 3:ci=!0;return;default:an=an.return}}function Jo(n){if(n!==an)return!1;if(!je)return Kg(n),je=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||am(n.type,n.memoizedProps)),a=!a),a&&ht&&Vs(n),Kg(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){ht=Fn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}ht=null}}else r===27?(r=ht,Vr(n.type)?(n=cm,cm=null,ht=n):ht=r):ht=an?Fn(n.stateNode.nextSibling):null;return!0}function Zo(){ht=an=null,je=!1}function Qg(){var n=Ps;return n!==null&&(un===null?un=n:un.push.apply(un,n),Ps=null),n}function el(n){Ps===null?Ps=[n]:Ps.push(n)}var Gf=ee(null),ks=null,Ki=null;function vr(n,r,a){re(Gf,r._currentValue),r._currentValue=a}function Qi(n){n._currentValue=Gf.current,oe(Gf)}function Kf(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function Qf(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var C=0;C<r.length;C++)if(T.context===r[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Kf(d.return,a,n),l||(E=null);break e}d=T.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Kf(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function tl(n,r,a,l){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var T=f.type;pn(f.pendingProps.value,E.value)||(n!==null?n.push(T):n=[T])}}else if(f===Nt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Dl):n=[Dl])}f=f.return}n!==null&&Qf(r,n,a,l),r.flags|=262144}function rc(n){for(n=n.firstContext;n!==null;){if(!pn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function xs(n){ks=n,Ki=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function $t(n){return Yg(ks,n)}function sc(n,r){return ks===null&&xs(n),Yg(n,r)}function Yg(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Ki===null){if(n===null)throw Error(s(308));Ki=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Ki=Ki.next=r;return a}var lb=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},ub=i.unstable_scheduleCallback,cb=i.unstable_NormalPriority,Ct={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yf(){return{controller:new lb,data:new Map,refCount:0}}function nl(n){n.refCount--,n.refCount===0&&ub(cb,function(){n.controller.abort()})}var il=null,$f=0,Ma=0,Pa=null;function hb(n,r){if(il===null){var a=il=[];$f=0,Ma=Wd(),Pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return $f++,r.then($g,$g),r}function $g(){if(--$f===0&&il!==null){Pa!==null&&(Pa.status="fulfilled");var n=il;il=null,Ma=0,Pa=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function fb(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Xg=$.S;$.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&hb(n,r),Xg!==null&&Xg(n,r)};var Ls=ee(null);function Xf(){var n=Ls.current;return n!==null?n:tt.pooledCache}function ac(n,r){r===null?re(Ls,Ls.current):re(Ls,r.pool)}function Wg(){var n=Xf();return n===null?null:{parent:Ct._currentValue,pool:n}}var rl=Error(s(460)),Jg=Error(s(474)),oc=Error(s(542)),Wf={then:function(){}};function Zg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function lc(){}function ey(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(lc,lc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,ny(n),n;default:if(typeof r.status=="string")r.then(lc,lc);else{if(n=tt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,ny(n),n}throw sl=r,rl}}var sl=null;function ty(){if(sl===null)throw Error(s(459));var n=sl;return sl=null,n}function ny(n){if(n===rl||n===oc)throw Error(s(483))}var Er=!1;function Jf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zf(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Tr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Sr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=ec(n),Hg(n,null,a),r}return Zu(n,l,r,a),ec(n)}function al(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Vo(n,a)}}function ed(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var td=!1;function ol(){if(td){var n=Pa;if(n!==null)throw n}}function ll(n,r,a,l){td=!1;var f=n.updateQueue;Er=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var C=T,H=C.next;C.next=null,E===null?d=H:E.next=H,E=C;var X=n.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==E&&(T===null?X.firstBaseUpdate=H:T.next=H,X.lastBaseUpdate=C))}if(d!==null){var J=f.baseState;E=0,X=H=C=null,T=d;do{var j=T.lane&-536870913,F=j!==T.lane;if(F?(Ue&j)===j:(l&j)===j){j!==0&&j===Ma&&(td=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Se=n,ye=T;j=r;var Je=a;switch(ye.tag){case 1:if(Se=ye.payload,typeof Se=="function"){J=Se.call(Je,J,j);break e}J=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=ye.payload,j=typeof Se=="function"?Se.call(Je,J,j):Se,j==null)break e;J=v({},J,j);break e;case 2:Er=!0}}j=T.callback,j!==null&&(n.flags|=64,F&&(n.flags|=8192),F=f.callbacks,F===null?f.callbacks=[j]:F.push(j))}else F={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(H=X=F,C=J):X=X.next=F,E|=j;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;F=T,T=F.next,F.next=null,f.lastBaseUpdate=F,f.shared.pending=null}}while(!0);X===null&&(C=J),f.baseState=C,f.firstBaseUpdate=H,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),Dr|=E,n.lanes=E,n.memoizedState=J}}function iy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function ry(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)iy(a[n],r)}var Va=ee(null),uc=ee(0);function sy(n,r){n=er,re(uc,n),re(Va,r),er=n|r.baseLanes}function nd(){re(uc,er),re(Va,Va.current)}function id(){er=uc.current,oe(Va),oe(uc)}var Ar=0,Ie=null,Xe=null,Et=null,cc=!1,ka=!1,Us=!1,hc=0,ul=0,xa=null,db=0;function mt(){throw Error(s(321))}function rd(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!pn(n[a],r[a]))return!1;return!0}function sd(n,r,a,l,f,d){return Ar=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=n===null||n.memoizedState===null?Hy:jy,Us=!1,d=a(l,f),Us=!1,ka&&(d=oy(r,a,l,f)),ay(n),d}function ay(n){$.H=yc;var r=Xe!==null&&Xe.next!==null;if(Ar=0,Et=Xe=Ie=null,cc=!1,ul=0,xa=null,r)throw Error(s(300));n===null||Vt||(n=n.dependencies,n!==null&&rc(n)&&(Vt=!0))}function oy(n,r,a,l){Ie=n;var f=0;do{if(ka&&(xa=null),ul=0,ka=!1,25<=f)throw Error(s(301));if(f+=1,Et=Xe=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=Eb,d=r(a,l)}while(ka);return d}function mb(){var n=$.H,r=n.useState()[0];return r=typeof r.then=="function"?cl(r):r,n=n.useState()[0],(Xe!==null?Xe.memoizedState:null)!==n&&(Ie.flags|=1024),r}function ad(){var n=hc!==0;return hc=0,n}function od(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function ld(n){if(cc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}cc=!1}Ar=0,Et=Xe=Ie=null,ka=!1,ul=hc=0,xa=null}function on(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ie.memoizedState=Et=n:Et=Et.next=n,Et}function Tt(){if(Xe===null){var n=Ie.alternate;n=n!==null?n.memoizedState:null}else n=Xe.next;var r=Et===null?Ie.memoizedState:Et.next;if(r!==null)Et=r,Xe=n;else{if(n===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Xe=n,n={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Et===null?Ie.memoizedState=Et=n:Et=Et.next=n}return Et}function ud(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(n){var r=ul;return ul+=1,xa===null&&(xa=[]),n=ey(xa,n,r),r=Ie,(Et===null?r.memoizedState:Et.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?Hy:jy),n}function fc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return cl(n);if(n.$$typeof===te)return $t(n)}throw Error(s(438,String(n)))}function cd(n){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=ud(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=P;return r.index++,a}function Yi(n,r){return typeof r=="function"?r(n):r}function dc(n){var r=Tt();return hd(r,Xe,n)}function hd(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}r.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var T=E=null,C=null,H=r,X=!1;do{var J=H.lane&-536870913;if(J!==H.lane?(Ue&J)===J:(Ar&J)===J){var j=H.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),J===Ma&&(X=!0);else if((Ar&j)===j){H=H.next,j===Ma&&(X=!0);continue}else J={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(T=C=J,E=d):C=C.next=J,Ie.lanes|=j,Dr|=j;J=H.action,Us&&a(d,J),d=H.hasEagerState?H.eagerState:a(d,J)}else j={lane:J,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(T=C=j,E=d):C=C.next=j,Ie.lanes|=J,Dr|=J;H=H.next}while(H!==null&&H!==r);if(C===null?E=d:C.next=T,!pn(d,n.memoizedState)&&(Vt=!0,X&&(a=Pa,a!==null)))throw a;n.memoizedState=d,n.baseState=E,n.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function fd(n){var r=Tt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=n(d,E.action),E=E.next;while(E!==f);pn(d,r.memoizedState)||(Vt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function ly(n,r,a){var l=Ie,f=Tt(),d=je;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!pn((Xe||f).memoizedState,a);E&&(f.memoizedState=a,Vt=!0),f=f.queue;var T=hy.bind(null,l,f,n);if(hl(2048,8,T,[n]),f.getSnapshot!==r||E||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,La(9,mc(),cy.bind(null,l,f,a,r),null),tt===null)throw Error(s(349));d||(Ar&124)!==0||uy(l,r,a)}return a}function uy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=ud(),Ie.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function cy(n,r,a,l){r.value=a,r.getSnapshot=l,fy(r)&&dy(n)}function hy(n,r,a){return a(function(){fy(r)&&dy(n)})}function fy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!pn(n,a)}catch{return!0}}function dy(n){var r=Ia(n,2);r!==null&&Tn(r,n,2)}function dd(n){var r=on();if(typeof n=="function"){var a=n;if(n=a(),Us){dn(!0);try{a()}finally{dn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:n},r}function my(n,r,a,l){return n.baseState=a,hd(n,Xe,typeof l=="function"?l:Yi)}function pb(n,r,a,l,f){if(gc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,py(r,d)):(d.next=a.next,r.pending=a.next=d)}}function py(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var d=$.T,E={};$.T=E;try{var T=a(f,l),C=$.S;C!==null&&C(E,T),gy(n,r,T)}catch(H){md(n,r,H)}finally{$.T=d}}else try{d=a(f,l),gy(n,r,d)}catch(H){md(n,r,H)}}function gy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){yy(n,r,l)},function(l){return md(n,r,l)}):yy(n,r,a)}function yy(n,r,a){r.status="fulfilled",r.value=a,_y(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,py(n,a)))}function md(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,_y(r),r=r.next;while(r!==l)}n.action=null}function _y(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function vy(n,r){return r}function Ey(n,r){if(je){var a=tt.formState;if(a!==null){e:{var l=Ie;if(je){if(ht){t:{for(var f=ht,d=ci;f.nodeType!==8;){if(!d){f=null;break t}if(f=Fn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ht=Fn(f.nextSibling),l=f.data==="F!";break e}}Vs(l)}l=!1}l&&(r=a[0])}}return a=on(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vy,lastRenderedState:r},a.queue=l,a=By.bind(null,Ie,l),l.dispatch=a,l=dd(!1),d=vd.bind(null,Ie,!1,l.queue),l=on(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=pb.bind(null,Ie,f,d,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function Ty(n){var r=Tt();return Sy(r,Xe,n)}function Sy(n,r,a){if(r=hd(n,r,vy)[0],n=dc(Yi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=cl(r)}catch(E){throw E===rl?oc:E}else l=r;r=Tt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,La(9,mc(),gb.bind(null,f,a),null)),[l,d,n]}function gb(n,r){n.action=r}function Ay(n){var r=Tt(),a=Xe;if(a!==null)return Sy(r,a,n);Tt(),r=r.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function La(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=ud(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function mc(){return{destroy:void 0,resource:void 0}}function by(){return Tt().memoizedState}function pc(n,r,a,l){var f=on();l=l===void 0?null:l,Ie.flags|=n,f.memoizedState=La(1|r,mc(),a,l)}function hl(n,r,a,l){var f=Tt();l=l===void 0?null:l;var d=f.memoizedState.inst;Xe!==null&&l!==null&&rd(l,Xe.memoizedState.deps)?f.memoizedState=La(r,d,a,l):(Ie.flags|=n,f.memoizedState=La(1|r,d,a,l))}function wy(n,r){pc(8390656,8,n,r)}function Ry(n,r){hl(2048,8,n,r)}function Cy(n,r){return hl(4,2,n,r)}function Iy(n,r){return hl(4,4,n,r)}function Oy(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Dy(n,r,a){a=a!=null?a.concat([n]):null,hl(4,4,Oy.bind(null,r,n),a)}function pd(){}function Ny(n,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&rd(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function My(n,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&rd(r,l[1]))return l[0];if(l=n(),Us){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[l,r],l}function gd(n,r,a){return a===void 0||(Ar&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=k_(),Ie.lanes|=n,Dr|=n,a)}function Py(n,r,a,l){return pn(a,r)?a:Va.current!==null?(n=gd(n,a,l),pn(n,r)||(Vt=!0),n):(Ar&42)===0?(Vt=!0,n.memoizedState=a):(n=k_(),Ie.lanes|=n,Dr|=n,r)}function Vy(n,r,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var E=$.T,T={};$.T=T,vd(n,!1,r,a);try{var C=f(),H=$.S;if(H!==null&&H(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var X=fb(C,l);fl(n,r,X,En(n))}else fl(n,r,l,En(n))}catch(J){fl(n,r,{then:function(){},status:"rejected",reason:J},En())}finally{ae.p=d,$.T=E}}function yb(){}function yd(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=ky(n).queue;Vy(n,f,r,me,a===null?yb:function(){return xy(n),a(l)})}function ky(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:me},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function xy(n){var r=ky(n).next.queue;fl(n,r,{},En())}function _d(){return $t(Dl)}function Ly(){return Tt().memoizedState}function Uy(){return Tt().memoizedState}function _b(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=En();n=Tr(a);var l=Sr(r,n,a);l!==null&&(Tn(l,r,a),al(l,r,a)),r={cache:Yf()},n.payload=r;return}r=r.return}}function vb(n,r,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},gc(n)?zy(r,a):(a=Uf(n,r,a,l),a!==null&&(Tn(a,n,l),qy(a,r,l)))}function By(n,r,a){var l=En();fl(n,r,a,l)}function fl(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(gc(n))zy(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,T=d(E,a);if(f.hasEagerState=!0,f.eagerState=T,pn(T,E))return Zu(n,r,f,0),tt===null&&Ju(),!1}catch{}finally{}if(a=Uf(n,r,f,l),a!==null)return Tn(a,n,l),qy(a,r,l),!0}return!1}function vd(n,r,a,l){if(l={lane:2,revertLane:Wd(),action:l,hasEagerState:!1,eagerState:null,next:null},gc(n)){if(r)throw Error(s(479))}else r=Uf(n,a,l,2),r!==null&&Tn(r,n,2)}function gc(n){var r=n.alternate;return n===Ie||r!==null&&r===Ie}function zy(n,r){ka=cc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function qy(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Vo(n,a)}}var yc={readContext:$t,use:fc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt},Hy={readContext:$t,use:fc,useCallback:function(n,r){return on().memoizedState=[n,r===void 0?null:r],n},useContext:$t,useEffect:wy,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,pc(4194308,4,Oy.bind(null,r,n),a)},useLayoutEffect:function(n,r){return pc(4194308,4,n,r)},useInsertionEffect:function(n,r){pc(4,2,n,r)},useMemo:function(n,r){var a=on();r=r===void 0?null:r;var l=n();if(Us){dn(!0);try{n()}finally{dn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=on();if(a!==void 0){var f=a(r);if(Us){dn(!0);try{a(r)}finally{dn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=vb.bind(null,Ie,n),[l.memoizedState,n]},useRef:function(n){var r=on();return n={current:n},r.memoizedState=n},useState:function(n){n=dd(n);var r=n.queue,a=By.bind(null,Ie,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:pd,useDeferredValue:function(n,r){var a=on();return gd(a,n,r)},useTransition:function(){var n=dd(!1);return n=Vy.bind(null,Ie,n.queue,!0,!1),on().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Ie,f=on();if(je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),tt===null)throw Error(s(349));(Ue&124)!==0||uy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,wy(hy.bind(null,l,d,n),[n]),l.flags|=2048,La(9,mc(),cy.bind(null,l,d,a,r),null),a},useId:function(){var n=on(),r=tt.identifierPrefix;if(je){var a=Gi,l=Fi;a=(l&~(1<<32-Yt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=hc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=db++,r=""+r+"r"+a.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:_d,useFormState:Ey,useActionState:Ey,useOptimistic:function(n){var r=on();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=vd.bind(null,Ie,!0,a),a.dispatch=r,[n,r]},useMemoCache:cd,useCacheRefresh:function(){return on().memoizedState=_b.bind(null,Ie)}},jy={readContext:$t,use:fc,useCallback:Ny,useContext:$t,useEffect:Ry,useImperativeHandle:Dy,useInsertionEffect:Cy,useLayoutEffect:Iy,useMemo:My,useReducer:dc,useRef:by,useState:function(){return dc(Yi)},useDebugValue:pd,useDeferredValue:function(n,r){var a=Tt();return Py(a,Xe.memoizedState,n,r)},useTransition:function(){var n=dc(Yi)[0],r=Tt().memoizedState;return[typeof n=="boolean"?n:cl(n),r]},useSyncExternalStore:ly,useId:Ly,useHostTransitionStatus:_d,useFormState:Ty,useActionState:Ty,useOptimistic:function(n,r){var a=Tt();return my(a,Xe,n,r)},useMemoCache:cd,useCacheRefresh:Uy},Eb={readContext:$t,use:fc,useCallback:Ny,useContext:$t,useEffect:Ry,useImperativeHandle:Dy,useInsertionEffect:Cy,useLayoutEffect:Iy,useMemo:My,useReducer:fd,useRef:by,useState:function(){return fd(Yi)},useDebugValue:pd,useDeferredValue:function(n,r){var a=Tt();return Xe===null?gd(a,n,r):Py(a,Xe.memoizedState,n,r)},useTransition:function(){var n=fd(Yi)[0],r=Tt().memoizedState;return[typeof n=="boolean"?n:cl(n),r]},useSyncExternalStore:ly,useId:Ly,useHostTransitionStatus:_d,useFormState:Ay,useActionState:Ay,useOptimistic:function(n,r){var a=Tt();return Xe!==null?my(a,Xe,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:cd,useCacheRefresh:Uy},Ua=null,dl=0;function _c(n){var r=dl;return dl+=1,Ua===null&&(Ua=[]),ey(Ua,n,r)}function ml(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function vc(n,r){throw r.$$typeof===S?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Fy(n){var r=n._init;return r(n._payload)}function Gy(n){function r(L,N){if(n){var z=L.deletions;z===null?(L.deletions=[N],L.flags|=16):z.push(N)}}function a(L,N){if(!n)return null;for(;N!==null;)r(L,N),N=N.sibling;return null}function l(L){for(var N=new Map;L!==null;)L.key!==null?N.set(L.key,L):N.set(L.index,L),L=L.sibling;return N}function f(L,N){return L=ji(L,N),L.index=0,L.sibling=null,L}function d(L,N,z){return L.index=z,n?(z=L.alternate,z!==null?(z=z.index,z<N?(L.flags|=67108866,N):z):(L.flags|=67108866,N)):(L.flags|=1048576,N)}function E(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function T(L,N,z,W){return N===null||N.tag!==6?(N=zf(z,L.mode,W),N.return=L,N):(N=f(N,z),N.return=L,N)}function C(L,N,z,W){var ce=z.type;return ce===V?X(L,N,z.props.children,W,z.key):N!==null&&(N.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===w&&Fy(ce)===N.type)?(N=f(N,z.props),ml(N,z),N.return=L,N):(N=tc(z.type,z.key,z.props,null,L.mode,W),ml(N,z),N.return=L,N)}function H(L,N,z,W){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=qf(z,L.mode,W),N.return=L,N):(N=f(N,z.children||[]),N.return=L,N)}function X(L,N,z,W,ce){return N===null||N.tag!==7?(N=Ds(z,L.mode,W,ce),N.return=L,N):(N=f(N,z),N.return=L,N)}function J(L,N,z){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=zf(""+N,L.mode,z),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case b:return z=tc(N.type,N.key,N.props,null,L.mode,z),ml(z,N),z.return=L,z;case x:return N=qf(N,L.mode,z),N.return=L,N;case w:var W=N._init;return N=W(N._payload),J(L,N,z)}if(ut(N)||U(N))return N=Ds(N,L.mode,z,null),N.return=L,N;if(typeof N.then=="function")return J(L,_c(N),z);if(N.$$typeof===te)return J(L,sc(L,N),z);vc(L,N)}return null}function j(L,N,z,W){var ce=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ce!==null?null:T(L,N,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return z.key===ce?C(L,N,z,W):null;case x:return z.key===ce?H(L,N,z,W):null;case w:return ce=z._init,z=ce(z._payload),j(L,N,z,W)}if(ut(z)||U(z))return ce!==null?null:X(L,N,z,W,null);if(typeof z.then=="function")return j(L,N,_c(z),W);if(z.$$typeof===te)return j(L,N,sc(L,z),W);vc(L,z)}return null}function F(L,N,z,W,ce){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get(z)||null,T(N,L,""+W,ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return L=L.get(W.key===null?z:W.key)||null,C(N,L,W,ce);case x:return L=L.get(W.key===null?z:W.key)||null,H(N,L,W,ce);case w:var De=W._init;return W=De(W._payload),F(L,N,z,W,ce)}if(ut(W)||U(W))return L=L.get(z)||null,X(N,L,W,ce,null);if(typeof W.then=="function")return F(L,N,z,_c(W),ce);if(W.$$typeof===te)return F(L,N,z,sc(N,W),ce);vc(N,W)}return null}function Se(L,N,z,W){for(var ce=null,De=null,fe=N,_e=N=0,xt=null;fe!==null&&_e<z.length;_e++){fe.index>_e?(xt=fe,fe=null):xt=fe.sibling;var ze=j(L,fe,z[_e],W);if(ze===null){fe===null&&(fe=xt);break}n&&fe&&ze.alternate===null&&r(L,fe),N=d(ze,N,_e),De===null?ce=ze:De.sibling=ze,De=ze,fe=xt}if(_e===z.length)return a(L,fe),je&&Ms(L,_e),ce;if(fe===null){for(;_e<z.length;_e++)fe=J(L,z[_e],W),fe!==null&&(N=d(fe,N,_e),De===null?ce=fe:De.sibling=fe,De=fe);return je&&Ms(L,_e),ce}for(fe=l(fe);_e<z.length;_e++)xt=F(fe,L,_e,z[_e],W),xt!==null&&(n&&xt.alternate!==null&&fe.delete(xt.key===null?_e:xt.key),N=d(xt,N,_e),De===null?ce=xt:De.sibling=xt,De=xt);return n&&fe.forEach(function(Br){return r(L,Br)}),je&&Ms(L,_e),ce}function ye(L,N,z,W){if(z==null)throw Error(s(151));for(var ce=null,De=null,fe=N,_e=N=0,xt=null,ze=z.next();fe!==null&&!ze.done;_e++,ze=z.next()){fe.index>_e?(xt=fe,fe=null):xt=fe.sibling;var Br=j(L,fe,ze.value,W);if(Br===null){fe===null&&(fe=xt);break}n&&fe&&Br.alternate===null&&r(L,fe),N=d(Br,N,_e),De===null?ce=Br:De.sibling=Br,De=Br,fe=xt}if(ze.done)return a(L,fe),je&&Ms(L,_e),ce;if(fe===null){for(;!ze.done;_e++,ze=z.next())ze=J(L,ze.value,W),ze!==null&&(N=d(ze,N,_e),De===null?ce=ze:De.sibling=ze,De=ze);return je&&Ms(L,_e),ce}for(fe=l(fe);!ze.done;_e++,ze=z.next())ze=F(fe,L,_e,ze.value,W),ze!==null&&(n&&ze.alternate!==null&&fe.delete(ze.key===null?_e:ze.key),N=d(ze,N,_e),De===null?ce=ze:De.sibling=ze,De=ze);return n&&fe.forEach(function(Tw){return r(L,Tw)}),je&&Ms(L,_e),ce}function Je(L,N,z,W){if(typeof z=="object"&&z!==null&&z.type===V&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case b:e:{for(var ce=z.key;N!==null;){if(N.key===ce){if(ce=z.type,ce===V){if(N.tag===7){a(L,N.sibling),W=f(N,z.props.children),W.return=L,L=W;break e}}else if(N.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===w&&Fy(ce)===N.type){a(L,N.sibling),W=f(N,z.props),ml(W,z),W.return=L,L=W;break e}a(L,N);break}else r(L,N);N=N.sibling}z.type===V?(W=Ds(z.props.children,L.mode,W,z.key),W.return=L,L=W):(W=tc(z.type,z.key,z.props,null,L.mode,W),ml(W,z),W.return=L,L=W)}return E(L);case x:e:{for(ce=z.key;N!==null;){if(N.key===ce)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){a(L,N.sibling),W=f(N,z.children||[]),W.return=L,L=W;break e}else{a(L,N);break}else r(L,N);N=N.sibling}W=qf(z,L.mode,W),W.return=L,L=W}return E(L);case w:return ce=z._init,z=ce(z._payload),Je(L,N,z,W)}if(ut(z))return Se(L,N,z,W);if(U(z)){if(ce=U(z),typeof ce!="function")throw Error(s(150));return z=ce.call(z),ye(L,N,z,W)}if(typeof z.then=="function")return Je(L,N,_c(z),W);if(z.$$typeof===te)return Je(L,N,sc(L,z),W);vc(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,N!==null&&N.tag===6?(a(L,N.sibling),W=f(N,z),W.return=L,L=W):(a(L,N),W=zf(z,L.mode,W),W.return=L,L=W),E(L)):a(L,N)}return function(L,N,z,W){try{dl=0;var ce=Je(L,N,z,W);return Ua=null,ce}catch(fe){if(fe===rl||fe===oc)throw fe;var De=gn(29,fe,null,L.mode);return De.lanes=W,De.return=L,De}finally{}}}var Ba=Gy(!0),Ky=Gy(!1),Mn=ee(null),hi=null;function br(n){var r=n.alternate;re(It,It.current&1),re(Mn,n),hi===null&&(r===null||Va.current!==null||r.memoizedState!==null)&&(hi=n)}function Qy(n){if(n.tag===22){if(re(It,It.current),re(Mn,n),hi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(hi=n)}}else wr()}function wr(){re(It,It.current),re(Mn,Mn.current)}function $i(n){oe(Mn),hi===n&&(hi=null),oe(It)}var It=ee(0);function Ec(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||um(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Ed(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:v({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Td={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=En(),f=Tr(l);f.payload=r,a!=null&&(f.callback=a),r=Sr(n,f,l),r!==null&&(Tn(r,n,l),al(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=En(),f=Tr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Sr(n,f,l),r!==null&&(Tn(r,n,l),al(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=En(),l=Tr(a);l.tag=2,r!=null&&(l.callback=r),r=Sr(n,l,a),r!==null&&(Tn(r,n,a),al(r,n,a))}};function Yy(n,r,a,l,f,d,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!Xo(a,l)||!Xo(f,d):!0}function $y(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&Td.enqueueReplaceState(r,r.state,null)}function Bs(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=v({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Tc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Xy(n){Tc(n)}function Wy(n){console.error(n)}function Jy(n){Tc(n)}function Sc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Zy(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Sd(n,r,a){return a=Tr(a),a.tag=3,a.payload={element:null},a.callback=function(){Sc(n,r)},a}function e_(n){return n=Tr(n),n.tag=3,n}function t_(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){Zy(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Zy(r,a,l),typeof f!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Tb(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&tl(r,a,f,!0),a=Mn.current,a!==null){switch(a.tag){case 13:return hi===null?Kd():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Wf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Yd(n,l,f)),!1;case 22:return a.flags|=65536,l===Wf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Yd(n,l,f)),!1}throw Error(s(435,a.tag))}return Yd(n,l,f),Kd(),!1}if(je)return r=Mn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Ff&&(n=Error(s(422),{cause:l}),el(In(n,a)))):(l!==Ff&&(r=Error(s(423),{cause:l}),el(In(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=In(l,a),f=Sd(n.stateNode,l,f),ed(n,f),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=In(d,a),Tl===null?Tl=[d]:Tl.push(d),ft!==4&&(ft=2),r===null)return!0;l=In(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Sd(a.stateNode,l,n),ed(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Nr===null||!Nr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=e_(f),t_(f,n,a,l),ed(a,f),!1}a=a.return}while(a!==null);return!1}var n_=Error(s(461)),Vt=!1;function Ht(n,r,a,l){r.child=n===null?Ky(r,null,a,l):Ba(r,n.child,a,l)}function i_(n,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return xs(r),l=sd(n,r,a,E,d,f),T=ad(),n!==null&&!Vt?(od(n,r,f),Xi(n,r,f)):(je&&T&&Hf(r),r.flags|=1,Ht(n,r,l,f),r.child)}function r_(n,r,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!Bf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,s_(n,r,d,l,f)):(n=tc(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!Dd(n,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Xo,a(E,l)&&n.ref===r.ref)return Xi(n,r,f)}return r.flags|=1,n=ji(d,l),n.ref=r.ref,n.return=r,r.child=n}function s_(n,r,a,l,f){if(n!==null){var d=n.memoizedProps;if(Xo(d,l)&&n.ref===r.ref)if(Vt=!1,r.pendingProps=l=d,Dd(n,f))(n.flags&131072)!==0&&(Vt=!0);else return r.lanes=n.lanes,Xi(n,r,f)}return Ad(n,r,a,l,f)}function a_(n,r,a){var l=r.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(f=r.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return o_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&ac(r,d!==null?d.cachePool:null),d!==null?sy(r,d):nd(),Qy(r);else return r.lanes=r.childLanes=536870912,o_(n,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(ac(r,d.cachePool),sy(r,d),wr(),r.memoizedState=null):(n!==null&&ac(r,null),nd(),wr());return Ht(n,r,f,a),r.child}function o_(n,r,a,l){var f=Xf();return f=f===null?null:{parent:Ct._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&ac(r,null),nd(),Qy(r),n!==null&&tl(n,r,l,!0),null}function Ac(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function Ad(n,r,a,l,f){return xs(r),a=sd(n,r,a,l,void 0,f),l=ad(),n!==null&&!Vt?(od(n,r,f),Xi(n,r,f)):(je&&l&&Hf(r),r.flags|=1,Ht(n,r,a,f),r.child)}function l_(n,r,a,l,f,d){return xs(r),r.updateQueue=null,a=oy(r,l,a,f),ay(n),l=ad(),n!==null&&!Vt?(od(n,r,d),Xi(n,r,d)):(je&&l&&Hf(r),r.flags|=1,Ht(n,r,a,d),r.child)}function u_(n,r,a,l,f){if(xs(r),r.stateNode===null){var d=Oa,E=a.contextType;typeof E=="object"&&E!==null&&(d=$t(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Td,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Jf(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?$t(E):Oa,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Ed(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Td.enqueueReplaceState(d,d.state,null),ll(r,l,d,f),ol(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var T=r.memoizedProps,C=Bs(a,T);d.props=C;var H=d.context,X=a.contextType;E=Oa,typeof X=="object"&&X!==null&&(E=$t(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==E)&&$y(r,d,l,E),Er=!1;var j=r.memoizedState;d.state=j,ll(r,l,d,f),ol(),H=r.memoizedState,T||j!==H||Er?(typeof J=="function"&&(Ed(r,a,J,l),H=r.memoizedState),(C=Er||Yy(r,a,C,l,j,H,E))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Zf(n,r),E=r.memoizedProps,X=Bs(a,E),d.props=X,J=r.pendingProps,j=d.context,H=a.contextType,C=Oa,typeof H=="object"&&H!==null&&(C=$t(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==J||j!==C)&&$y(r,d,l,C),Er=!1,j=r.memoizedState,d.state=j,ll(r,l,d,f),ol();var F=r.memoizedState;E!==J||j!==F||Er||n!==null&&n.dependencies!==null&&rc(n.dependencies)?(typeof T=="function"&&(Ed(r,a,T,l),F=r.memoizedState),(X=Er||Yy(r,a,X,l,j,F,C)||n!==null&&n.dependencies!==null&&rc(n.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&j===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&j===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=C,l=X):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&j===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&j===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,Ac(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=Ba(r,n.child,null,f),r.child=Ba(r,null,a,f)):Ht(n,r,a,f),r.memoizedState=d.state,n=r.child):n=Xi(n,r,f),n}function c_(n,r,a,l){return Zo(),r.flags|=256,Ht(n,r,a,l),r.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wd(n){return{baseLanes:n,cachePool:Wg()}}function Rd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Pn),n}function h_(n,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=n!==null&&n.memoizedState===null?!1:(It.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(je){if(f?br(r):wr(),je){var T=ht,C;if(C=T){e:{for(C=T,T=ci;C.nodeType!==8;){if(!T){T=null;break e}if(C=Fn(C.nextSibling),C===null){T=null;break e}}T=C}T!==null?(r.memoizedState={dehydrated:T,treeContext:Ns!==null?{id:Fi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},C=gn(18,null,null,0),C.stateNode=T,C.return=r,r.child=C,an=r,ht=null,C=!0):C=!1}C||Vs(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return um(T)?r.lanes=32:r.lanes=536870912,null;$i(r)}return T=l.children,l=l.fallback,f?(wr(),f=r.mode,T=bc({mode:"hidden",children:T},f),l=Ds(l,f,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,f=r.child,f.memoizedState=wd(a),f.childLanes=Rd(n,E,a),r.memoizedState=bd,l):(br(r),Cd(r,T))}if(C=n.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)r.flags&256?(br(r),r.flags&=-257,r=Id(n,r,a)):r.memoizedState!==null?(wr(),r.child=n.child,r.flags|=128,r=null):(wr(),f=l.fallback,T=r.mode,l=bc({mode:"visible",children:l.children},T),f=Ds(f,T,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Ba(r,n.child,null,a),l=r.child,l.memoizedState=wd(a),l.childLanes=Rd(n,E,a),r.memoizedState=bd,r=f);else if(br(r),um(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var H=E.dgst;E=H,l=Error(s(419)),l.stack="",l.digest=E,el({value:l,source:null,stack:null}),r=Id(n,r,a)}else if(Vt||tl(n,r,a,!1),E=(a&n.childLanes)!==0,Vt||E){if(E=tt,E!==null&&(l=a&-a,l=(l&42)!==0?1:fr(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Ia(n,l),Tn(E,n,l),n_;T.data==="$?"||Kd(),r=Id(n,r,a)}else T.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=C.treeContext,ht=Fn(T.nextSibling),an=r,je=!0,Ps=null,ci=!1,n!==null&&(Dn[Nn++]=Fi,Dn[Nn++]=Gi,Dn[Nn++]=Ns,Fi=n.id,Gi=n.overflow,Ns=r),r=Cd(r,l.children),r.flags|=4096);return r}return f?(wr(),f=l.fallback,T=r.mode,C=n.child,H=C.sibling,l=ji(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,H!==null?f=ji(H,f):(f=Ds(f,T,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,T=n.child.memoizedState,T===null?T=wd(a):(C=T.cachePool,C!==null?(H=Ct._currentValue,C=C.parent!==H?{parent:H,pool:H}:C):C=Wg(),T={baseLanes:T.baseLanes|a,cachePool:C}),f.memoizedState=T,f.childLanes=Rd(n,E,a),r.memoizedState=bd,l):(br(r),a=n.child,n=a.sibling,a=ji(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=a,r.memoizedState=null,a)}function Cd(n,r){return r=bc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function bc(n,r){return n=gn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Id(n,r,a){return Ba(r,n.child,null,a),n=Cd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function f_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Kf(n.return,r,a)}function Od(n,r,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function d_(n,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(Ht(n,r,l.children,a),l=It.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&f_(n,a,r);else if(n.tag===19)f_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(re(It,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&Ec(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Od(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Ec(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Od(r,!0,a,null,d);break;case"together":Od(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Xi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Dr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(tl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=ji(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=ji(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Dd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&rc(n)))}function Sb(n,r,a){switch(r.tag){case 3:et(r,r.stateNode.containerInfo),vr(r,Ct,n.memoizedState.cache),Zo();break;case 27:case 5:hr(r);break;case 4:et(r,r.stateNode.containerInfo);break;case 10:vr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(br(r),r.flags|=128,null):(a&r.child.childLanes)!==0?h_(n,r,a):(br(r),n=Xi(n,r,a),n!==null?n.sibling:null);br(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(tl(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return d_(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),re(It,It.current),l)break;return null;case 22:case 23:return r.lanes=0,a_(n,r,a);case 24:vr(r,Ct,n.memoizedState.cache)}return Xi(n,r,a)}function m_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Vt=!0;else{if(!Dd(n,a)&&(r.flags&128)===0)return Vt=!1,Sb(n,r,a);Vt=(n.flags&131072)!==0}else Vt=!1,je&&(r.flags&1048576)!==0&&Fg(r,ic,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Bf(l)?(n=Bs(l,n),r.tag=1,r=u_(null,r,l,n,a)):(r.tag=0,r=Ad(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===he){r.tag=11,r=i_(null,r,l,n,a);break e}else if(f===M){r.tag=14,r=r_(null,r,l,n,a);break e}}throw r=Bt(l)||l,Error(s(306,r,""))}}return r;case 0:return Ad(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Bs(l,r.pendingProps),u_(n,r,l,f,a);case 3:e:{if(et(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,Zf(n,r),ll(r,l,null,a);var E=r.memoizedState;if(l=E.cache,vr(r,Ct,l),l!==d.cache&&Qf(r,[Ct],a,!0),ol(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=c_(n,r,l,a);break e}else if(l!==f){f=In(Error(s(424)),r),el(f),r=c_(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ht=Fn(n.firstChild),an=r,je=!0,Ps=null,ci=!0,a=Ky(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Zo(),l===f){r=Xi(n,r,a);break e}Ht(n,r,l,a)}r=r.child}return r;case 26:return Ac(n,r),n===null?(a=_v(r.type,null,r.pendingProps,null))?r.memoizedState=a:je||(a=r.type,n=r.pendingProps,l=Uc(Ae.current).createElement(a),l[bt]=r,l[_t]=n,Ft(l,a,n),dt(l),r.stateNode=l):r.memoizedState=_v(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return hr(r),n===null&&je&&(l=r.stateNode=pv(r.type,r.pendingProps,Ae.current),an=r,ci=!0,f=ht,Vr(r.type)?(cm=f,ht=Fn(l.firstChild)):ht=f),Ht(n,r,r.pendingProps.children,a),Ac(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&je&&((f=l=ht)&&(l=Xb(l,r.type,r.pendingProps,ci),l!==null?(r.stateNode=l,an=r,ht=Fn(l.firstChild),ci=!1,f=!0):f=!1),f||Vs(r)),hr(r),f=r.type,d=r.pendingProps,E=n!==null?n.memoizedProps:null,l=d.children,am(f,d)?l=null:E!==null&&am(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=sd(n,r,mb,null,null,a),Dl._currentValue=f),Ac(n,r),Ht(n,r,l,a),r.child;case 6:return n===null&&je&&((n=a=ht)&&(a=Wb(a,r.pendingProps,ci),a!==null?(r.stateNode=a,an=r,ht=null,n=!0):n=!1),n||Vs(r)),null;case 13:return h_(n,r,a);case 4:return et(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Ba(r,null,l,a):Ht(n,r,l,a),r.child;case 11:return i_(n,r,r.type,r.pendingProps,a);case 7:return Ht(n,r,r.pendingProps,a),r.child;case 8:return Ht(n,r,r.pendingProps.children,a),r.child;case 12:return Ht(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,vr(r,r.type,l.value),Ht(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,xs(r),f=$t(f),l=l(f),r.flags|=1,Ht(n,r,l,a),r.child;case 14:return r_(n,r,r.type,r.pendingProps,a);case 15:return s_(n,r,r.type,r.pendingProps,a);case 19:return d_(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=bc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=ji(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return a_(n,r,a);case 24:return xs(r),l=$t(Ct),n===null?(f=Xf(),f===null&&(f=tt,d=Yf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},Jf(r),vr(r,Ct,f)):((n.lanes&a)!==0&&(Zf(n,r),ll(r,null,null,a),ol()),f=n.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),vr(r,Ct,l)):(l=d.cache,vr(r,Ct,l),l!==f.cache&&Qf(r,[Ct],a,!0))),Ht(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Wi(n){n.flags|=4}function p_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Av(r)){if(r=Mn.current,r!==null&&((Ue&4194048)===Ue?hi!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||r!==hi))throw sl=Wf,Jg;n.flags|=8192}}function wc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Mo():536870912,n.lanes|=r,ja|=r)}function pl(n,r){if(!je)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function at(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function Ab(n,r,a){var l=r.pendingProps;switch(jf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Qi(Ct),Jn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Jo(r)?Wi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Qg())),at(r),null;case 26:return a=r.memoizedState,n===null?(Wi(r),a!==null?(at(r),p_(r,a)):(at(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Wi(r),at(r),p_(r,a)):(at(r),r.flags&=-16777217):(n.memoizedProps!==l&&Wi(r),at(r),r.flags&=-16777217),null;case 27:Di(r),a=Ae.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Wi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}n=pe.current,Jo(r)?Gg(r):(n=pv(f,l,a),r.stateNode=n,Wi(r))}return at(r),null;case 5:if(Di(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Wi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}if(n=pe.current,Jo(r))Gg(r);else{switch(f=Uc(Ae.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[bt]=r,n[_t]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Ft(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Wi(r)}}return at(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Wi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Ae.current,Jo(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=an,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[bt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||lv(n.nodeValue,a)),n||Vs(r)}else n=Uc(n).createTextNode(l),n[bt]=r,r.stateNode=n}return at(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Jo(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[bt]=r}else Zo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),f=!1}else f=Qg(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?($i(r),r):($i(r),null)}if($i(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),wc(r,r.updateQueue),at(r),null;case 4:return Jn(),n===null&&tm(r.stateNode.containerInfo),at(r),null;case 10:return Qi(r.type),at(r),null;case 19:if(oe(It),f=r.memoizedState,f===null)return at(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)pl(f,!1);else{if(ft!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=Ec(n),d!==null){for(r.flags|=128,pl(f,!1),n=d.updateQueue,r.updateQueue=n,wc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)jg(a,n),a=a.sibling;return re(It,It.current&1|2),r.child}n=n.sibling}f.tail!==null&&Sn()>Ic&&(r.flags|=128,l=!0,pl(f,!1),r.lanes=4194304)}else{if(!l)if(n=Ec(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,wc(r,n),pl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!je)return at(r),null}else 2*Sn()-f.renderingStartTime>Ic&&a!==536870912&&(r.flags|=128,l=!0,pl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(n=f.last,n!==null?n.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Sn(),r.sibling=null,n=It.current,re(It,l?n&1|2:n&1),r):(at(r),null);case 22:case 23:return $i(r),id(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),a=r.updateQueue,a!==null&&wc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&oe(Ls),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Qi(Ct),at(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function bb(n,r){switch(jf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Qi(Ct),Jn(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Di(r),null;case 13:if($i(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Zo()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return oe(It),null;case 4:return Jn(),null;case 10:return Qi(r.type),null;case 22:case 23:return $i(r),id(),n!==null&&oe(Ls),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Qi(Ct),null;case 25:return null;default:return null}}function g_(n,r){switch(jf(r),r.tag){case 3:Qi(Ct),Jn();break;case 26:case 27:case 5:Di(r);break;case 4:Jn();break;case 13:$i(r);break;case 19:oe(It);break;case 10:Qi(r.type);break;case 22:case 23:$i(r),id(),n!==null&&oe(Ls);break;case 24:Qi(Ct)}}function gl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(T){Ze(r,r.return,T)}}function Rr(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,f=r;var C=a,H=T;try{H()}catch(X){Ze(f,C,X)}}}l=l.next}while(l!==d)}}catch(X){Ze(r,r.return,X)}}function y_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{ry(r,a)}catch(l){Ze(n,n.return,l)}}}function __(n,r,a){a.props=Bs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(n,r,l)}}function yl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){Ze(n,r,f)}}function fi(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ze(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ze(n,r,f)}else a.current=null}function v_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ze(n,n.return,f)}}function Nd(n,r,a){try{var l=n.stateNode;Gb(l,n.type,a,r),l[_t]=r}catch(f){Ze(n,n.return,f)}}function E_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Vr(n.type)||n.tag===4}function Md(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||E_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Vr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Pd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Lc));else if(l!==4&&(l===27&&Vr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Pd(n,r,a),n=n.sibling;n!==null;)Pd(n,r,a),n=n.sibling}function Rc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&Vr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Rc(n,r,a),n=n.sibling;n!==null;)Rc(n,r,a),n=n.sibling}function T_(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ft(r,l,a),r[bt]=n,r[_t]=a}catch(d){Ze(n,n.return,d)}}var Ji=!1,pt=!1,Vd=!1,S_=typeof WeakSet=="function"?WeakSet:Set,kt=null;function wb(n,r){if(n=n.containerInfo,rm=Fc,n=Pg(n),Mf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,T=-1,C=-1,H=0,X=0,J=n,j=null;t:for(;;){for(var F;J!==a||f!==0&&J.nodeType!==3||(T=E+f),J!==d||l!==0&&J.nodeType!==3||(C=E+l),J.nodeType===3&&(E+=J.nodeValue.length),(F=J.firstChild)!==null;)j=J,J=F;for(;;){if(J===n)break t;if(j===a&&++H===f&&(T=E),j===d&&++X===l&&(C=E),(F=J.nextSibling)!==null)break;J=j,j=J.parentNode}J=F}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(sm={focusedElem:n,selectionRange:a},Fc=!1,kt=r;kt!==null;)if(r=kt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,kt=n;else for(;kt!==null;){switch(r=kt,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Se=Bs(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Se,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ye){Ze(a,a.return,ye)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)lm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":lm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,kt=n;break}kt=r.return}}function A_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Cr(n,a),l&4&&gl(5,a);break;case 1:if(Cr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(E){Ze(a,a.return,E)}else{var f=Bs(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(E){Ze(a,a.return,E)}}l&64&&y_(a),l&512&&yl(a,a.return);break;case 3:if(Cr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ry(n,r)}catch(E){Ze(a,a.return,E)}}break;case 27:r===null&&l&4&&T_(a);case 26:case 5:Cr(n,a),r===null&&l&4&&v_(a),l&512&&yl(a,a.return);break;case 12:Cr(n,a);break;case 13:Cr(n,a),l&4&&R_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=Vb.bind(null,a),Jb(n,a))));break;case 22:if(l=a.memoizedState!==null||Ji,!l){r=r!==null&&r.memoizedState!==null||pt,f=Ji;var d=pt;Ji=l,(pt=r)&&!d?Ir(n,a,(a.subtreeFlags&8772)!==0):Cr(n,a),Ji=f,pt=d}break;case 30:break;default:Cr(n,a)}}function b_(n){var r=n.alternate;r!==null&&(n.alternate=null,b_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&pr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var rt=null,ln=!1;function Zi(n,r,a){for(a=a.child;a!==null;)w_(n,r,a),a=a.sibling}function w_(n,r,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(ct,a)}catch{}switch(a.tag){case 26:pt||fi(a,r),Zi(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pt||fi(a,r);var l=rt,f=ln;Vr(a.type)&&(rt=a.stateNode,ln=!1),Zi(n,r,a),Rl(a.stateNode),rt=l,ln=f;break;case 5:pt||fi(a,r);case 6:if(l=rt,f=ln,rt=null,Zi(n,r,a),rt=l,ln=f,rt!==null)if(ln)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(d){Ze(a,r,d)}else try{rt.removeChild(a.stateNode)}catch(d){Ze(a,r,d)}break;case 18:rt!==null&&(ln?(n=rt,dv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Vl(n)):dv(rt,a.stateNode));break;case 4:l=rt,f=ln,rt=a.stateNode.containerInfo,ln=!0,Zi(n,r,a),rt=l,ln=f;break;case 0:case 11:case 14:case 15:pt||Rr(2,a,r),pt||Rr(4,a,r),Zi(n,r,a);break;case 1:pt||(fi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&__(a,r,l)),Zi(n,r,a);break;case 21:Zi(n,r,a);break;case 22:pt=(l=pt)||a.memoizedState!==null,Zi(n,r,a),pt=l;break;default:Zi(n,r,a)}}function R_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Vl(n)}catch(a){Ze(r,r.return,a)}}function Rb(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new S_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new S_),r;default:throw Error(s(435,n.tag))}}function kd(n,r){var a=Rb(n);r.forEach(function(l){var f=kb.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function yn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,E=r,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(Vr(T.type)){rt=T.stateNode,ln=!1;break e}break;case 5:rt=T.stateNode,ln=!1;break e;case 3:case 4:rt=T.stateNode.containerInfo,ln=!0;break e}T=T.return}if(rt===null)throw Error(s(160));w_(d,E,f),rt=null,ln=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)C_(r,n),r=r.sibling}var jn=null;function C_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:yn(r,n),_n(n),l&4&&(Rr(3,n,n.return),gl(3,n),Rr(5,n,n.return));break;case 1:yn(r,n),_n(n),l&512&&(pt||a===null||fi(a,a.return)),l&64&&Ji&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=jn;if(yn(r,n),_n(n),l&512&&(pt||a===null||fi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[ms]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Ft(d,l,a),d[bt]=n,dt(d),l=d;break e;case"link":var E=Tv("link","href",f).get(l+(a.href||""));if(E){for(var T=0;T<E.length;T++)if(d=E[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(T,1);break t}}d=f.createElement(l),Ft(d,l,a),f.head.appendChild(d);break;case"meta":if(E=Tv("meta","content",f).get(l+(a.content||""))){for(T=0;T<E.length;T++)if(d=E[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(T,1);break t}}d=f.createElement(l),Ft(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=n,dt(d),l=d}n.stateNode=l}else Sv(f,n.type,n.stateNode);else n.stateNode=Ev(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Sv(f,n.type,n.stateNode):Ev(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Nd(n,n.memoizedProps,a.memoizedProps)}break;case 27:yn(r,n),_n(n),l&512&&(pt||a===null||fi(a,a.return)),a!==null&&l&4&&Nd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(yn(r,n),_n(n),l&512&&(pt||a===null||fi(a,a.return)),n.flags&32){f=n.stateNode;try{bn(f,"")}catch(F){Ze(n,n.return,F)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Nd(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Vd=!0);break;case 6:if(yn(r,n),_n(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(F){Ze(n,n.return,F)}}break;case 3:if(qc=null,f=jn,jn=Bc(r.containerInfo),yn(r,n),jn=f,_n(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Vl(r.containerInfo)}catch(F){Ze(n,n.return,F)}Vd&&(Vd=!1,I_(n));break;case 4:l=jn,jn=Bc(n.stateNode.containerInfo),yn(r,n),_n(n),jn=l;break;case 12:yn(r,n),_n(n);break;case 13:yn(r,n),_n(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qd=Sn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,kd(n,l)));break;case 22:f=n.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,H=Ji,X=pt;if(Ji=H||f,pt=X||C,yn(r,n),pt=X,Ji=H,_n(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||C||Ji||pt||zs(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=C.stateNode;var J=C.memoizedProps.style,j=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(F){Ze(C,C.return,F)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(F){Ze(C,C.return,F)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,kd(n,a))));break;case 19:yn(r,n),_n(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,kd(n,l)));break;case 30:break;case 21:break;default:yn(r,n),_n(n)}}function _n(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(E_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Md(n);Rc(n,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(bn(E,""),a.flags&=-33);var T=Md(n);Rc(n,T,E);break;case 3:case 4:var C=a.stateNode.containerInfo,H=Md(n);Pd(n,H,C);break;default:throw Error(s(161))}}catch(X){Ze(n,n.return,X)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function I_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;I_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Cr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)A_(n,r.alternate,r),r=r.sibling}function zs(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Rr(4,r,r.return),zs(r);break;case 1:fi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&__(r,r.return,a),zs(r);break;case 27:Rl(r.stateNode);case 26:case 5:fi(r,r.return),zs(r);break;case 22:r.memoizedState===null&&zs(r);break;case 30:zs(r);break;default:zs(r)}n=n.sibling}}function Ir(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:Ir(f,d,a),gl(4,d);break;case 1:if(Ir(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){Ze(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)iy(C[f],T)}catch(H){Ze(l,l.return,H)}}a&&E&64&&y_(d),yl(d,d.return);break;case 27:T_(d);case 26:case 5:Ir(f,d,a),a&&l===null&&E&4&&v_(d),yl(d,d.return);break;case 12:Ir(f,d,a);break;case 13:Ir(f,d,a),a&&E&4&&R_(f,d);break;case 22:d.memoizedState===null&&Ir(f,d,a),yl(d,d.return);break;case 30:break;default:Ir(f,d,a)}r=r.sibling}}function xd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&nl(a))}function Ld(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&nl(n))}function di(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)O_(n,r,a,l),r=r.sibling}function O_(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:di(n,r,a,l),f&2048&&gl(9,r);break;case 1:di(n,r,a,l);break;case 3:di(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&nl(n)));break;case 12:if(f&2048){di(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,E=d.id,T=d.onPostCommit;typeof T=="function"&&T(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){Ze(r,r.return,C)}}else di(n,r,a,l);break;case 13:di(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?di(n,r,a,l):_l(n,r):d._visibility&2?di(n,r,a,l):(d._visibility|=2,za(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&xd(E,r);break;case 24:di(n,r,a,l),f&2048&&Ld(r.alternate,r);break;default:di(n,r,a,l)}}function za(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,E=r,T=a,C=l,H=E.flags;switch(E.tag){case 0:case 11:case 15:za(d,E,T,C,f),gl(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&2?za(d,E,T,C,f):_l(d,E):(X._visibility|=2,za(d,E,T,C,f)),f&&H&2048&&xd(E.alternate,E);break;case 24:za(d,E,T,C,f),f&&H&2048&&Ld(E.alternate,E);break;default:za(d,E,T,C,f)}r=r.sibling}}function _l(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:_l(a,l),f&2048&&xd(l.alternate,l);break;case 24:_l(a,l),f&2048&&Ld(l.alternate,l);break;default:_l(a,l)}r=r.sibling}}var vl=8192;function qa(n){if(n.subtreeFlags&vl)for(n=n.child;n!==null;)D_(n),n=n.sibling}function D_(n){switch(n.tag){case 26:qa(n),n.flags&vl&&n.memoizedState!==null&&hw(jn,n.memoizedState,n.memoizedProps);break;case 5:qa(n);break;case 3:case 4:var r=jn;jn=Bc(n.stateNode.containerInfo),qa(n),jn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=vl,vl=16777216,qa(n),vl=r):qa(n));break;default:qa(n)}}function N_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function El(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];kt=l,P_(l,n)}N_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)M_(n),n=n.sibling}function M_(n){switch(n.tag){case 0:case 11:case 15:El(n),n.flags&2048&&Rr(9,n,n.return);break;case 3:El(n);break;case 12:El(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Cc(n)):El(n);break;default:El(n)}}function Cc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];kt=l,P_(l,n)}N_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Rr(8,r,r.return),Cc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Cc(r));break;default:Cc(r)}n=n.sibling}}function P_(n,r){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:Rr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,kt=l;else e:for(a=n;kt!==null;){l=kt;var f=l.sibling,d=l.return;if(b_(l),l===a){kt=null;break e}if(f!==null){f.return=d,kt=f;break e}kt=d}}}var Cb={getCacheForType:function(n){var r=$t(Ct),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},Ib=typeof WeakMap=="function"?WeakMap:Map,Qe=0,tt=null,Ne=null,Ue=0,Ye=0,vn=null,Or=!1,Ha=!1,Ud=!1,er=0,ft=0,Dr=0,qs=0,Bd=0,Pn=0,ja=0,Tl=null,un=null,zd=!1,qd=0,Ic=1/0,Oc=null,Nr=null,jt=0,Mr=null,Fa=null,Ga=0,Hd=0,jd=null,V_=null,Sl=0,Fd=null;function En(){if((Qe&2)!==0&&Ue!==0)return Ue&-Ue;if($.T!==null){var n=Ma;return n!==0?n:Wd()}return dr()}function k_(){Pn===0&&(Pn=(Ue&536870912)===0||je?No():536870912);var n=Mn.current;return n!==null&&(n.flags|=32),Pn}function Tn(n,r,a){(n===tt&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)&&(Ka(n,0),Pr(n,Ue,Pn,!1)),Mi(n,a),((Qe&2)===0||n!==tt)&&(n===tt&&((Qe&2)===0&&(qs|=a),ft===4&&Pr(n,Ue,Pn,!1)),mi(n))}function x_(n,r,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||ds(n,r),f=l?Nb(n,r):Qd(n,r,!0),d=l;do{if(f===0){Ha&&!l&&Pr(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!Ob(a)){f=Qd(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var T=n;f=Tl;var C=T.current.memoizedState.isDehydrated;if(C&&(Ka(T,E).flags|=256),E=Qd(T,E,!1),E!==2){if(Ud&&!C){T.errorRecoveryDisabledLanes|=d,qs|=d,f=4;break e}d=un,un=f,d!==null&&(un===null?un=d:un.push.apply(un,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){Ka(n,0),Pr(n,r,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Pr(l,r,Pn,!Or);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=qd+300-Sn(),10<f)){if(Pr(l,r,Pn,!Or),ua(l,0,!0)!==0)break e;l.timeoutHandle=hv(L_.bind(null,l,a,un,Oc,zd,r,Pn,qs,ja,Or,d,2,-0,0),f);break e}L_(l,a,un,Oc,zd,r,Pn,qs,ja,Or,d,0,-0,0)}}break}while(!0);mi(n)}function L_(n,r,a,l,f,d,E,T,C,H,X,J,j,F){if(n.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:cw},D_(r),J=fw(),J!==null)){n.cancelPendingCommit=J(F_.bind(null,n,r,d,a,l,f,E,T,C,X,1,j,F)),Pr(n,d,E,!H);return}F_(n,r,d,a,l,f,E,T,C)}function Ob(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!pn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Pr(n,r,a,l){r&=~Bd,r&=~qs,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var d=31-Yt(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&Zn(n,a,r)}function Dc(){return(Qe&6)===0?(Al(0),!1):!0}function Gd(){if(Ne!==null){if(Ye===0)var n=Ne.return;else n=Ne,Ki=ks=null,ld(n),Ua=null,dl=0,n=Ne;for(;n!==null;)g_(n.alternate,n),n=n.return;Ne=null}}function Ka(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Qb(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Gd(),tt=n,Ne=a=ji(n.current,null),Ue=r,Ye=0,vn=null,Or=!1,Ha=ds(n,r),Ud=!1,ja=Pn=Bd=qs=Dr=ft=0,un=Tl=null,zd=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-Yt(l),d=1<<f;r|=n[f],l&=~d}return er=r,Ju(),a}function U_(n,r){Ie=null,$.H=yc,r===rl||r===oc?(r=ty(),Ye=3):r===Jg?(r=ty(),Ye=4):Ye=r===n_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,vn=r,Ne===null&&(ft=1,Sc(n,In(r,n.current)))}function B_(){var n=$.H;return $.H=yc,n===null?yc:n}function z_(){var n=$.A;return $.A=Cb,n}function Kd(){ft=4,Or||(Ue&4194048)!==Ue&&Mn.current!==null||(Ha=!0),(Dr&134217727)===0&&(qs&134217727)===0||tt===null||Pr(tt,Ue,Pn,!1)}function Qd(n,r,a){var l=Qe;Qe|=2;var f=B_(),d=z_();(tt!==n||Ue!==r)&&(Oc=null,Ka(n,r)),r=!1;var E=ft;e:do try{if(Ye!==0&&Ne!==null){var T=Ne,C=vn;switch(Ye){case 8:Gd(),E=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(r=!0);var H=Ye;if(Ye=0,vn=null,Qa(n,T,C,H),a&&Ha){E=0;break e}break;default:H=Ye,Ye=0,vn=null,Qa(n,T,C,H)}}Db(),E=ft;break}catch(X){U_(n,X)}while(!0);return r&&n.shellSuspendCounter++,Ki=ks=null,Qe=l,$.H=f,$.A=d,Ne===null&&(tt=null,Ue=0,Ju()),E}function Db(){for(;Ne!==null;)q_(Ne)}function Nb(n,r){var a=Qe;Qe|=2;var l=B_(),f=z_();tt!==n||Ue!==r?(Oc=null,Ic=Sn()+500,Ka(n,r)):Ha=ds(n,r);e:do try{if(Ye!==0&&Ne!==null){r=Ne;var d=vn;t:switch(Ye){case 1:Ye=0,vn=null,Qa(n,r,d,1);break;case 2:case 9:if(Zg(d)){Ye=0,vn=null,H_(r);break}r=function(){Ye!==2&&Ye!==9||tt!==n||(Ye=7),mi(n)},d.then(r,r);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Zg(d)?(Ye=0,vn=null,H_(r)):(Ye=0,vn=null,Qa(n,r,d,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var T=Ne;if(!E||Av(E)){Ye=0,vn=null;var C=T.sibling;if(C!==null)Ne=C;else{var H=T.return;H!==null?(Ne=H,Nc(H)):Ne=null}break t}}Ye=0,vn=null,Qa(n,r,d,5);break;case 6:Ye=0,vn=null,Qa(n,r,d,6);break;case 8:Gd(),ft=6;break e;default:throw Error(s(462))}}Mb();break}catch(X){U_(n,X)}while(!0);return Ki=ks=null,$.H=l,$.A=f,Qe=a,Ne!==null?0:(tt=null,Ue=0,Ju(),ft)}function Mb(){for(;Ne!==null&&!Co();)q_(Ne)}function q_(n){var r=m_(n.alternate,n,er);n.memoizedProps=n.pendingProps,r===null?Nc(n):Ne=r}function H_(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=l_(a,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=l_(a,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:ld(r);default:g_(a,r),r=Ne=jg(r,er),r=m_(a,r,er)}n.memoizedProps=n.pendingProps,r===null?Nc(n):Ne=r}function Qa(n,r,a,l){Ki=ks=null,ld(r),Ua=null,dl=0;var f=r.return;try{if(Tb(n,f,r,a,Ue)){ft=1,Sc(n,In(a,n.current)),Ne=null;return}}catch(d){if(f!==null)throw Ne=f,d;ft=1,Sc(n,In(a,n.current)),Ne=null;return}r.flags&32768?(je||l===1?n=!0:Ha||(Ue&536870912)!==0?n=!1:(Or=n=!0,(l===2||l===9||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),j_(r,n)):Nc(r)}function Nc(n){var r=n;do{if((r.flags&32768)!==0){j_(r,Or);return}n=r.return;var a=Ab(r.alternate,r,er);if(a!==null){Ne=a;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=n}while(r!==null);ft===0&&(ft=5)}function j_(n,r){do{var a=bb(n.alternate,n);if(a!==null){a.flags&=32767,Ne=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Ne=n;return}Ne=n=a}while(n!==null);ft=6,Ne=null}function F_(n,r,a,l,f,d,E,T,C){n.cancelPendingCommit=null;do Mc();while(jt!==0);if((Qe&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Lf,Po(n,a,d,E,T,C),n===tt&&(Ne=tt=null,Ue=0),Fa=r,Mr=n,Ga=a,Hd=d,jd=f,V_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,xb(us,function(){return $_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=ae.p,ae.p=2,E=Qe,Qe|=4;try{wb(n,r,a)}finally{Qe=E,ae.p=f,$.T=l}}jt=1,G_(),K_(),Q_()}}function G_(){if(jt===1){jt=0;var n=Mr,r=Fa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var f=Qe;Qe|=4;try{C_(r,n);var d=sm,E=Pg(n.containerInfo),T=d.focusedElem,C=d.selectionRange;if(E!==T&&T&&T.ownerDocument&&Mg(T.ownerDocument.documentElement,T)){if(C!==null&&Mf(T)){var H=C.start,X=C.end;if(X===void 0&&(X=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(X,T.value.length);else{var J=T.ownerDocument||document,j=J&&J.defaultView||window;if(j.getSelection){var F=j.getSelection(),Se=T.textContent.length,ye=Math.min(C.start,Se),Je=C.end===void 0?ye:Math.min(C.end,Se);!F.extend&&ye>Je&&(E=Je,Je=ye,ye=E);var L=Ng(T,ye),N=Ng(T,Je);if(L&&N&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==N.node||F.focusOffset!==N.offset)){var z=J.createRange();z.setStart(L.node,L.offset),F.removeAllRanges(),ye>Je?(F.addRange(z),F.extend(N.node,N.offset)):(z.setEnd(N.node,N.offset),F.addRange(z))}}}}for(J=[],F=T;F=F.parentNode;)F.nodeType===1&&J.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var W=J[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Fc=!!rm,sm=rm=null}finally{Qe=f,ae.p=l,$.T=a}}n.current=r,jt=2}}function K_(){if(jt===2){jt=0;var n=Mr,r=Fa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var f=Qe;Qe|=4;try{A_(n,r.alternate,r)}finally{Qe=f,ae.p=l,$.T=a}}jt=3}}function Q_(){if(jt===4||jt===3){jt=0,Cu();var n=Mr,r=Fa,a=Ga,l=V_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?jt=5:(jt=0,Fa=Mr=null,Y_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Nr=null),ca(a),r=r.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(ct,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=$.T,f=ae.p,ae.p=2,$.T=null;try{for(var d=n.onRecoverableError,E=0;E<l.length;E++){var T=l[E];d(T.value,{componentStack:T.stack})}}finally{$.T=r,ae.p=f}}(Ga&3)!==0&&Mc(),mi(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===Fd?Sl++:(Sl=0,Fd=n):Sl=0,Al(0)}}function Y_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,nl(r)))}function Mc(n){return G_(),K_(),Q_(),$_()}function $_(){if(jt!==5)return!1;var n=Mr,r=Hd;Hd=0;var a=ca(Ga),l=$.T,f=ae.p;try{ae.p=32>a?32:a,$.T=null,a=jd,jd=null;var d=Mr,E=Ga;if(jt=0,Fa=Mr=null,Ga=0,(Qe&6)!==0)throw Error(s(331));var T=Qe;if(Qe|=4,M_(d.current),O_(d,d.current,E,a),Qe=T,Al(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(ct,d)}catch{}return!0}finally{ae.p=f,$.T=l,Y_(n,r)}}function X_(n,r,a){r=In(a,r),r=Sd(n.stateNode,r,2),n=Sr(n,r,2),n!==null&&(Mi(n,2),mi(n))}function Ze(n,r,a){if(n.tag===3)X_(n,n,a);else for(;r!==null;){if(r.tag===3){X_(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Nr===null||!Nr.has(l))){n=In(a,n),a=e_(2),l=Sr(r,a,2),l!==null&&(t_(a,l,r,n),Mi(l,2),mi(l));break}}r=r.return}}function Yd(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new Ib;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Ud=!0,f.add(a),n=Pb.bind(null,n,r,a),r.then(n,n))}function Pb(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,tt===n&&(Ue&a)===a&&(ft===4||ft===3&&(Ue&62914560)===Ue&&300>Sn()-qd?(Qe&2)===0&&Ka(n,0):Bd|=a,ja===Ue&&(ja=0)),mi(n)}function W_(n,r){r===0&&(r=Mo()),n=Ia(n,r),n!==null&&(Mi(n,r),mi(n))}function Vb(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),W_(n,a)}function kb(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),W_(n,a)}function xb(n,r){return os(n,r)}var Pc=null,Ya=null,$d=!1,Vc=!1,Xd=!1,Hs=0;function mi(n){n!==Ya&&n.next===null&&(Ya===null?Pc=Ya=n:Ya=Ya.next=n),Vc=!0,$d||($d=!0,Ub())}function Al(n,r){if(!Xd&&Vc){Xd=!0;do for(var a=!1,l=Pc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Yt(42|n)+1)-1,d&=f&~(E&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,tv(l,d))}else d=Ue,d=ua(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ds(l,d)||(a=!0,tv(l,d));l=l.next}while(a);Xd=!1}}function Lb(){J_()}function J_(){Vc=$d=!1;var n=0;Hs!==0&&(Kb()&&(n=Hs),Hs=0);for(var r=Sn(),a=null,l=Pc;l!==null;){var f=l.next,d=Z_(l,r);d===0?(l.next=null,a===null?Pc=f:a.next=f,f===null&&(Ya=a)):(a=l,(n!==0||(d&3)!==0)&&(Vc=!0)),l=f}Al(n)}function Z_(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var E=31-Yt(d),T=1<<E,C=f[E];C===-1?((T&a)===0||(T&l)!==0)&&(f[E]=Do(T,r)):C<=r&&(n.expiredLanes|=T),d&=~T}if(r=tt,a=Ue,a=ua(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Ye===2||Ye===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ls(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ds(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&ls(l),ca(a)){case 2:case 8:a=oa;break;case 32:a=us;break;case 268435456:a=la;break;default:a=us}return l=ev.bind(null,n),a=os(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&ls(l),n.callbackPriority=2,n.callbackNode=null,2}function ev(n,r){if(jt!==0&&jt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Mc()&&n.callbackNode!==a)return null;var l=Ue;return l=ua(n,n===tt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(x_(n,l,r),Z_(n,Sn()),n.callbackNode!=null&&n.callbackNode===a?ev.bind(null,n):null)}function tv(n,r){if(Mc())return null;x_(n,r,!0)}function Ub(){Yb(function(){(Qe&6)!==0?os(Io,Lb):J_()})}function Wd(){return Hs===0&&(Hs=No()),Hs}function nv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ga(""+n)}function iv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function Bb(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=nv((f[_t]||null).action),E=l.submitter;E&&(r=(r=E[_t]||null)?nv(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var T=new ya("action","action",null,l,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hs!==0){var C=E?iv(f,E):new FormData(f);yd(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=E?iv(f,E):new FormData(f),yd(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var Jd=0;Jd<xf.length;Jd++){var Zd=xf[Jd],zb=Zd.toLowerCase(),qb=Zd[0].toUpperCase()+Zd.slice(1);Hn(zb,"on"+qb)}Hn(xg,"onAnimationEnd"),Hn(Lg,"onAnimationIteration"),Hn(Ug,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(rb,"onTransitionRun"),Hn(sb,"onTransitionStart"),Hn(ab,"onTransitionCancel"),Hn(Bg,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function rv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var T=l[E],C=T.instance,H=T.currentTarget;if(T=T.listener,C!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=H;try{d(f)}catch(X){Tc(X)}f.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(T=l[E],C=T.instance,H=T.currentTarget,T=T.listener,C!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=H;try{d(f)}catch(X){Tc(X)}f.currentTarget=null,d=C}}}}function Me(n,r){var a=r[ko];a===void 0&&(a=r[ko]=new Set);var l=n+"__bubble";a.has(l)||(sv(r,n,2,!1),a.add(l))}function em(n,r,a){var l=0;r&&(l|=4),sv(a,n,l,r)}var kc="_reactListening"+Math.random().toString(36).slice(2);function tm(n){if(!n[kc]){n[kc]=!0,xo.forEach(function(a){a!=="selectionchange"&&(Hb.has(a)||em(a,!1,n),em(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[kc]||(r[kc]=!0,em("selectionchange",!1,r))}}function sv(n,r,a,l){switch(Ov(r)){case 2:var f=pw;break;case 8:f=gw;break;default:f=pm}a=f.bind(null,r,a,n),f=void 0,!Rn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function nm(n,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===f)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;T!==null;){if(E=Pi(T),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue e}T=T.parentNode}}l=l.return}Lu(function(){var H=d,X=wn(a),J=[];e:{var j=zg.get(n);if(j!==void 0){var F=ya,Se=n;switch(n){case"keypress":if(si(a)===0)break e;case"keydown":case"keyup":F=Aa;break;case"focusin":Se="focus",F=Ea;break;case"focusout":Se="blur",F=Ea;break;case"beforeblur":case"afterblur":F=Ea;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=If;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Gu;break;case xg:case Lg:case Ug:F=Ta;break;case Bg:F=Qu;break;case"scroll":case"scrollend":F=Uu;break;case"wheel":F=ba;break;case"copy":case"cut":case"paste":F=Sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Yo;break;case"toggle":case"beforetoggle":F=$u}var ye=(r&4)!==0,Je=!ye&&(n==="scroll"||n==="scrollend"),L=ye?j!==null?j+"Capture":null:j;ye=[];for(var N=H,z;N!==null;){var W=N;if(z=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||z===null||L===null||(W=Ts(N,L),W!=null&&ye.push(wl(N,W,z))),Je)break;N=N.return}0<ye.length&&(j=new F(j,Se,null,a,X),J.push({event:j,listeners:ye}))}}if((r&7)===0){e:{if(j=n==="mouseover"||n==="pointerover",F=n==="mouseout"||n==="pointerout",j&&a!==Li&&(Se=a.relatedTarget||a.fromElement)&&(Pi(Se)||Se[An]))break e;if((F||j)&&(j=X.window===X?X:(j=X.ownerDocument)?j.defaultView||j.parentWindow:window,F?(Se=a.relatedTarget||a.toElement,F=H,Se=Se?Pi(Se):null,Se!==null&&(Je=u(Se),ye=Se.tag,Se!==Je||ye!==5&&ye!==27&&ye!==6)&&(Se=null)):(F=null,Se=H),F!==Se)){if(ye=Cn,W="onMouseLeave",L="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(ye=Yo,W="onPointerLeave",L="onPointerEnter",N="pointer"),Je=F==null?j:ti(F),z=Se==null?j:ti(Se),j=new ye(W,N+"leave",F,a,X),j.target=Je,j.relatedTarget=z,W=null,Pi(X)===H&&(ye=new ye(L,N+"enter",Se,a,X),ye.target=z,ye.relatedTarget=Je,W=ye),Je=W,F&&Se)t:{for(ye=F,L=Se,N=0,z=ye;z;z=$a(z))N++;for(z=0,W=L;W;W=$a(W))z++;for(;0<N-z;)ye=$a(ye),N--;for(;0<z-N;)L=$a(L),z--;for(;N--;){if(ye===L||L!==null&&ye===L.alternate)break t;ye=$a(ye),L=$a(L)}ye=null}else ye=null;F!==null&&av(J,j,F,ye,!1),Se!==null&&Je!==null&&av(J,Je,Se,ye,!0)}}e:{if(j=H?ti(H):window,F=j.nodeName&&j.nodeName.toLowerCase(),F==="select"||F==="input"&&j.type==="file")var ce=wg;else if(Rt(j))if(Rg)ce=tb;else{ce=ZA;var De=JA}else F=j.nodeName,!F||F.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?H&&qo(H.elementType)&&(ce=wg):ce=eb;if(ce&&(ce=ce(n,H))){Hi(J,ce,a,X);break e}De&&De(n,j,H),n==="focusout"&&H&&j.type==="number"&&H.memoizedProps.value!=null&&yr(j,"number",j.value)}switch(De=H?ti(H):window,n){case"focusin":(Rt(De)||De.contentEditable==="true")&&(wa=De,Pf=H,Wo=null);break;case"focusout":Wo=Pf=wa=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,Vg(J,a,X);break;case"selectionchange":if(ib)break;case"keydown":case"keyup":Vg(J,a,X)}var fe;if(li)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else xe?G(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(xe||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&xe&&(fe=jo()):(ri=X,_r="value"in ri?ri.value:ri.textContent,xe=!0)),De=xc(H,_e),0<De.length&&(_e=new Ko(_e,n,null,a,X),J.push({event:_e,listeners:De}),fe?_e.data=fe:(fe=se(a),fe!==null&&(_e.data=fe)))),(fe=y?wt(n,a):Le(n,a))&&(_e=xc(H,"onBeforeInput"),0<_e.length&&(De=new Ko("onBeforeInput","beforeinput",null,a,X),J.push({event:De,listeners:_e}),De.data=fe)),Bb(J,n,H,a,X)}rv(J,r)})}function wl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function xc(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Ts(n,a),f!=null&&l.unshift(wl(n,f,d)),f=Ts(n,r),f!=null&&l.push(wl(n,f,d))),n.tag===3)return l;n=n.return}return[]}function $a(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function av(n,r,a,l,f){for(var d=r._reactName,E=[];a!==null&&a!==l;){var T=a,C=T.alternate,H=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||H===null||(C=H,f?(H=Ts(a,d),H!=null&&E.unshift(wl(a,H,C))):f||(H=Ts(a,d),H!=null&&E.push(wl(a,H,C)))),a=a.return}E.length!==0&&n.push({event:r,listeners:E})}var jb=/\r\n?/g,Fb=/\u0000|\uFFFD/g;function ov(n){return(typeof n=="string"?n:""+n).replace(jb,`
`).replace(Fb,"")}function lv(n,r){return r=ov(r),ov(n)===r}function Lc(){}function We(n,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||bn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&bn(n,""+l);break;case"className":ni(n,"class",l);break;case"tabIndex":ni(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ni(n,a,l);break;case"style":zo(n,l,d);break;case"data":if(r!=="object"){ni(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ga(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&We(n,r,"name",f.name,f,null),We(n,r,"formEncType",f.formEncType,f,null),We(n,r,"formMethod",f.formMethod,f,null),We(n,r,"formTarget",f.formTarget,f,null)):(We(n,r,"encType",f.encType,f,null),We(n,r,"method",f.method,f,null),We(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ga(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Lc);break;case"onScroll":l!=null&&Me("scroll",n);break;case"onScrollEnd":l!=null&&Me("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=ga(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Me("beforetoggle",n),Me("toggle",n),gr(n,"popover",l);break;case"xlinkActuate":zt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":gr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Rf.get(a)||a,gr(n,a,l))}}function im(n,r,a,l,f,d){switch(a){case"style":zo(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?bn(n,l):(typeof l=="number"||typeof l=="bigint")&&bn(n,""+l);break;case"onScroll":l!=null&&Me("scroll",n);break;case"onScrollEnd":l!=null&&Me("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Lc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ha.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[_t]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):gr(n,a,l)}}}function Ft(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",n),Me("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(n,r,d,E,a,null)}}f&&We(n,r,"srcSet",a.srcSet,a,null),l&&We(n,r,"src",a.src,a,null);return;case"input":Me("invalid",n);var T=d=E=f=null,C=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":E=X;break;case"checked":C=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:We(n,r,l,X,a,null)}}_s(n,d,T,C,H,E,f,!1),pa(n);return;case"select":Me("invalid",n),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:We(n,r,f,T,a,null)}r=d,a=E,n.multiple=!!l,r!=null?xi(n,!!l,r,!1):a!=null&&xi(n,!!l,a,!0);return;case"textarea":Me("invalid",n),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(T=a[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:We(n,r,E,T,a,null)}vs(n,l,f,d),pa(n);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(n,r,C,l,a,null)}return;case"dialog":Me("beforetoggle",n),Me("toggle",n),Me("cancel",n),Me("close",n);break;case"iframe":case"object":Me("load",n);break;case"video":case"audio":for(l=0;l<bl.length;l++)Me(bl[l],n);break;case"image":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"embed":case"source":case"link":Me("error",n),Me("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(n,r,H,l,a,null)}return;default:if(qo(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&im(n,r,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&We(n,r,T,l,a,null))}function Gb(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,T=null,C=null,H=null,X=null;for(F in a){var J=a[F];if(a.hasOwnProperty(F)&&J!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=J;default:l.hasOwnProperty(F)||We(n,r,F,null,l,J)}}for(var j in l){var F=l[j];if(J=a[j],l.hasOwnProperty(j)&&(F!=null||J!=null))switch(j){case"type":d=F;break;case"name":f=F;break;case"checked":H=F;break;case"defaultChecked":X=F;break;case"value":E=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:F!==J&&We(n,r,j,F,l,J)}}mn(n,E,T,C,H,X,d,f);return;case"select":F=E=T=j=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(d)||We(n,r,d,null,l,C)}for(f in l)if(d=l[f],C=a[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":j=d;break;case"defaultValue":T=d;break;case"multiple":E=d;default:d!==C&&We(n,r,f,d,l,C)}r=T,a=E,l=F,j!=null?xi(n,!!a,j,!1):!!l!=!!a&&(r!=null?xi(n,!!a,r,!0):xi(n,!!a,a?[]:"",!1));return;case"textarea":F=j=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(n,r,T,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":j=f;break;case"defaultValue":F=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&We(n,r,E,f,l,d)}$e(n,j,F);return;case"option":for(var Se in a)if(j=a[Se],a.hasOwnProperty(Se)&&j!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":n.selected=!1;break;default:We(n,r,Se,null,l,j)}for(C in l)if(j=l[C],F=a[C],l.hasOwnProperty(C)&&j!==F&&(j!=null||F!=null))switch(C){case"selected":n.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:We(n,r,C,j,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)j=a[ye],a.hasOwnProperty(ye)&&j!=null&&!l.hasOwnProperty(ye)&&We(n,r,ye,null,l,j);for(H in l)if(j=l[H],F=a[H],l.hasOwnProperty(H)&&j!==F&&(j!=null||F!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,r));break;default:We(n,r,H,j,l,F)}return;default:if(qo(r)){for(var Je in a)j=a[Je],a.hasOwnProperty(Je)&&j!==void 0&&!l.hasOwnProperty(Je)&&im(n,r,Je,void 0,l,j);for(X in l)j=l[X],F=a[X],!l.hasOwnProperty(X)||j===F||j===void 0&&F===void 0||im(n,r,X,j,l,F);return}}for(var L in a)j=a[L],a.hasOwnProperty(L)&&j!=null&&!l.hasOwnProperty(L)&&We(n,r,L,null,l,j);for(J in l)j=l[J],F=a[J],!l.hasOwnProperty(J)||j===F||j==null&&F==null||We(n,r,J,j,l,F)}var rm=null,sm=null;function Uc(n){return n.nodeType===9?n:n.ownerDocument}function uv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function am(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var om=null;function Kb(){var n=window.event;return n&&n.type==="popstate"?n===om?!1:(om=n,!0):(om=null,!1)}var hv=typeof setTimeout=="function"?setTimeout:void 0,Qb=typeof clearTimeout=="function"?clearTimeout:void 0,fv=typeof Promise=="function"?Promise:void 0,Yb=typeof queueMicrotask=="function"?queueMicrotask:typeof fv<"u"?function(n){return fv.resolve(null).then(n).catch($b)}:hv;function $b(n){setTimeout(function(){throw n})}function Vr(n){return n==="head"}function dv(n,r){var a=r,l=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&Rl(E.documentElement),a&2&&Rl(E.body),a&4)for(a=E.head,Rl(a),E=a.firstChild;E;){var T=E.nextSibling,C=E.nodeName;E[ms]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=T}}if(f===0){n.removeChild(d),Vl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Vl(r)}function lm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":lm(a),pr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function Xb(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[ms])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Fn(n.nextSibling),n===null)break}return null}function Wb(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Fn(n.nextSibling),n===null))return null;return n}function um(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Jb(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Fn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var cm=null;function mv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function pv(n,r,a){switch(r=Uc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Rl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);pr(n)}var Vn=new Map,gv=new Set;function Bc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var tr=ae.d;ae.d={f:Zb,r:ew,D:tw,C:nw,L:iw,m:rw,X:aw,S:sw,M:ow};function Zb(){var n=tr.f(),r=Dc();return n||r}function ew(n){var r=ei(n);r!==null&&r.tag===5&&r.type==="form"?xy(r):tr.r(n)}var Xa=typeof document>"u"?null:document;function yv(n,r,a){var l=Xa;if(l&&typeof r=="string"&&r){var f=vt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),gv.has(f)||(gv.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ft(r,"link",n),dt(r),l.head.appendChild(r)))}}function tw(n){tr.D(n),yv("dns-prefetch",n,null)}function nw(n,r){tr.C(n,r),yv("preconnect",n,r)}function iw(n,r,a){tr.L(n,r,a);var l=Xa;if(l&&n&&r){var f='link[rel="preload"][as="'+vt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+vt(a.imageSizes)+'"]')):f+='[href="'+vt(n)+'"]';var d=f;switch(r){case"style":d=Wa(n);break;case"script":d=Ja(n)}Vn.has(d)||(n=v({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Vn.set(d,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(Cl(d))||r==="script"&&l.querySelector(Il(d))||(r=l.createElement("link"),Ft(r,"link",n),dt(r),l.head.appendChild(r)))}}function rw(n,r){tr.m(n,r);var a=Xa;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+vt(l)+'"][href="'+vt(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ja(n)}if(!Vn.has(d)&&(n=v({rel:"modulepreload",href:n},r),Vn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(d)))return}l=a.createElement("link"),Ft(l,"link",n),dt(l),a.head.appendChild(l)}}}function sw(n,r,a){tr.S(n,r,a);var l=Xa;if(l&&n){var f=nn(l).hoistableStyles,d=Wa(n);r=r||"default";var E=f.get(d);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(Cl(d)))T.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Vn.get(d))&&hm(n,a);var C=E=l.createElement("link");dt(C),Ft(C,"link",n),C._p=new Promise(function(H,X){C.onload=H,C.onerror=X}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,zc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:T},f.set(d,E)}}}function aw(n,r){tr.X(n,r);var a=Xa;if(a&&n){var l=nn(a).hoistableScripts,f=Ja(n),d=l.get(f);d||(d=a.querySelector(Il(f)),d||(n=v({src:n,async:!0},r),(r=Vn.get(f))&&fm(n,r),d=a.createElement("script"),dt(d),Ft(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function ow(n,r){tr.M(n,r);var a=Xa;if(a&&n){var l=nn(a).hoistableScripts,f=Ja(n),d=l.get(f);d||(d=a.querySelector(Il(f)),d||(n=v({src:n,async:!0,type:"module"},r),(r=Vn.get(f))&&fm(n,r),d=a.createElement("script"),dt(d),Ft(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function _v(n,r,a,l){var f=(f=Ae.current)?Bc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Wa(a.href),a=nn(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Wa(a.href);var d=nn(f).hoistableStyles,E=d.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,E),(d=f.querySelector(Cl(n)))&&!d._p&&(E.instance=d,E.state.loading=5),Vn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(n,a),d||lw(f,n,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ja(a),a=nn(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Wa(n){return'href="'+vt(n)+'"'}function Cl(n){return'link[rel="stylesheet"]['+n+"]"}function vv(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function lw(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ft(r,"link",a),dt(r),n.head.appendChild(r))}function Ja(n){return'[src="'+vt(n)+'"]'}function Il(n){return"script[async]"+n}function Ev(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+vt(a.href)+'"]');if(l)return r.instance=l,dt(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),dt(l),Ft(l,"style",f),zc(l,a.precedence,n),r.instance=l;case"stylesheet":f=Wa(a.href);var d=n.querySelector(Cl(f));if(d)return r.state.loading|=4,r.instance=d,dt(d),d;l=vv(a),(f=Vn.get(f))&&hm(l,f),d=(n.ownerDocument||n).createElement("link"),dt(d);var E=d;return E._p=new Promise(function(T,C){E.onload=T,E.onerror=C}),Ft(d,"link",l),r.state.loading|=4,zc(d,a.precedence,n),r.instance=d;case"script":return d=Ja(a.src),(f=n.querySelector(Il(d)))?(r.instance=f,dt(f),f):(l=a,(f=Vn.get(d))&&(l=v({},a),fm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),dt(f),Ft(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,zc(l,a.precedence,n));return r.instance}function zc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===r)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function hm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function fm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var qc=null;function Tv(n,r,a){if(qc===null){var l=new Map,f=qc=new Map;f.set(a,l)}else f=qc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[ms]||d[bt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=n+E;var T=l.get(E);T?T.push(d):l.set(E,[d])}}return l}function Sv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function uw(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Av(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ol=null;function cw(){}function hw(n,r,a){if(Ol===null)throw Error(s(475));var l=Ol;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Wa(a.href),d=n.querySelector(Cl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Hc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,dt(d);return}d=n.ownerDocument||n,a=vv(a),(f=Vn.get(f))&&hm(a,f),d=d.createElement("link"),dt(d);var E=d;E._p=new Promise(function(T,C){E.onload=T,E.onerror=C}),Ft(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Hc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function fw(){if(Ol===null)throw Error(s(475));var n=Ol;return n.stylesheets&&n.count===0&&dm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&dm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Hc(){if(this.count--,this.count===0){if(this.stylesheets)dm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var jc=null;function dm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,jc=new Map,r.forEach(dw,n),jc=null,Hc.call(n))}function dw(n,r){if(!(r.state.loading&4)){var a=jc.get(n);if(a)var l=a.get(null);else{a=new Map,jc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=Hc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Dl={$$typeof:te,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function mw(n,r,a,l,f,d,E,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.hiddenUpdates=Ni(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function bv(n,r,a,l,f,d,E,T,C,H,X,J){return n=new mw(n,r,a,E,T,C,H,J),r=1,d===!0&&(r|=24),d=gn(3,null,null,r),n.current=d,d.stateNode=n,r=Yf(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Jf(d),n}function wv(n){return n?(n=Oa,n):Oa}function Rv(n,r,a,l,f,d){f=wv(f),l.context===null?l.context=f:l.pendingContext=f,l=Tr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Sr(n,l,r),a!==null&&(Tn(a,n,r),al(a,n,r))}function Cv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function mm(n,r){Cv(n,r),(n=n.alternate)&&Cv(n,r)}function Iv(n){if(n.tag===13){var r=Ia(n,67108864);r!==null&&Tn(r,n,67108864),mm(n,67108864)}}var Fc=!0;function pw(n,r,a,l){var f=$.T;$.T=null;var d=ae.p;try{ae.p=2,pm(n,r,a,l)}finally{ae.p=d,$.T=f}}function gw(n,r,a,l){var f=$.T;$.T=null;var d=ae.p;try{ae.p=8,pm(n,r,a,l)}finally{ae.p=d,$.T=f}}function pm(n,r,a,l){if(Fc){var f=gm(l);if(f===null)nm(n,r,l,Gc,a),Dv(n,l);else if(_w(f,n,r,a,l))l.stopPropagation();else if(Dv(n,l),r&4&&-1<yw.indexOf(n)){for(;f!==null;){var d=ei(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Bn(d.pendingLanes);if(E!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var C=1<<31-Yt(E);T.entanglements[1]|=C,E&=~C}mi(d),(Qe&6)===0&&(Ic=Sn()+500,Al(0))}}break;case 13:T=Ia(d,2),T!==null&&Tn(T,d,2),Dc(),mm(d,2)}if(d=gm(l),d===null&&nm(n,r,l,Gc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else nm(n,r,l,null,a)}}function gm(n){return n=wn(n),ym(n)}var Gc=null;function ym(n){if(Gc=null,n=Pi(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Gc=n,null}function Ov(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ef()){case Io:return 2;case oa:return 8;case us:case Tf:return 32;case la:return 268435456;default:return 32}default:return 32}}var _m=!1,kr=null,xr=null,Lr=null,Nl=new Map,Ml=new Map,Ur=[],yw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dv(n,r){switch(n){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":Nl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(r.pointerId)}}function Pl(n,r,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=ei(r),r!==null&&Iv(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function _w(n,r,a,l,f){switch(r){case"focusin":return kr=Pl(kr,n,r,a,l,f),!0;case"dragenter":return xr=Pl(xr,n,r,a,l,f),!0;case"mouseover":return Lr=Pl(Lr,n,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Nl.set(d,Pl(Nl.get(d)||null,n,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ml.set(d,Pl(Ml.get(d)||null,n,r,a,l,f)),!0}return!1}function Nv(n){var r=Pi(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,Du(n.priority,function(){if(a.tag===13){var l=En();l=fr(l);var f=Ia(a,l);f!==null&&Tn(f,a,l),mm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Kc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=gm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Li=l,a.target.dispatchEvent(l),Li=null}else return r=ei(a),r!==null&&Iv(r),n.blockedOn=a,!1;r.shift()}return!0}function Mv(n,r,a){Kc(n)&&a.delete(r)}function vw(){_m=!1,kr!==null&&Kc(kr)&&(kr=null),xr!==null&&Kc(xr)&&(xr=null),Lr!==null&&Kc(Lr)&&(Lr=null),Nl.forEach(Mv),Ml.forEach(Mv)}function Qc(n,r){n.blockedOn===r&&(n.blockedOn=null,_m||(_m=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,vw)))}var Yc=null;function Pv(n){Yc!==n&&(Yc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Yc===n&&(Yc=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(ym(l||a)===null)continue;break}var d=ei(a);d!==null&&(n.splice(r,3),r-=3,yd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Vl(n){function r(C){return Qc(C,n)}kr!==null&&Qc(kr,n),xr!==null&&Qc(xr,n),Lr!==null&&Qc(Lr,n),Nl.forEach(r),Ml.forEach(r);for(var a=0;a<Ur.length;a++){var l=Ur[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Ur.length&&(a=Ur[0],a.blockedOn===null);)Nv(a),a.blockedOn===null&&Ur.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[_t]||null;if(typeof d=="function")E||Pv(a);else if(E){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[_t]||null)T=E.formAction;else if(ym(f)!==null)continue}else T=E.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Pv(a)}}}function vm(n){this._internalRoot=n}$c.prototype.render=vm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=En();Rv(a,l,n,r,null,null)},$c.prototype.unmount=vm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Rv(n.current,2,null,n,null,null),Dc(),r[An]=null}};function $c(n){this._internalRoot=n}$c.prototype.unstable_scheduleHydration=function(n){if(n){var r=dr();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Ur.length&&r!==0&&r<Ur[a].priority;a++);Ur.splice(a,0,n),a===0&&Nv(n)}};var Vv=e.version;if(Vv!=="19.1.0")throw Error(s(527,Vv,"19.1.0"));ae.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(r),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var Ew={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{ct=Xc.inject(Ew),Ke=Xc}catch{}}return xl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=Xy,d=Wy,E=Jy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=bv(n,1,!1,null,null,a,l,f,d,E,T,null),n[An]=r.current,tm(n),new vm(r)},xl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=Xy,E=Wy,T=Jy,C=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),r=bv(n,1,!0,r,a??null,l,f,d,E,T,C,H),r.context=wv(null),a=r.current,l=En(),l=fr(l),f=Tr(l),f.callback=null,Sr(a,f,l),a=l,r.current.lanes=a,Mi(r,a),mi(r),n[An]=r.current,tm(n),new $c(r)},xl.version="19.1.0",xl}var Fv;function Dw(){if(Fv)return Sm.exports;Fv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Sm.exports=Ow(),Sm.exports}var Nw=Dw();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Gv="popstate";function Mw(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Fm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Jl(o)}return Vw(e,t,null,i)}function st(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Yn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Pw(){return Math.random().toString(36).substring(2,10)}function Kv(i,e){return{usr:i.state,key:i.key,idx:e}}function Fm(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?go(e):e,state:t,key:e&&e.key||s||Pw()}}function Jl({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function go(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Vw(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",g=null,p=v();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function v(){return(h.state||{idx:null}).idx}function S(){m="POP";let D=v(),K=D==null?null:D-p;p=D,g&&g({action:m,location:q.location,delta:K})}function b(D,K){m="PUSH";let ie=Fm(q.location,D,K);p=v()+1;let te=Kv(ie,p),he=q.createHref(ie);try{h.pushState(te,"",he)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(he)}u&&g&&g({action:m,location:q.location,delta:1})}function x(D,K){m="REPLACE";let ie=Fm(q.location,D,K);p=v();let te=Kv(ie,p),he=q.createHref(ie);h.replaceState(te,"",he),u&&g&&g({action:m,location:q.location,delta:0})}function V(D){return kw(D)}let q={get action(){return m},get location(){return i(o,h)},listen(D){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Gv,S),g=D,()=>{o.removeEventListener(Gv,S),g=null}},createHref(D){return e(o,D)},createURL:V,encodeLocation(D){let K=V(D);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:b,replace:x,go(D){return h.go(D)}};return q}function kw(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),st(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Jl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function qT(i,e,t="/"){return xw(i,e,t,!1)}function xw(i,e,t,s){let o=typeof e=="string"?go(e):e,u=ar(o.pathname||"/",t);if(u==null)return null;let h=HT(i);Lw(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let p=Yw(u);m=Kw(h[g],p,s)}return m}function HT(i,e=[],t=[],s=""){let o=(u,h,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(st(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let p=rr([s,g.relativePath]),v=t.concat(g);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),HT(u.children,e,v,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:Fw(p,u.index),routesMeta:v})};return i.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let m of jT(u.path))o(u,h,m)}),e}function jT(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=jT(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function Lw(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:Gw(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var Uw=/^:[\w-]+$/,Bw=3,zw=2,qw=1,Hw=10,jw=-2,Qv=i=>i==="*";function Fw(i,e){let t=i.split("/"),s=t.length;return t.some(Qv)&&(s+=jw),e&&(s+=zw),t.filter(o=>!Qv(o)).reduce((o,u)=>o+(Uw.test(u)?Bw:u===""?qw:Hw),s)}function Gw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Kw(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",S=Sh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},v),b=g.route;if(!S&&p&&t&&!s[s.length-1].route.index&&(S=Sh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!S)return null;Object.assign(o,S.params),h.push({params:o,pathname:rr([u,S.pathname]),pathnameBase:Jw(rr([u,S.pathnameBase])),route:b}),S.pathnameBase!=="/"&&(u=rr([u,S.pathnameBase]))}return h}function Sh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=Qw(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:S},b)=>{if(v==="*"){let V=m[b]||"";h=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const x=m[b];return S&&!x?p[v]=void 0:p[v]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:i}}function Qw(i,e=!1,t=!0){Yn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Yw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ar(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function $w(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?go(i):i;return{pathname:t?t.startsWith("/")?t:Xw(t,e):e,search:Zw(s),hash:eR(o)}}function Xw(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Rm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ww(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ap(i){let e=Ww(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function bp(i,e,t,s=!1){let o;typeof i=="string"?o=go(i):(o={...i},st(!o.pathname||!o.pathname.includes("?"),Rm("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),Rm("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),Rm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=t;else{let S=e.length-1;if(!s&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),S-=1;o.pathname=b.join("/")}m=S>=0?e[S]:"/"}let g=$w(o,m),p=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(p||v)&&(g.pathname+="/"),g}var rr=i=>i.join("/").replace(/\/\/+/g,"/"),Jw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Zw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,eR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function tR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var FT=["POST","PUT","PATCH","DELETE"];new Set(FT);var nR=["GET",...FT];new Set(nR);var yo=Y.createContext(null);yo.displayName="DataRouter";var Qh=Y.createContext(null);Qh.displayName="DataRouterState";Y.createContext(!1);var GT=Y.createContext({isTransitioning:!1});GT.displayName="ViewTransition";var iR=Y.createContext(new Map);iR.displayName="Fetchers";var rR=Y.createContext(null);rR.displayName="Await";var Xn=Y.createContext(null);Xn.displayName="Navigation";var hu=Y.createContext(null);hu.displayName="Location";var Ci=Y.createContext({outlet:null,matches:[],isDataRoute:!1});Ci.displayName="Route";var wp=Y.createContext(null);wp.displayName="RouteError";function sR(i,{relative:e}={}){st(_o(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=Y.useContext(Xn),{hash:o,pathname:u,search:h}=fu(i,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:rr([t,u])),s.createHref({pathname:m,search:h,hash:o})}function _o(){return Y.useContext(hu)!=null}function rs(){return st(_o(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(hu).location}var KT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QT(i){Y.useContext(Xn).static||Y.useLayoutEffect(i)}function Rp(){let{isDataRoute:i}=Y.useContext(Ci);return i?_R():aR()}function aR(){st(_o(),"useNavigate() may be used only in the context of a <Router> component.");let i=Y.useContext(yo),{basename:e,navigator:t}=Y.useContext(Xn),{matches:s}=Y.useContext(Ci),{pathname:o}=rs(),u=JSON.stringify(Ap(s)),h=Y.useRef(!1);return QT(()=>{h.current=!0}),Y.useCallback((g,p={})=>{if(Yn(h.current,KT),!h.current)return;if(typeof g=="number"){t.go(g);return}let v=bp(g,JSON.parse(u),o,p.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:rr([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,u,o,i])}Y.createContext(null);function fu(i,{relative:e}={}){let{matches:t}=Y.useContext(Ci),{pathname:s}=rs(),o=JSON.stringify(Ap(t));return Y.useMemo(()=>bp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function oR(i,e){return YT(i,e)}function YT(i,e,t,s){st(_o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Y.useContext(Xn),{matches:u}=Y.useContext(Ci),h=u[u.length-1],m=h?h.params:{},g=h?h.pathname:"/",p=h?h.pathnameBase:"/",v=h&&h.route;{let K=v&&v.path||"";$T(g,!v||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let S=rs(),b;if(e){let K=typeof e=="string"?go(e):e;st(p==="/"||K.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${K.pathname}" was given in the \`location\` prop.`),b=K}else b=S;let x=b.pathname||"/",V=x;if(p!=="/"){let K=p.replace(/^\//,"").split("/");V="/"+x.replace(/^\//,"").split("/").slice(K.length).join("/")}let q=qT(i,{pathname:V});Yn(v||q!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Yn(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=fR(q&&q.map(K=>Object.assign({},K,{params:Object.assign({},m,K.params),pathname:rr([p,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?p:rr([p,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),u,t,s);return e&&D?Y.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},D):D}function lR(){let i=yR(),e=tR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:u},"ErrorBoundary")," or"," ",Y.createElement("code",{style:u},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),t?Y.createElement("pre",{style:o},t):null,h)}var uR=Y.createElement(lR,null),cR=class extends Y.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?Y.createElement(Ci.Provider,{value:this.props.routeContext},Y.createElement(wp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hR({routeContext:i,match:e,children:t}){let s=Y.useContext(yo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Y.createElement(Ci.Provider,{value:i},t)}function fR(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t?.errors;if(u!=null){let g=o.findIndex(p=>p.route.id&&u?.[p.route.id]!==void 0);st(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,m=-1;if(t)for(let g=0;g<o.length;g++){let p=o[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:v,errors:S}=t,b=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!S||S[p.route.id]===void 0);if(p.route.lazy||b){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,p,v)=>{let S,b=!1,x=null,V=null;t&&(S=u&&p.route.id?u[p.route.id]:void 0,x=p.route.errorElement||uR,h&&(m<0&&v===0?($T("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,V=null):m===v&&(b=!0,V=p.route.hydrateFallbackElement||null)));let q=e.concat(o.slice(0,v+1)),D=()=>{let K;return S?K=x:b?K=V:p.route.Component?K=Y.createElement(p.route.Component,null):p.route.element?K=p.route.element:K=g,Y.createElement(hR,{match:p,routeContext:{outlet:g,matches:q,isDataRoute:t!=null},children:K})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?Y.createElement(cR,{location:t.location,revalidation:t.revalidation,component:x,error:S,children:D(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):D()},null)}function Cp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dR(i){let e=Y.useContext(yo);return st(e,Cp(i)),e}function mR(i){let e=Y.useContext(Qh);return st(e,Cp(i)),e}function pR(i){let e=Y.useContext(Ci);return st(e,Cp(i)),e}function Ip(i){let e=pR(i),t=e.matches[e.matches.length-1];return st(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function gR(){return Ip("useRouteId")}function yR(){let i=Y.useContext(wp),e=mR("useRouteError"),t=Ip("useRouteError");return i!==void 0?i:e.errors?.[t]}function _R(){let{router:i}=dR("useNavigate"),e=Ip("useNavigate"),t=Y.useRef(!1);return QT(()=>{t.current=!0}),Y.useCallback(async(o,u={})=>{Yn(t.current,KT),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Yv={};function $T(i,e,t){!e&&!Yv[i]&&(Yv[i]=!0,Yn(!1,t))}Y.memo(vR);function vR({routes:i,future:e,state:t}){return YT(i,void 0,t,e)}function ER({to:i,replace:e,state:t,relative:s}){st(_o(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Y.useContext(Xn);Yn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=Y.useContext(Ci),{pathname:h}=rs(),m=Rp(),g=bp(i,Ap(u),h,s==="path"),p=JSON.stringify(g);return Y.useEffect(()=>{m(JSON.parse(p),{replace:e,state:t,relative:s})},[m,p,s,e,t]),null}function sh(i){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TR({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){st(!_o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=Y.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=go(t));let{pathname:g="/",search:p="",hash:v="",state:S=null,key:b="default"}=t,x=Y.useMemo(()=>{let V=ar(g,h);return V==null?null:{location:{pathname:V,search:p,hash:v,state:S,key:b},navigationType:s}},[h,g,p,v,S,b,s]);return Yn(x!=null,`<Router basename="${h}"> is not able to match the URL "${g}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:Y.createElement(Xn.Provider,{value:m},Y.createElement(hu.Provider,{children:e,value:x}))}function SR({children:i,location:e}){return oR(Gm(i),e)}function Gm(i,e=[]){let t=[];return Y.Children.forEach(i,(s,o)=>{if(!Y.isValidElement(s))return;let u=[...e,o];if(s.type===Y.Fragment){t.push.apply(t,Gm(s.props.children,u));return}st(s.type===sh,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Gm(s.props.children,u)),t.push(h)}),t}var ah="get",oh="application/x-www-form-urlencoded";function Yh(i){return i!=null&&typeof i.tagName=="string"}function AR(i){return Yh(i)&&i.tagName.toLowerCase()==="button"}function bR(i){return Yh(i)&&i.tagName.toLowerCase()==="form"}function wR(i){return Yh(i)&&i.tagName.toLowerCase()==="input"}function RR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function CR(i,e){return i.button===0&&(!e||e==="_self")&&!RR(i)}var Wc=null;function IR(){if(Wc===null)try{new FormData(document.createElement("form"),0),Wc=!1}catch{Wc=!0}return Wc}var OR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cm(i){return i!=null&&!OR.has(i)?(Yn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oh}"`),null):i}function DR(i,e){let t,s,o,u,h;if(bR(i)){let m=i.getAttribute("action");s=m?ar(m,e):null,t=i.getAttribute("method")||ah,o=Cm(i.getAttribute("enctype"))||oh,u=new FormData(i)}else if(AR(i)||wR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?ar(g,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||ah,o=Cm(i.getAttribute("formenctype"))||Cm(m.getAttribute("enctype"))||oh,u=new FormData(m,i),!IR()){let{name:p,type:v,value:S}=i;if(v==="image"){let b=p?`${p}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else p&&u.append(p,S)}}else{if(Yh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ah,s=null,o=oh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Op(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function NR(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&ar(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function MR(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function VR(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await MR(u,t);return h.links?h.links():[]}return[]}));return UR(s.flat(1).filter(PR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function $v(i,e,t,s,o,u){let h=(g,p)=>t[p]?g.route.id!==t[p].route.id:!0,m=(g,p)=>t[p].pathname!==g.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,p)=>h(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{let v=s.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(h(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function kR(i,e,{includeHydrateFallback:t}={}){return xR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function xR(i){return[...new Set(i)]}function LR(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function UR(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(LR(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function XT(){let i=Y.useContext(yo);return Op(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function BR(){let i=Y.useContext(Qh);return Op(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Dp=Y.createContext(void 0);Dp.displayName="FrameworkContext";function WT(){let i=Y.useContext(Dp);return Op(i,"You must render this element inside a <HydratedRouter> element"),i}function zR(i,e){let t=Y.useContext(Dp),[s,o]=Y.useState(!1),[u,h]=Y.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:v,onTouchStart:S}=e,b=Y.useRef(null);Y.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let q=K=>{K.forEach(ie=>{h(ie.isIntersecting)})},D=new IntersectionObserver(q,{threshold:.5});return b.current&&D.observe(b.current),()=>{D.disconnect()}}},[i]),Y.useEffect(()=>{if(s){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[s]);let x=()=>{o(!0)},V=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,b,{}]:[u,b,{onFocus:Ll(m,x),onBlur:Ll(g,V),onMouseEnter:Ll(p,x),onMouseLeave:Ll(v,V),onTouchStart:Ll(S,x)}]:[!1,b,{}]}function Ll(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function qR({page:i,...e}){let{router:t}=XT(),s=Y.useMemo(()=>qT(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?Y.createElement(jR,{page:i,matches:s,...e}):null}function HR(i){let{manifest:e,routeModules:t}=WT(),[s,o]=Y.useState([]);return Y.useEffect(()=>{let u=!1;return VR(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function jR({page:i,matches:e,...t}){let s=rs(),{manifest:o,routeModules:u}=WT(),{basename:h}=XT(),{loaderData:m,matches:g}=BR(),p=Y.useMemo(()=>$v(i,e,g,o,s,"data"),[i,e,g,o,s]),v=Y.useMemo(()=>$v(i,e,g,o,s,"assets"),[i,e,g,o,s]),S=Y.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let V=new Set,q=!1;if(e.forEach(K=>{let ie=o.routes[K.route.id];!ie||!ie.hasLoader||(!p.some(te=>te.route.id===K.route.id)&&K.route.id in m&&u[K.route.id]?.shouldRevalidate||ie.hasClientLoader?q=!0:V.add(K.route.id))}),V.size===0)return[];let D=NR(i,h,"data");return q&&V.size>0&&D.searchParams.set("_routes",e.filter(K=>V.has(K.route.id)).map(K=>K.route.id).join(",")),[D.pathname+D.search]},[h,m,s,o,p,e,i,u]),b=Y.useMemo(()=>kR(v,o),[v,o]),x=HR(v);return Y.createElement(Y.Fragment,null,S.map(V=>Y.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...t})),b.map(V=>Y.createElement("link",{key:V,rel:"modulepreload",href:V,...t})),x.map(({key:V,link:q})=>Y.createElement("link",{key:V,...q})))}function FR(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var JT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{JT&&(window.__reactRouterVersion="7.7.0")}catch{}function GR({basename:i,children:e,window:t}){let s=Y.useRef();s.current==null&&(s.current=Mw({window:t,v5Compat:!0}));let o=s.current,[u,h]=Y.useState({action:o.action,location:o.location}),m=Y.useCallback(g=>{Y.startTransition(()=>h(g))},[h]);return Y.useLayoutEffect(()=>o.listen(m),[o,m]),Y.createElement(TR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var ZT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,e0=Y.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:g,to:p,preventScrollReset:v,viewTransition:S,...b},x){let{basename:V}=Y.useContext(Xn),q=typeof p=="string"&&ZT.test(p),D,K=!1;if(typeof p=="string"&&q&&(D=p,JT))try{let R=new URL(window.location.href),P=p.startsWith("//")?new URL(R.protocol+p):new URL(p),k=ar(P.pathname,V);P.origin===R.origin&&k!=null?p=k+P.search+P.hash:K=!0}catch{Yn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=sR(p,{relative:o}),[te,he,le]=zR(s,b),Te=$R(p,{replace:h,state:m,target:g,preventScrollReset:v,relative:o,viewTransition:S});function M(R){e&&e(R),R.defaultPrevented||Te(R)}let w=Y.createElement("a",{...b,...le,href:D||ie,onClick:K||u?e:M,ref:FR(x,he),target:g,"data-discover":!q&&t==="render"?"true":void 0});return te&&!q?Y.createElement(Y.Fragment,null,w,Y.createElement(qR,{page:ie})):w});e0.displayName="Link";var KR=Y.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:g,...p},v){let S=fu(h,{relative:p.relative}),b=rs(),x=Y.useContext(Qh),{navigator:V,basename:q}=Y.useContext(Xn),D=x!=null&&e1(S)&&m===!0,K=V.encodeLocation?V.encodeLocation(S).pathname:S.pathname,ie=b.pathname,te=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(ie=ie.toLowerCase(),te=te?te.toLowerCase():null,K=K.toLowerCase()),te&&q&&(te=ar(te,q)||te);const he=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let le=ie===K||!o&&ie.startsWith(K)&&ie.charAt(he)==="/",Te=te!=null&&(te===K||!o&&te.startsWith(K)&&te.charAt(K.length)==="/"),M={isActive:le,isPending:Te,isTransitioning:D},w=le?e:void 0,R;typeof s=="function"?R=s(M):R=[s,le?"active":null,Te?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(M):u;return Y.createElement(e0,{...p,"aria-current":w,className:R,ref:v,style:P,to:h,viewTransition:m},typeof g=="function"?g(M):g)});KR.displayName="NavLink";var QR=Y.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=ah,action:m,onSubmit:g,relative:p,preventScrollReset:v,viewTransition:S,...b},x)=>{let V=JR(),q=ZR(m,{relative:p}),D=h.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&ZT.test(m),ie=te=>{if(g&&g(te),te.defaultPrevented)return;te.preventDefault();let he=te.nativeEvent.submitter,le=he?.getAttribute("formmethod")||h;V(he||te.currentTarget,{fetcherKey:e,method:le,navigate:t,replace:o,state:u,relative:p,preventScrollReset:v,viewTransition:S})};return Y.createElement("form",{ref:x,method:D,action:q,onSubmit:s?g:ie,...b,"data-discover":!K&&i==="render"?"true":void 0})});QR.displayName="Form";function YR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t0(i){let e=Y.useContext(yo);return st(e,YR(i)),e}function $R(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=Rp(),g=rs(),p=fu(i,{relative:u});return Y.useCallback(v=>{if(CR(v,e)){v.preventDefault();let S=t!==void 0?t:Jl(g)===Jl(p);m(i,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,m,p,t,s,e,i,o,u,h])}var XR=0,WR=()=>`__${String(++XR)}__`;function JR(){let{router:i}=t0("useSubmit"),{basename:e}=Y.useContext(Xn),t=gR();return Y.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:g,body:p}=DR(s,e);if(o.navigate===!1){let v=o.fetcherKey||WR();await i.fetch(v,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function ZR(i,{relative:e}={}){let{basename:t}=Y.useContext(Xn),s=Y.useContext(Ci);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...fu(i||".",{relative:e})},h=rs();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(v=>v==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let v=m.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:rr([t,u.pathname])),Jl(u)}function e1(i,e={}){let t=Y.useContext(GT);st(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=t0("useViewTransitionState"),o=fu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=ar(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=ar(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Sh(o.pathname,h)!=null||Sh(o.pathname,u)!=null}const t1=()=>{};var Xv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},n1=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],m=i[t++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},i0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,g=o+2<i.length,p=g?i[o+2]:0,v=u>>2,S=(u&3)<<4|m>>4;let b=(m&15)<<2|p>>6,x=p&63;g||(x=64,h||(b=64)),s.push(t[v],t[S],t[b],t[x])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(n0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):n1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const p=o<i.length?t[i.charAt(o)]:64;++o;const S=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||p==null||S==null)throw new i1;const b=u<<2|m>>4;if(s.push(b),p!==64){const x=m<<4&240|p>>2;if(s.push(x),S!==64){const V=p<<6&192|S;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class i1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r1=function(i){const e=n0(i);return i0.encodeByteArray(e,!0)},Ah=function(i){return r1(i).replace(/\./g,"")},r0=function(i){try{return i0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=()=>s1().__FIREBASE_DEFAULTS__,o1=()=>{if(typeof process>"u"||typeof Xv>"u")return;const i=Xv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},l1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&r0(i[1]);return e&&JSON.parse(e)},$h=()=>{try{return t1()||a1()||o1()||l1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},s0=i=>$h()?.emulatorHosts?.[i],a0=i=>{const e=s0(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},o0=()=>$h()?.config,l0=i=>$h()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Np(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Ah(JSON.stringify(t)),Ah(JSON.stringify(h)),""].join(".")}const Gl={};function c1(){const i={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?i.emulator.push(e):i.prod.push(e);return i}function h1(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let Wv=!1;function Mp(i,e){if(typeof window>"u"||typeof document>"u"||!ea(window.location.host)||Gl[i]===e||Gl[i]||Wv)return;Gl[i]=e;function t(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=c1().prod.length>0;function h(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Wv=!0,h()},b}function v(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function S(){const b=h1(s),x=t("text"),V=document.getElementById(x)||document.createElement("span"),q=t("learnmore"),D=document.getElementById(q)||document.createElement("a"),K=t("preprendIcon"),ie=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const te=b.element;m(te),v(D,q);const he=p();g(ie,K),te.append(ie,V,D,he),document.body.appendChild(te)}u?(V.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function d1(){const i=$h()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function m1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function p1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function g1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y1(){const i=tn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function _1(){return!d1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v1(){try{return typeof indexedDB=="object"}catch{return!1}}function E1(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="FirebaseError";class Ii extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=T1,Object.setPrototypeOf(this,Ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,du.prototype.create)}}class du{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?S1(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Ii(o,m,s)}}function S1(i,e){return i.replace(A1,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const A1=/\{\$([^}]+)}/g;function b1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ys(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(Jv(u)&&Jv(h)){if(!Ys(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Jv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Bl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function zl(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function w1(i,e){const t=new R1(i,e);return t.subscribe.bind(t)}class R1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");C1(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Im),o.error===void 0&&(o.error=Im),o.complete===void 0&&(o.complete=Im);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function C1(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Im(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(i){return i&&i._delegate?i._delegate:i}class Wr{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new u1;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(D1(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:O1(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O1(i){return i===js?void 0:i}function D1(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new I1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const M1={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},P1=Pe.INFO,V1={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},k1=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=V1[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pp{constructor(e){this.name=e,this._logLevel=P1,this._logHandler=k1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?M1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const x1=(i,e)=>e.some(t=>i instanceof t);let Zv,eE;function L1(){return Zv||(Zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U1(){return eE||(eE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c0=new WeakMap,Km=new WeakMap,h0=new WeakMap,Om=new WeakMap,Vp=new WeakMap;function B1(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(Kr(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&c0.set(t,i)}).catch(()=>{}),Vp.set(e,i),e}function z1(i){if(Km.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Km.set(i,e)}let Qm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Km.get(i);if(e==="objectStoreNames")return i.objectStoreNames||h0.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Kr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function q1(i){Qm=i(Qm)}function H1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Dm(this),e,...t);return h0.set(s,e.sort?e.sort():[e]),Kr(s)}:U1().includes(i)?function(...e){return i.apply(Dm(this),e),Kr(c0.get(this))}:function(...e){return Kr(i.apply(Dm(this),e))}}function j1(i){return typeof i=="function"?H1(i):(i instanceof IDBTransaction&&z1(i),x1(i,L1())?new Proxy(i,Qm):i)}function Kr(i){if(i instanceof IDBRequest)return B1(i);if(Om.has(i))return Om.get(i);const e=j1(i);return e!==i&&(Om.set(i,e),Vp.set(e,i)),e}const Dm=i=>Vp.get(i);function F1(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=Kr(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Kr(h.result),g.oldVersion,g.newVersion,Kr(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const G1=["get","getKey","getAll","getAllKeys","count"],K1=["put","add","delete","clear"],Nm=new Map;function tE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Nm.get(e))return Nm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=K1.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||G1.includes(t)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[t](...m),o&&g.done]))[0]};return Nm.set(e,u),u}q1(i=>({...i,get:(e,t,s)=>tE(e,t)||i.get(e,t,s),has:(e,t)=>!!tE(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Y1(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function Y1(i){return i.getComponent()?.type==="VERSION"}const Ym="@firebase/app",nE="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new Pp("@firebase/app"),$1="@firebase/app-compat",X1="@firebase/analytics-compat",W1="@firebase/analytics",J1="@firebase/app-check-compat",Z1="@firebase/app-check",eC="@firebase/auth",tC="@firebase/auth-compat",nC="@firebase/database",iC="@firebase/data-connect",rC="@firebase/database-compat",sC="@firebase/functions",aC="@firebase/functions-compat",oC="@firebase/installations",lC="@firebase/installations-compat",uC="@firebase/messaging",cC="@firebase/messaging-compat",hC="@firebase/performance",fC="@firebase/performance-compat",dC="@firebase/remote-config",mC="@firebase/remote-config-compat",pC="@firebase/storage",gC="@firebase/storage-compat",yC="@firebase/firestore",_C="@firebase/ai",vC="@firebase/firestore-compat",EC="firebase",TC="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="[DEFAULT]",SC={[Ym]:"fire-core",[$1]:"fire-core-compat",[W1]:"fire-analytics",[X1]:"fire-analytics-compat",[Z1]:"fire-app-check",[J1]:"fire-app-check-compat",[eC]:"fire-auth",[tC]:"fire-auth-compat",[nC]:"fire-rtdb",[iC]:"fire-data-connect",[rC]:"fire-rtdb-compat",[sC]:"fire-fn",[aC]:"fire-fn-compat",[oC]:"fire-iid",[lC]:"fire-iid-compat",[uC]:"fire-fcm",[cC]:"fire-fcm-compat",[hC]:"fire-perf",[fC]:"fire-perf-compat",[dC]:"fire-rc",[mC]:"fire-rc-compat",[pC]:"fire-gcs",[gC]:"fire-gcs-compat",[yC]:"fire-fst",[vC]:"fire-fst-compat",[_C]:"fire-vertex","fire-js":"fire-js",[EC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Map,AC=new Map,Xm=new Map;function iE(i,e){try{i.container.addComponent(e)}catch(t){or.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function $s(i){const e=i.name;if(Xm.has(e))return or.debug(`There were multiple attempts to register component ${e}.`),!1;Xm.set(e,i);for(const t of bh.values())iE(t,i);for(const t of AC.values())iE(t,i);return!0}function Xh(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function kn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new du("app","Firebase",bC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=TC;function f0(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:$m,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Qr.create("bad-app-name",{appName:String(o)});if(t||(t=o0()),!t)throw Qr.create("no-options");const u=bh.get(o);if(u){if(Ys(t,u.options)&&Ys(s,u.config))return u;throw Qr.create("duplicate-app",{appName:o})}const h=new N1(o);for(const g of Xm.values())h.addComponent(g);const m=new wC(t,s,h);return bh.set(o,m),m}function kp(i=$m){const e=bh.get(i);if(!e&&i===$m&&o0())return f0();if(!e)throw Qr.create("no-app",{appName:i});return e}function yi(i,e,t){let s=SC[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),or.warn(h.join(" "));return}$s(new Wr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="firebase-heartbeat-database",CC=1,Zl="firebase-heartbeat-store";let Mm=null;function d0(){return Mm||(Mm=F1(RC,CC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Zl)}catch(t){console.warn(t)}}}}).catch(i=>{throw Qr.create("idb-open",{originalErrorMessage:i.message})})),Mm}async function IC(i){try{const t=(await d0()).transaction(Zl),s=await t.objectStore(Zl).get(m0(i));return await t.done,s}catch(e){if(e instanceof Ii)or.warn(e.message);else{const t=Qr.create("idb-get",{originalErrorMessage:e?.message});or.warn(t.message)}}}async function rE(i,e){try{const s=(await d0()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(e,m0(i)),await s.done}catch(t){if(t instanceof Ii)or.warn(t.message);else{const s=Qr.create("idb-set",{originalErrorMessage:t?.message});or.warn(s.message)}}}function m0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=1024,DC=30;class NC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new PC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=sE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>DC){const o=VC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){or.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=sE(),{heartbeatsToSend:t,unsentEntries:s}=MC(this._heartbeatsCache.heartbeats),o=Ah(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return or.warn(e),""}}}function sE(){return new Date().toISOString().substring(0,10)}function MC(i,e=OC){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),aE(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),aE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class PC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v1()?E1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await IC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return rE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return rE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function aE(i){return Ah(JSON.stringify({version:2,heartbeats:i})).length}function VC(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(i){$s(new Wr("platform-logger",e=>new Q1(e),"PRIVATE")),$s(new Wr("heartbeat",e=>new NC(e),"PRIVATE")),yi(Ym,nE,i),yi(Ym,nE,"esm2020"),yi("fire-js","")}kC("");var xC="firebase",LC="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yi(xC,LC,"app");var oE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yr,p0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,w){function R(){}R.prototype=w.prototype,M.D=w.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(P,k,U){for(var I=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)I[Bt-2]=arguments[Bt];return w.prototype[k].apply(P,I)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,w,R){R||(R=0);var P=Array(16);if(typeof w=="string")for(var k=0;16>k;++k)P[k]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(k=0;16>k;++k)P[k]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=M.g[0],R=M.g[1],k=M.g[2];var U=M.g[3],I=w+(U^R&(k^U))+P[0]+3614090360&4294967295;w=R+(I<<7&4294967295|I>>>25),I=U+(k^w&(R^k))+P[1]+3905402710&4294967295,U=w+(I<<12&4294967295|I>>>20),I=k+(R^U&(w^R))+P[2]+606105819&4294967295,k=U+(I<<17&4294967295|I>>>15),I=R+(w^k&(U^w))+P[3]+3250441966&4294967295,R=k+(I<<22&4294967295|I>>>10),I=w+(U^R&(k^U))+P[4]+4118548399&4294967295,w=R+(I<<7&4294967295|I>>>25),I=U+(k^w&(R^k))+P[5]+1200080426&4294967295,U=w+(I<<12&4294967295|I>>>20),I=k+(R^U&(w^R))+P[6]+2821735955&4294967295,k=U+(I<<17&4294967295|I>>>15),I=R+(w^k&(U^w))+P[7]+4249261313&4294967295,R=k+(I<<22&4294967295|I>>>10),I=w+(U^R&(k^U))+P[8]+1770035416&4294967295,w=R+(I<<7&4294967295|I>>>25),I=U+(k^w&(R^k))+P[9]+2336552879&4294967295,U=w+(I<<12&4294967295|I>>>20),I=k+(R^U&(w^R))+P[10]+4294925233&4294967295,k=U+(I<<17&4294967295|I>>>15),I=R+(w^k&(U^w))+P[11]+2304563134&4294967295,R=k+(I<<22&4294967295|I>>>10),I=w+(U^R&(k^U))+P[12]+1804603682&4294967295,w=R+(I<<7&4294967295|I>>>25),I=U+(k^w&(R^k))+P[13]+4254626195&4294967295,U=w+(I<<12&4294967295|I>>>20),I=k+(R^U&(w^R))+P[14]+2792965006&4294967295,k=U+(I<<17&4294967295|I>>>15),I=R+(w^k&(U^w))+P[15]+1236535329&4294967295,R=k+(I<<22&4294967295|I>>>10),I=w+(k^U&(R^k))+P[1]+4129170786&4294967295,w=R+(I<<5&4294967295|I>>>27),I=U+(R^k&(w^R))+P[6]+3225465664&4294967295,U=w+(I<<9&4294967295|I>>>23),I=k+(w^R&(U^w))+P[11]+643717713&4294967295,k=U+(I<<14&4294967295|I>>>18),I=R+(U^w&(k^U))+P[0]+3921069994&4294967295,R=k+(I<<20&4294967295|I>>>12),I=w+(k^U&(R^k))+P[5]+3593408605&4294967295,w=R+(I<<5&4294967295|I>>>27),I=U+(R^k&(w^R))+P[10]+38016083&4294967295,U=w+(I<<9&4294967295|I>>>23),I=k+(w^R&(U^w))+P[15]+3634488961&4294967295,k=U+(I<<14&4294967295|I>>>18),I=R+(U^w&(k^U))+P[4]+3889429448&4294967295,R=k+(I<<20&4294967295|I>>>12),I=w+(k^U&(R^k))+P[9]+568446438&4294967295,w=R+(I<<5&4294967295|I>>>27),I=U+(R^k&(w^R))+P[14]+3275163606&4294967295,U=w+(I<<9&4294967295|I>>>23),I=k+(w^R&(U^w))+P[3]+4107603335&4294967295,k=U+(I<<14&4294967295|I>>>18),I=R+(U^w&(k^U))+P[8]+1163531501&4294967295,R=k+(I<<20&4294967295|I>>>12),I=w+(k^U&(R^k))+P[13]+2850285829&4294967295,w=R+(I<<5&4294967295|I>>>27),I=U+(R^k&(w^R))+P[2]+4243563512&4294967295,U=w+(I<<9&4294967295|I>>>23),I=k+(w^R&(U^w))+P[7]+1735328473&4294967295,k=U+(I<<14&4294967295|I>>>18),I=R+(U^w&(k^U))+P[12]+2368359562&4294967295,R=k+(I<<20&4294967295|I>>>12),I=w+(R^k^U)+P[5]+4294588738&4294967295,w=R+(I<<4&4294967295|I>>>28),I=U+(w^R^k)+P[8]+2272392833&4294967295,U=w+(I<<11&4294967295|I>>>21),I=k+(U^w^R)+P[11]+1839030562&4294967295,k=U+(I<<16&4294967295|I>>>16),I=R+(k^U^w)+P[14]+4259657740&4294967295,R=k+(I<<23&4294967295|I>>>9),I=w+(R^k^U)+P[1]+2763975236&4294967295,w=R+(I<<4&4294967295|I>>>28),I=U+(w^R^k)+P[4]+1272893353&4294967295,U=w+(I<<11&4294967295|I>>>21),I=k+(U^w^R)+P[7]+4139469664&4294967295,k=U+(I<<16&4294967295|I>>>16),I=R+(k^U^w)+P[10]+3200236656&4294967295,R=k+(I<<23&4294967295|I>>>9),I=w+(R^k^U)+P[13]+681279174&4294967295,w=R+(I<<4&4294967295|I>>>28),I=U+(w^R^k)+P[0]+3936430074&4294967295,U=w+(I<<11&4294967295|I>>>21),I=k+(U^w^R)+P[3]+3572445317&4294967295,k=U+(I<<16&4294967295|I>>>16),I=R+(k^U^w)+P[6]+76029189&4294967295,R=k+(I<<23&4294967295|I>>>9),I=w+(R^k^U)+P[9]+3654602809&4294967295,w=R+(I<<4&4294967295|I>>>28),I=U+(w^R^k)+P[12]+3873151461&4294967295,U=w+(I<<11&4294967295|I>>>21),I=k+(U^w^R)+P[15]+530742520&4294967295,k=U+(I<<16&4294967295|I>>>16),I=R+(k^U^w)+P[2]+3299628645&4294967295,R=k+(I<<23&4294967295|I>>>9),I=w+(k^(R|~U))+P[0]+4096336452&4294967295,w=R+(I<<6&4294967295|I>>>26),I=U+(R^(w|~k))+P[7]+1126891415&4294967295,U=w+(I<<10&4294967295|I>>>22),I=k+(w^(U|~R))+P[14]+2878612391&4294967295,k=U+(I<<15&4294967295|I>>>17),I=R+(U^(k|~w))+P[5]+4237533241&4294967295,R=k+(I<<21&4294967295|I>>>11),I=w+(k^(R|~U))+P[12]+1700485571&4294967295,w=R+(I<<6&4294967295|I>>>26),I=U+(R^(w|~k))+P[3]+2399980690&4294967295,U=w+(I<<10&4294967295|I>>>22),I=k+(w^(U|~R))+P[10]+4293915773&4294967295,k=U+(I<<15&4294967295|I>>>17),I=R+(U^(k|~w))+P[1]+2240044497&4294967295,R=k+(I<<21&4294967295|I>>>11),I=w+(k^(R|~U))+P[8]+1873313359&4294967295,w=R+(I<<6&4294967295|I>>>26),I=U+(R^(w|~k))+P[15]+4264355552&4294967295,U=w+(I<<10&4294967295|I>>>22),I=k+(w^(U|~R))+P[6]+2734768916&4294967295,k=U+(I<<15&4294967295|I>>>17),I=R+(U^(k|~w))+P[13]+1309151649&4294967295,R=k+(I<<21&4294967295|I>>>11),I=w+(k^(R|~U))+P[4]+4149444226&4294967295,w=R+(I<<6&4294967295|I>>>26),I=U+(R^(w|~k))+P[11]+3174756917&4294967295,U=w+(I<<10&4294967295|I>>>22),I=k+(w^(U|~R))+P[2]+718787259&4294967295,k=U+(I<<15&4294967295|I>>>17),I=R+(U^(k|~w))+P[9]+3951481745&4294967295,M.g[0]=M.g[0]+w&4294967295,M.g[1]=M.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,M.g[2]=M.g[2]+k&4294967295,M.g[3]=M.g[3]+U&4294967295}s.prototype.u=function(M,w){w===void 0&&(w=M.length);for(var R=w-this.blockSize,P=this.B,k=this.h,U=0;U<w;){if(k==0)for(;U<=R;)o(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<w;)if(P[k++]=M.charCodeAt(U++),k==this.blockSize){o(this,P),k=0;break}}else for(;U<w;)if(P[k++]=M[U++],k==this.blockSize){o(this,P),k=0;break}}this.h=k,this.o+=w},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var w=1;w<M.length-8;++w)M[w]=0;var R=8*this.o;for(w=M.length-8;w<M.length;++w)M[w]=R&255,R/=256;for(this.u(M),M=Array(16),w=R=0;4>w;++w)for(var P=0;32>P;P+=8)M[R++]=this.g[w]>>>P&255;return M};function u(M,w){var R=m;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=w(M)}function h(M,w){this.h=w;for(var R=[],P=!0,k=M.length-1;0<=k;k--){var U=M[k]|0;P&&U==w||(R[k]=U,P=!1)}this.g=R}var m={};function g(M){return-128<=M&&128>M?u(M,function(w){return new h([w|0],0>w?-1:0)}):new h([M|0],0>M?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return S;if(0>M)return D(p(-M));for(var w=[],R=1,P=0;M>=R;P++)w[P]=M/R|0,R*=4294967296;return new h(w,0)}function v(M,w){if(M.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(M.charAt(0)=="-")return D(v(M.substring(1),w));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(w,8)),P=S,k=0;k<M.length;k+=8){var U=Math.min(8,M.length-k),I=parseInt(M.substring(k,k+U),w);8>U?(U=p(Math.pow(w,U)),P=P.j(U).add(p(I))):(P=P.j(R),P=P.add(p(I)))}return P}var S=g(0),b=g(1),x=g(16777216);i=h.prototype,i.m=function(){if(q(this))return-D(this).m();for(var M=0,w=1,R=0;R<this.g.length;R++){var P=this.i(R);M+=(0<=P?P:4294967296+P)*w,w*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(V(this))return"0";if(q(this))return"-"+D(this).toString(M);for(var w=p(Math.pow(M,6)),R=this,P="";;){var k=he(R,w).g;R=K(R,k.j(w));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=k,V(R))return U+P;for(;6>U.length;)U="0"+U;P=U+P}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function V(M){if(M.h!=0)return!1;for(var w=0;w<M.g.length;w++)if(M.g[w]!=0)return!1;return!0}function q(M){return M.h==-1}i.l=function(M){return M=K(this,M),q(M)?-1:V(M)?0:1};function D(M){for(var w=M.g.length,R=[],P=0;P<w;P++)R[P]=~M.g[P];return new h(R,~M.h).add(b)}i.abs=function(){return q(this)?D(this):this},i.add=function(M){for(var w=Math.max(this.g.length,M.g.length),R=[],P=0,k=0;k<=w;k++){var U=P+(this.i(k)&65535)+(M.i(k)&65535),I=(U>>>16)+(this.i(k)>>>16)+(M.i(k)>>>16);P=I>>>16,U&=65535,I&=65535,R[k]=I<<16|U}return new h(R,R[R.length-1]&-2147483648?-1:0)};function K(M,w){return M.add(D(w))}i.j=function(M){if(V(this)||V(M))return S;if(q(this))return q(M)?D(this).j(D(M)):D(D(this).j(M));if(q(M))return D(this.j(D(M)));if(0>this.l(x)&&0>M.l(x))return p(this.m()*M.m());for(var w=this.g.length+M.g.length,R=[],P=0;P<2*w;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(var k=0;k<M.g.length;k++){var U=this.i(P)>>>16,I=this.i(P)&65535,Bt=M.i(k)>>>16,ut=M.i(k)&65535;R[2*P+2*k]+=I*ut,ie(R,2*P+2*k),R[2*P+2*k+1]+=U*ut,ie(R,2*P+2*k+1),R[2*P+2*k+1]+=I*Bt,ie(R,2*P+2*k+1),R[2*P+2*k+2]+=U*Bt,ie(R,2*P+2*k+2)}for(P=0;P<w;P++)R[P]=R[2*P+1]<<16|R[2*P];for(P=w;P<2*w;P++)R[P]=0;return new h(R,0)};function ie(M,w){for(;(M[w]&65535)!=M[w];)M[w+1]+=M[w]>>>16,M[w]&=65535,w++}function te(M,w){this.g=M,this.h=w}function he(M,w){if(V(w))throw Error("division by zero");if(V(M))return new te(S,S);if(q(M))return w=he(D(M),w),new te(D(w.g),D(w.h));if(q(w))return w=he(M,D(w)),new te(D(w.g),w.h);if(30<M.g.length){if(q(M)||q(w))throw Error("slowDivide_ only works with positive integers.");for(var R=b,P=w;0>=P.l(M);)R=le(R),P=le(P);var k=Te(R,1),U=Te(P,1);for(P=Te(P,2),R=Te(R,2);!V(P);){var I=U.add(P);0>=I.l(M)&&(k=k.add(R),U=I),P=Te(P,1),R=Te(R,1)}return w=K(M,k.j(w)),new te(k,w)}for(k=S;0<=M.l(w);){for(R=Math.max(1,Math.floor(M.m()/w.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),U=p(R),I=U.j(w);q(I)||0<I.l(M);)R-=P,U=p(R),I=U.j(w);V(U)&&(U=b),k=k.add(U),M=K(M,I)}return new te(k,M)}i.A=function(M){return he(this,M).h},i.and=function(M){for(var w=Math.max(this.g.length,M.g.length),R=[],P=0;P<w;P++)R[P]=this.i(P)&M.i(P);return new h(R,this.h&M.h)},i.or=function(M){for(var w=Math.max(this.g.length,M.g.length),R=[],P=0;P<w;P++)R[P]=this.i(P)|M.i(P);return new h(R,this.h|M.h)},i.xor=function(M){for(var w=Math.max(this.g.length,M.g.length),R=[],P=0;P<w;P++)R[P]=this.i(P)^M.i(P);return new h(R,this.h^M.h)};function le(M){for(var w=M.g.length+1,R=[],P=0;P<w;P++)R[P]=M.i(P)<<1|M.i(P-1)>>>31;return new h(R,M.h)}function Te(M,w){var R=w>>5;w%=32;for(var P=M.g.length-R,k=[],U=0;U<P;U++)k[U]=0<w?M.i(U+R)>>>w|M.i(U+R+1)<<32-w:M.i(U+R);return new h(k,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,p0=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=v,Yr=h}).apply(typeof oE<"u"?oE:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var g0,ql,y0,lh,Wm,_0,v0,E0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var B=c[A];if(!(B in _))break e;_=_[B]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,B={next:function(){if(!A&&_<c.length){var G=_++;return{value:y(G,c[G]),done:!1}}return A=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function S(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,A),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function b(c,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:S,b.apply(null,arguments)}function x(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function V(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,B,G){for(var se=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)se[xe-2]=arguments[xe];return y.prototype[B].apply(A,se)}}function q(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function D(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(g(A)){const B=c.length||0,G=A.length||0;c.length=B+G;for(let se=0;se<G;se++)c[B+se]=A[se]}else c.push(A)}}class K{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ie(c){return/^[\s\xa0]*$/.test(c)}function te(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function he(c){return he[" "](c),c}he[" "]=function(){};var le=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function Te(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function M(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function w(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,y){let _,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(_ in A)c[_]=A[_];for(let G=0;G<R.length;G++)_=R[G],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function k(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function I(){var c=He;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Bt{constructor(){this.h=this.g=null}add(y,_){const A=ut.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ut=new K(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,me=!1,He=new Bt,O=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(ee)}};var ee=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){U(_)}var y=ut;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Oe(c,y){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(le){e:{try{he(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Oe.aa.h.call(this)}}V(Oe,re);var Ae={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),et=0;function Jn(c,y,_,A,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=B,this.key=++et,this.da=this.fa=!1}function hr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Di(c){this.src=c,this.g={},this.h=0}Di.prototype.add=function(c,y,_,A,B){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var se=os(c,y,A,B);return-1<se?(y=c[se],_||(y.fa=!1)):(y=new Jn(y,this.src,G,!!A,B),y.fa=_,c.push(y)),y};function as(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],B=Array.prototype.indexOf.call(A,y,void 0),G;(G=0<=B)&&Array.prototype.splice.call(A,B,1),G&&(hr(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function os(c,y,_,A){for(var B=0;B<c.length;++B){var G=c[B];if(!G.da&&G.listener==y&&G.capture==!!_&&G.ha==A)return B}return-1}var ls="closure_lm_"+(1e6*Math.random()|0),Co={};function Cu(c,y,_,A,B){if(Array.isArray(y)){for(var G=0;G<y.length;G++)Cu(c,y[G],_,A,B);return null}return _=Iu(_),c&&c[Nt]?c.K(y,_,p(A)?!!A.capture:!1,B):Sn(c,y,_,!1,A,B)}function Sn(c,y,_,A,B,G){if(!y)throw Error("Invalid event type");var se=p(B)?!!B.capture:!!B,xe=la(c);if(xe||(c[ls]=xe=new Di(c)),_=xe.add(y,_,A,se,G),_.proxy)return _;if(A=Ef(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)pe||(B=se),B===void 0&&(B=!1),c.addEventListener(y.toString(),A,B);else if(c.attachEvent)c.attachEvent(us(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ef(){function c(_){return y.call(c.src,c.listener,_)}const y=Tf;return c}function Io(c,y,_,A,B){if(Array.isArray(y))for(var G=0;G<y.length;G++)Io(c,y[G],_,A,B);else A=p(A)?!!A.capture:!!A,_=Iu(_),c&&c[Nt]?(c=c.i,y=String(y).toString(),y in c.g&&(G=c.g[y],_=os(G,_,A,B),-1<_&&(hr(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete c.g[y],c.h--)))):c&&(c=la(c))&&(y=c.g[y.toString()],c=-1,y&&(c=os(y,_,A,B)),(_=-1<c?y[c]:null)&&oa(_))}function oa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Nt])as(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(us(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=la(y))?(as(_,c),_.h==0&&(_.src=null,y[ls]=null)):hr(c)}}}function us(c){return c in Co?Co[c]:Co[c]="on"+c}function Tf(c,y){if(c.da)c=!0;else{y=new Oe(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&oa(c),c=_.call(A,y)}return c}function la(c){return c=c[ls],c instanceof Di?c:null}var Oo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Iu(c){return typeof c=="function"?c:(c[Oo]||(c[Oo]=function(y){return c.handleEvent(y)}),c[Oo])}function ct(){oe.call(this),this.i=new Di(this),this.M=this,this.F=null}V(ct,oe),ct.prototype[Nt]=!0,ct.prototype.removeEventListener=function(c,y,_,A){Io(this,c,y,_,A)};function Ke(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new re(y,c);else if(y instanceof re)y.target=y.target||c;else{var B=y;y=new re(A,c),P(y,B)}if(B=!0,_)for(var G=_.length-1;0<=G;G--){var se=y.g=_[G];B=dn(se,A,!0,y)&&B}if(se=y.g=c,B=dn(se,A,!0,y)&&B,B=dn(se,A,!1,y)&&B,_)for(G=0;G<_.length;G++)se=y.g=_[G],B=dn(se,A,!1,y)&&B}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)hr(_[A]);delete c.g[y],c.h--}}this.F=null},ct.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},ct.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function dn(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,G=0;G<y.length;++G){var se=y[G];if(se&&!se.da&&se.capture==_){var xe=se.listener,wt=se.ha||se.src;se.fa&&as(c.i,se),B=xe.call(wt,A)!==!1&&B}}return B&&!A.defaultPrevented}function Yt(c,y,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Ou(c){c.g=Yt(()=>{c.g=null,c.i&&(c.i=!1,Ou(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Sf extends oe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ou(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(c){oe.call(this),this.h=c,this.g={}}V(cs,oe);var hs=[];function fs(c){Te(c.g,function(y,_){this.g.hasOwnProperty(_)&&oa(y)},c),c.g={}}cs.prototype.N=function(){cs.aa.N.call(this),fs(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bn=m.JSON.stringify,ua=m.JSON.parse,ds=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Do(){}Do.prototype.h=null;function No(c){return c.h||(c.h=c.i())}function Mo(){}var Ni={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mi(){re.call(this,"d")}V(Mi,re);function Po(){re.call(this,"c")}V(Po,re);var Zn={},Vo=null;function fr(){return Vo=Vo||new ct}Zn.La="serverreachability";function ca(c){re.call(this,Zn.La,c)}V(ca,re);function dr(c){const y=fr();Ke(y,new ca(y))}Zn.STAT_EVENT="statevent";function Du(c,y){re.call(this,Zn.STAT_EVENT,c),this.stat=y}V(Du,re);function it(c){const y=fr();Ke(y,new Du(y,c))}Zn.Ma="timingevent";function bt(c,y){re.call(this,Zn.Ma,c),this.size=y}V(bt,re);function _t(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function An(){this.g=!0}An.prototype.xa=function(){this.g=!1};function ko(c,y,_,A,B,G){c.info(function(){if(c.g)if(G)for(var se="",xe=G.split("&"),wt=0;wt<xe.length;wt++){var Le=xe[wt].split("=");if(1<Le.length){var Pt=Le[0];Le=Le[1];var Rt=Pt.split("_");se=2<=Rt.length&&Rt[1]=="type"?se+(Pt+"="+Le+"&"):se+(Pt+"=redacted&")}}else se=null;else se=G;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+y+`
`+_+`
`+se})}function Af(c,y,_,A,B,G,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+y+`
`+_+`
`+G+" "+se})}function mr(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ms(c,_)+(A?" "+A:"")})}function Nu(c,y){c.info(function(){return"TIMEOUT: "+y})}An.prototype.info=function(){};function ms(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var B=A[1];if(Array.isArray(B)&&!(1>B.length)){var G=B[0];if(G!="noop"&&G!="stop"&&G!="close")for(var se=1;se<B.length;se++)B[se]=""}}}}return Bn(_)}catch{return y}}var pr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ei;function ti(){}V(ti,Do),ti.prototype.g=function(){return new XMLHttpRequest},ti.prototype.i=function(){return{}},ei=new ti;function nn(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var xo={},ha={};function zn(c,y,_){c.L=1,c.v=vs(mn(y)),c.m=_,c.P=!0,Vi(c,null)}function Vi(c,y){c.F=Date.now(),ps(c),c.A=mn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Ho(_.i,"t",A),c.C=0,_=c.j.J,c.h=new dt,c.g=Qu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Sf(b(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(hs[0]=B.toString()),B=hs);for(var G=0;G<B.length;G++){var se=Cu(_,B[G],A||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),dr(),ko(c.i,c.u,c.A,c.l,c.R,c.m)}nn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Cn(c)==3?y.j():this.Y(c)},nn.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=Cn(this.g);var y=this.g.Ba();const Hi=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||Bu(this.g)))){this.J||Rt!=4||y==7||(y==8||0>=Hi?dr(3):dr(2)),gr(this);var _=this.g.Z();this.X=_;t:if(Mu(this)){var A=Bu(this.g);c="";var B=A.length,G=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zt(this),ni(this);var se="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(G&&y==B-1)});A.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,Af(this.i,this.u,this.A,this.l,this.R,Rt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,wt=this.g;if((xe=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(xe)){var Le=xe;break t}}Le=null}if(_=Le)mr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gs(this,_);else{this.o=!1,this.s=3,it(12),zt(this),ni(this);break e}}if(this.P){_=!0;let qt;for(;!this.J&&this.C<se.length;)if(qt=Pu(this,se),qt==ha){Rt==4&&(this.s=4,it(14),_=!1),mr(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==xo){this.s=4,it(15),mr(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else mr(this.i,this.l,qt,null),gs(this,qt);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||se.length!=0||this.h.h||(this.s=1,it(16),_=!1),this.o=this.o&&_,!_)mr(this.i,this.l,se,"[Invalid Chunked Response]"),zt(this),ni(this);else if(0<se.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Cs(Pt),Pt.M=!0,it(11))}}else mr(this.i,this.l,se,null),gs(this,se);Rt==4&&zt(this),this.o&&!this.J&&(Rt==4?Fu(this.j,this):(this.o=!1,ps(this)))}else If(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),zt(this),ni(this)}}}catch{}finally{}};function Mu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Pu(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?ha:(_=Number(y.substring(_,A)),isNaN(_)?xo:(A+=1,A+_>y.length?ha:(y=y.slice(A,A+_),c.C=A+_,y)))}nn.prototype.cancel=function(){this.J=!0,zt(this)};function ps(c){c.S=Date.now()+c.I,Vu(c,c.I)}function Vu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_t(b(c.ba,c),y)}function gr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}nn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Nu(this.i,this.A),this.L!=2&&(dr(),it(17)),zt(this),this.s=2,ni(this)):Vu(this,this.S-c)};function ni(c){c.j.G==0||c.J||Fu(c.j,c)}function zt(c){gr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,fs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function gs(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Lo(_.h,c))){if(!c.K&&Lo(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Aa(_),Ta(_);else break e;Qo(_),it(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=_t(b(_.Za,_),6e3));if(1>=da(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else qi(_,11)}else if((c.K||_.g==c)&&Aa(_),!ie(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let Le=B[y];if(_.T=Le[0],Le=Le[1],_.G==2)if(Le[0]=="c"){_.K=Le[1],_.ia=Le[2];const Pt=Le[3];Pt!=null&&(_.la=Pt,_.j.info("VER="+_.la));const Rt=Le[4];Rt!=null&&(_.Aa=Rt,_.j.info("SVER="+_.Aa));const Hi=Le[5];Hi!=null&&typeof Hi=="number"&&0<Hi&&(A=1.5*Hi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const qt=c.g;if(qt){const ui=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ui){var G=A.h;G.g||ui.indexOf("spdy")==-1&&ui.indexOf("quic")==-1&&ui.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ma(G,G.h),G.h=null))}if(A.D){const $o=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;$o&&(A.ya=$o,$e(A.I,A.D,$o))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var se=c;if(A.qa=Ku(A,A.J?A.ia:null,A.W),se.K){rn(A.h,se);var xe=se,wt=A.L;wt&&(xe.I=wt),xe.B&&(gr(xe),ps(xe)),A.g=se}else Hu(A);0<_.i.length&&Sa(_)}else Le[0]!="stop"&&Le[0]!="close"||qi(_,7);else _.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?qi(_,7):Go(_):Le[0]!="noop"&&_.l&&_.l.ta(Le),_.v=0)}}dr(4)}catch{}}var ku=class{constructor(c,y){this.g=c,this.map=y}};function ki(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function da(c){return c.h?1:c.g?c.g.size:0}function Lo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ma(c,y){c.g?c.g.add(y):c.h=y}function rn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ki.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return q(c.i)}function bf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function pa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function Bo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=pa(c),A=bf(c),B=A.length,G=0;G<B;G++)y.call(void 0,A[G],_&&_[G],c)}var ys=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),B=null;if(0<=A){var G=c[_].substring(0,A);B=c[_].substring(A+1)}else G=c[_];y(G,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function vt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vt){this.h=c.h,_s(this,c.j),this.o=c.o,this.g=c.g,yr(this,c.s),this.l=c.l;var y=c.i,_=new Li;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),xi(this,_),this.m=c.m}else c&&(y=String(c).match(ys))?(this.h=!1,_s(this,y[1]||"",!0),this.o=bn(y[2]||""),this.g=bn(y[3]||"",!0),yr(this,y[4]),this.l=bn(y[5]||"",!0),xi(this,y[6]||"",!0),this.m=bn(y[7]||"")):(this.h=!1,this.i=new Li(null,this.h))}vt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Es(y,zo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Es(y,zo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Es(_,_.charAt(0)=="/"?Rf:qo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Es(_,ga)),c.join("")};function mn(c){return new vt(c)}function _s(c,y,_){c.j=_?bn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function yr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function xi(c,y,_){y instanceof Li?(c.i=y,Lu(c.i,c.h)):(_||(y=Es(y,Cf)),c.i=new Li(y,c.h))}function $e(c,y,_){c.i.set(y,_)}function vs(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function bn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Es(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,xu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function xu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var zo=/[#\/\?@]/g,qo=/[#\?:]/g,Rf=/[#\?]/g,Cf=/[#\?@]/g,ga=/#/g;function Li(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function wn(c){c.g||(c.g=new Map,c.h=0,c.i&&wf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Li.prototype,i.add=function(c,y){wn(this),this.i=null,c=ii(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ui(c,y){wn(c),y=ii(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Bi(c,y){return wn(c),y=ii(c,y),c.g.has(y)}i.forEach=function(c,y){wn(this),this.g.forEach(function(_,A){_.forEach(function(B){c.call(y,B,A,this)},this)},this)},i.na=function(){wn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const B=c[A];for(let G=0;G<B.length;G++)_.push(y[A])}return _},i.V=function(c){wn(this);let y=[];if(typeof c=="string")Bi(this,c)&&(y=y.concat(this.g.get(ii(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return wn(this),this.i=null,c=ii(this,c),Bi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ho(c,y,_){Ui(c,y),0<_.length&&(c.i=null,c.g.set(ii(c,y),q(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const G=encodeURIComponent(String(A)),se=this.V(A);for(A=0;A<se.length;A++){var B=G;se[A]!==""&&(B+="="+encodeURIComponent(String(se[A]))),c.push(B)}}return this.i=c.join("&")};function ii(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Lu(c,y){y&&!c.j&&(wn(c),c.i=null,c.g.forEach(function(_,A){var B=A.toLowerCase();A!=B&&(Ui(this,A),Ho(this,B,_))},c)),c.j=y}function Ts(c,y){const _=new An;if(m.Image){const A=new Image;A.onload=x(Rn,_,"TestLoadImage: loaded",!0,y,A),A.onerror=x(Rn,_,"TestLoadImage: error",!1,y,A),A.onabort=x(Rn,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=x(Rn,_,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function qn(c,y){const _=new An,A=new AbortController,B=setTimeout(()=>{A.abort(),Rn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(B),G.ok?Rn(_,"TestPingServer: ok",!0,y):Rn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Rn(_,"TestPingServer: error",!1,y)})}function Rn(c,y,_,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(_)}catch{}}function Ss(){this.g=new ds}function ri(c,y,_){const A=_||"";try{Bo(c,function(B,G){let se=B;p(B)&&(se=Bn(B)),y.push(A+G+"="+encodeURIComponent(se))})}catch(B){throw y.push(A+"type="+encodeURIComponent("_badmap")),B}}function _r(c){this.l=c.Ub||null,this.j=c.eb||!1}V(_r,Do),_r.prototype.g=function(){return new zi(this.l,this.j)},_r.prototype.i=function(c){return function(){return c}}({});function zi(c,y){ct.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(zi,ct),i=zi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ai(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function jo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?si(this):ai(this),this.readyState==3&&jo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,si(this))},i.Qa=function(c){this.g&&(this.response=c,si(this))},i.ga=function(){this.g&&si(this)};function si(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ai(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ai(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Fo(c){let y="";return Te(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Mt(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Fo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):$e(c,y,_))}function Fe(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Fe,ct);var ya=/^https?$/i,As=["POST","PUT"];i=Fe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ei.g(),this.v=this.o?No(this.o):No(ei),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Uu(this,G);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)_.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())_.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(As,y,void 0))||A||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of _)this.g.setRequestHeader(G,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bs(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Uu(this,G)}};function Uu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,_a(c),oi(c)}function _a(c){c.A||(c.A=!0,Ke(c,"complete"),Ke(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ke(this,"complete"),Ke(this,"abort"),oi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oi(this,!0)),Fe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?va(this):this.bb())},i.bb=function(){va(this)};function va(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)Yt(c.Ea,0,c);else if(Ke(c,"readystatechange"),Cn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=se===0){var B=String(c.D).match(ys)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),A=!ya.test(B?B.toLowerCase():"")}_=A}if(_)Ke(c,"complete"),Ke(c,"success");else{c.m=6;try{var G=2<Cn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",_a(c)}}finally{oi(c)}}}}function oi(c,y){if(c.g){bs(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ke(c,"ready");try{_.onreadystatechange=A}catch{}}}function bs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ua(y)}};function Bu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function If(c){const y={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ie(c[A]))continue;var _=k(c[A]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=y[B]||[];y[B]=G,G.push(_)}M(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ws(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ea(c){this.Aa=0,this.i=[],this.j=new An,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ws("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ws("baseRetryDelayMs",5e3,c),this.cb=ws("retryDelaySeedMs",1e4,c),this.Wa=ws("forwardChannelMaxRetries",2,c),this.wa=ws("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ki(c&&c.concurrentRequestLimit),this.Da=new Ss,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ea.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,A){it(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Ku(this,null,this.W),Sa(this)};function Go(c){if(zu(c),c.G==3){var y=c.U++,_=mn(c.I);if($e(_,"SID",c.K),$e(_,"RID",y),$e(_,"TYPE","terminate"),Rs(c,_),y=new nn(c,c.j,y),y.L=2,y.v=vs(mn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Qu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ps(y)}Gu(c)}function Ta(c){c.g&&(Cs(c),c.g.cancel(),c.g=null)}function zu(c){Ta(c),c.u&&(m.clearTimeout(c.u),c.u=null),Aa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Sa(c){if(!fa(c.h)&&!c.s){c.s=!0;var y=c.Ga;ae||O(),me||(ae(),me=!0),He.add(y,c),c.B=0}}function Of(c,y){return da(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_t(b(c.Ga,c,y),Yo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new nn(this,this.j,c);let G=this.o;if(this.S&&(G?(G=w(G),P(G,this.S)):G=this.S),this.m!==null||this.O||(B.H=G,G=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=qu(this,B,y),_=mn(this.I),$e(_,"RID",c),$e(_,"CVER",22),this.D&&$e(_,"X-HTTP-Session-Id",this.D),Rs(this,_),G&&(this.O?y="headers="+encodeURIComponent(String(Fo(G)))+"&"+y:this.m&&Mt(_,this.m,G)),ma(this.h,B),this.Ua&&$e(_,"TYPE","init"),this.P?($e(_,"$req",y),$e(_,"SID","null"),B.T=!0,zn(B,_,null)):zn(B,_,y),this.G=2}}else this.G==3&&(c?Ko(this,c):this.i.length==0||fa(this.h)||Ko(this))};function Ko(c,y){var _;y?_=y.l:_=c.U++;const A=mn(c.I);$e(A,"SID",c.K),$e(A,"RID",_),$e(A,"AID",c.T),Rs(c,A),c.m&&c.o&&Mt(A,c.m,c.o),_=new nn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=qu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ma(c.h,_),zn(_,A,y)}function Rs(c,y){c.H&&Te(c.H,function(_,A){$e(y,A,_)}),c.l&&Bo({},function(_,A){$e(y,A,_)})}function qu(c,y,_){_=Math.min(c.i.length,_);var A=c.l?b(c.l.Na,c.l,c):null;e:{var B=c.i;let G=-1;for(;;){const se=["count="+_];G==-1?0<_?(G=B[0].g,se.push("ofs="+G)):G=0:se.push("ofs="+G);let xe=!0;for(let wt=0;wt<_;wt++){let Le=B[wt].g;const Pt=B[wt].map;if(Le-=G,0>Le)G=Math.max(0,B[wt].g-100),xe=!1;else try{ri(Pt,se,"req"+Le+"_")}catch{A&&A(Pt)}}if(xe){A=se.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function Hu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ae||O(),me||(ae(),me=!0),He.add(y,c),c.v=0}}function Qo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_t(b(c.Fa,c),Yo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,ju(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_t(b(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Ta(this),ju(this))};function Cs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function ju(c){c.g=new nn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=mn(c.qa);$e(y,"RID","rpc"),$e(y,"SID",c.K),$e(y,"AID",c.T),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(y,"TO",c.ja),$e(y,"TYPE","xmlhttp"),Rs(c,y),c.m&&c.o&&Mt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=vs(mn(y)),_.m=null,_.P=!0,Vi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Ta(this),Qo(this),it(19))};function Aa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Fu(c,y){var _=null;if(c.g==y){Aa(c),Cs(c),c.g=null;var A=2}else if(Lo(c.h,y))_=y.D,rn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;A=fr(),Ke(A,new bt(A,_)),Sa(c)}else Hu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(A==1&&Of(c,y)||A==2&&Qo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:qi(c,5);break;case 4:qi(c,10);break;case 3:qi(c,6);break;default:qi(c,2)}}}function Yo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function qi(c,y){if(c.j.info("Error code "+y),y==2){var _=b(c.fb,c),A=c.Xa;const B=!A;A=new vt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||_s(A,"https"),vs(A),B?Ts(A.toString(),_):qn(A.toString(),_)}else it(2);c.G=0,c.l&&c.l.sa(y),Gu(c),zu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Gu(c){if(c.G=0,c.ka=[],c.l){const y=Uo(c.h);(y.length!=0||c.i.length!=0)&&(D(c.ka,y),D(c.ka,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.ra()}}function Ku(c,y,_){var A=_ instanceof vt?mn(_):new vt(_);if(A.g!="")y&&(A.g=y+"."+A.g),yr(A,A.s);else{var B=m.location;A=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var G=new vt(null);A&&_s(G,A),y&&(G.g=y),B&&yr(G,B),_&&(G.l=_),A=G}return _=c.D,y=c.ya,_&&y&&$e(A,_,y),$e(A,"VER",c.la),Rs(c,A),A}function Qu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Fe(new _r({eb:_})):new Fe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}i=Yu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ba(){}ba.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){ct.call(this),this.g=new Ea(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ie(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ie(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new li(this)}V(sn,ct),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Go(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Bn(c),c=_);y.i.push(new ku(y.Ya++,c)),y.G==3&&Sa(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,sn.aa.N.call(this)};function $u(c){Mi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}V($u,Mi);function Xu(){Po.call(this),this.status=1}V(Xu,Po);function li(c){this.g=c}V(li,Yu),li.prototype.ua=function(){Ke(this.g,"a")},li.prototype.ta=function(c){Ke(this.g,new $u(c))},li.prototype.sa=function(c){Ke(this.g,new Xu)},li.prototype.ra=function(){Ke(this.g,"b")},ba.prototype.createWebChannel=ba.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,E0=function(){return new ba},v0=function(){return fr()},_0=Zn,Wm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pr.NO_ERROR=0,pr.TIMEOUT=8,pr.HTTP_ERROR=6,lh=pr,Pi.COMPLETE="complete",y0=Pi,Mo.EventType=Ni,Ni.OPEN="a",Ni.CLOSE="b",Ni.ERROR="c",Ni.MESSAGE="d",ct.prototype.listen=ct.prototype.K,ql=Mo,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,g0=Fe}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const lE="@firebase/firestore",uE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new Pp("@firebase/firestore");function Za(){return Xs.logLevel}function ue(i,...e){if(Xs.logLevel<=Pe.DEBUG){const t=e.map(xp);Xs.debug(`Firestore (${vo}): ${i}`,...t)}}function lr(i,...e){if(Xs.logLevel<=Pe.ERROR){const t=e.map(xp);Xs.error(`Firestore (${vo}): ${i}`,...t)}}function lo(i,...e){if(Xs.logLevel<=Pe.WARN){const t=e.map(xp);Xs.warn(`Firestore (${vo}): ${i}`,...t)}}function xp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,T0(i,s,t)}function T0(i,e,t){let s=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw lr(s),new Error(s)}function Ge(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||T0(e,o,s)}function we(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Ii{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jt.UNAUTHENTICATED))}shutdown(){}}class BC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class zC{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let u=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new $r,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new $r)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new S0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class qC{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HC{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new qC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new cE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new cE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=FC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ve(i,e){return i<e?-1:i>e?1:0}function Jm(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Pm(o)===Pm(u)?Ve(o,u):Pm(o)?1:-1}return Ve(i.length,e.length)}const GC=55296,KC=57343;function Pm(i){const e=i.charCodeAt(0);return e>=GC&&e<=KC}function uo(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="__name__";class gi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ee(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return gi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=gi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ve(e.length,t.length)}static compareSegments(e,t){const s=gi.isNumericId(e),o=gi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?gi.extractNumericId(e).compare(gi.extractNumericId(t)):Jm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Yr.fromString(e.substring(4,e.length-2))}}class ot extends gi{construct(e,t,s){return new ot(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new ot(t)}static emptyPath(){return new ot([])}}const QC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends gi{construct(e,t,s){return new Kt(e,t,s)}static isValidIdentifier(e){return QC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hE}static keyField(){return new Kt([hE])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(ot.fromString(e))}static fromName(e){return new ge(ot.fromString(e).popFirst(5))}static empty(){return new ge(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(i,e,t){if(!t)throw new de(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function $C(i,e,t,s){if(e===!0&&s===!0)throw new de(ne.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function fE(i){if(!ge.isDocumentKey(i))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function A0(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Up(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function eu(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Up(i);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(i,e){const t={typeString:i};return e&&(t.value=e),t}function pu(i,e){if(!A0(i))throw new de(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new de(ne.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=-62135596800,mE=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*mE);return new nt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<dE)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pu(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-dE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:At("string",nt._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new nt(0,0))}static max(){return new be(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function XC(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new nt(t+1,0):new nt(t,s));return new Jr(o,ge.empty(),e)}function WC(i){return new Jr(i.readTime,i.key,tu)}class Jr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Jr(be.min(),ge.empty(),tu)}static max(){return new Jr(be.max(),ge.empty(),tu)}}function JC(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(i.documentKey,e.documentKey),t!==0?t:Ve(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==ZC)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,s)=>{t(e)})}static reject(e){return new Z((t,s)=>{s(e)})}static waitFor(e){return new Z((t,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},g=>s(g))}),h=!0,u===o&&t()})}static or(e){let t=Z.resolve(!1);for(const s of e)t=t.next(o=>o?Z.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new Z((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;t(e[p]).next(v=>{h[p]=v,++m,m===u&&s(h)},v=>o(v))}})}static doWhile(e,t){return new Z((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function tI(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function To(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Wh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=-1;function Jh(i){return i==null}function wh(i){return i===0&&1/i==-1/0}function nI(i){return typeof i=="number"&&Number.isInteger(i)&&!wh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="";function iI(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=pE(e)),e=rI(i.get(t),e);return pE(e)}function rI(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case b0:t+="";break;default:t+=u}}return t}function pE(i){return i+b0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function na(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function w0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zc(this.root,e,this.comparator,!0)}}class Zc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Gt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yE(this.data.getIterator())}getIteratorFrom(e){return new yE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class yE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Gn([])}unionWith(e){let t=new Dt(Kt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Gn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new R0("Invalid base64 string: "+u):u}}(e);return new Qt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const sI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const t=sI.exec(i);if(Ge(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(i.seconds),nanos:gt(i.nanos)}}function gt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function es(i){return typeof i=="string"?Qt.fromBase64String(i):Qt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="server_timestamp",I0="__type__",O0="__previous_value__",D0="__local_write_time__";function zp(i){return(i?.mapValue?.fields||{})[I0]?.stringValue===C0}function Zh(i){const e=i.mapValue.fields[O0];return zp(e)?Zh(e):e}function nu(i){const e=Zr(i.mapValue.fields[D0].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,t,s,o,u,h,m,g,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=v}}const Rh="(default)";class iu{constructor(e,t){this.projectId=e,this.database=t||Rh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="__type__",oI="__max__",eh={mapValue:{}},M0="__vector__",Ch="value";function ts(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?zp(i)?4:uI(i)?9007199254740991:lI(i)?10:11:Ee(28295,{value:i})}function bi(i,e){if(i===e)return!0;const t=ts(i);if(t!==ts(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return nu(i).isEqual(nu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Zr(o.timestampValue),m=Zr(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return es(o.bytesValue).isEqual(es(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=gt(o.doubleValue),m=gt(u.doubleValue);return h===m?wh(h)===wh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return uo(i.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(gE(h)!==gE(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!bi(h[g],m[g])))return!1;return!0}(i,e);default:return Ee(52216,{left:i})}}function ru(i,e){return(i.values||[]).find(t=>bi(t,e))!==void 0}function co(i,e){if(i===e)return 0;const t=ts(i),s=ts(e);if(t!==s)return Ve(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=gt(u.integerValue||u.doubleValue),g=gt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return _E(i.timestampValue,e.timestampValue);case 4:return _E(nu(i),nu(e));case 5:return Jm(i.stringValue,e.stringValue);case 6:return function(u,h){const m=es(u),g=es(h);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),g=h.split("/");for(let p=0;p<m.length&&p<g.length;p++){const v=Ve(m[p],g[p]);if(v!==0)return v}return Ve(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ve(gt(u.latitude),gt(h.latitude));return m!==0?m:Ve(gt(u.longitude),gt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return vE(i.arrayValue,e.arrayValue);case 10:return function(u,h){const m=u.fields||{},g=h.fields||{},p=m[Ch]?.arrayValue,v=g[Ch]?.arrayValue,S=Ve(p?.values?.length||0,v?.values?.length||0);return S!==0?S:vE(p,v)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===eh.mapValue&&h===eh.mapValue)return 0;if(u===eh.mapValue)return 1;if(h===eh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=h.fields||{},v=Object.keys(p);g.sort(),v.sort();for(let S=0;S<g.length&&S<v.length;++S){const b=Jm(g[S],v[S]);if(b!==0)return b;const x=co(m[g[S]],p[v[S]]);if(x!==0)return x}return Ve(g.length,v.length)}(i.mapValue,e.mapValue);default:throw Ee(23264,{he:t})}}function _E(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const t=Zr(i),s=Zr(e),o=Ve(t.seconds,s.seconds);return o!==0?o:Ve(t.nanos,s.nanos)}function vE(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=co(t[o],s[o]);if(u)return u}return Ve(t.length,s.length)}function ho(i){return Zm(i)}function Zm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=Zr(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return es(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ge.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Zm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Zm(t.fields[h])}`;return o+"}"}(i.mapValue):Ee(61005,{value:i})}function uh(i){switch(ts(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(i);return e?16+uh(e):16;case 5:return 2*i.stringValue.length;case 6:return es(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+uh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return na(s.fields,(u,h)=>{o+=u.length+uh(h)}),o}(i.mapValue);default:throw Ee(13486,{value:i})}}function ep(i){return!!i&&"integerValue"in i}function qp(i){return!!i&&"arrayValue"in i}function EE(i){return!!i&&"nullValue"in i}function TE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ch(i){return!!i&&"mapValue"in i}function lI(i){return(i?.mapValue?.fields||{})[N0]?.stringValue===M0}function Kl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return na(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Kl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Kl(i.arrayValue.values[t]);return e}return{...i}}function uI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===oI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ch(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(t)}setAll(e){let t=Kt.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=Kl(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());ch(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];ch(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){na(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new xn(Kl(this.value))}}function P0(i){const e=[];return na(i.fields,(t,s)=>{const o=new Kt([t]);if(ch(s)){const u=P0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,be.min(),be.min(),be.min(),xn.empty(),0)}static newFoundDocument(e,t,s,o){return new Zt(e,1,t,be.min(),s,o,0)}static newNoDocument(e,t){return new Zt(e,2,t,be.min(),be.min(),xn.empty(),0)}static newUnknownDocument(e,t){return new Zt(e,3,t,be.min(),be.min(),xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t){this.position=e,this.inclusive=t}}function SE(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(h.referenceValue),t.key):s=co(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function AE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!bi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t="asc"){this.field=e,this.dir=t}}function cI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{}class Ot extends V0{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new fI(e,t,s):t==="array-contains"?new pI(e,s):t==="in"?new gI(e,s):t==="not-in"?new yI(e,s):t==="array-contains-any"?new _I(e,s):new Ot(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new dI(e,s):new mI(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(co(t,this.value)):t!==null&&ts(this.value)===ts(t)&&this.matchesComparison(co(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wi extends V0{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new wi(e,t)}matches(e){return k0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function k0(i){return i.op==="and"}function x0(i){return hI(i)&&k0(i)}function hI(i){for(const e of i.filters)if(e instanceof wi)return!1;return!0}function tp(i){if(i instanceof Ot)return i.field.canonicalString()+i.op.toString()+ho(i.value);if(x0(i))return i.filters.map(e=>tp(e)).join(",");{const e=i.filters.map(t=>tp(t)).join(",");return`${i.op}(${e})`}}function L0(i,e){return i instanceof Ot?function(s,o){return o instanceof Ot&&s.op===o.op&&s.field.isEqual(o.field)&&bi(s.value,o.value)}(i,e):i instanceof wi?function(s,o){return o instanceof wi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&L0(h,o.filters[m]),!0):!1}(i,e):void Ee(19439)}function U0(i){return i instanceof Ot?function(t){return`${t.field.canonicalString()} ${t.op} ${ho(t.value)}`}(i):i instanceof wi?function(t){return t.op.toString()+" {"+t.getFilters().map(U0).join(" ,")+"}"}(i):"Filter"}class fI extends Ot{constructor(e,t,s){super(e,t,s),this.key=ge.fromName(s.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class dI extends Ot{constructor(e,t){super(e,"in",t),this.keys=B0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class mI extends Ot{constructor(e,t){super(e,"not-in",t),this.keys=B0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function B0(i,e){return(e.arrayValue?.values||[]).map(t=>ge.fromName(t.referenceValue))}class pI extends Ot{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qp(t)&&ru(t.arrayValue,this.value)}}class gI extends Ot{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ru(this.value.arrayValue,t)}}class yI extends Ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ru(this.value.arrayValue,t)}}class _I extends Ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>ru(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function bE(i,e=null,t=[],s=[],o=null,u=null,h=null){return new vI(i,e,t,s,o,u,h)}function Hp(i){const e=we(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>tp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Jh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>ho(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>ho(s)).join(",")),e.Te=t}return e.Te}function jp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!cI(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!L0(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!AE(i.startAt,e.startAt)&&AE(i.endAt,e.endAt)}function np(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function EI(i,e,t,s,o,u,h,m){return new ef(i,e,t,s,o,u,h,m)}function Fp(i){return new ef(i)}function wE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function TI(i){return i.collectionGroup!==null}function Ql(i){const e=we(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Dt(Kt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Oh(u,s))}),t.has(Kt.keyField().canonicalString())||e.Ie.push(new Oh(Kt.keyField(),s))}return e.Ie}function _i(i){const e=we(i);return e.Ee||(e.Ee=SI(e,Ql(i))),e.Ee}function SI(i,e){if(i.limitType==="F")return bE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Oh(o.field,u)});const t=i.endAt?new Ih(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ih(i.startAt.position,i.startAt.inclusive):null;return bE(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function ip(i,e,t){return new ef(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function tf(i,e){return jp(_i(i),_i(e))&&i.limitType===e.limitType}function z0(i){return`${Hp(_i(i))}|lt:${i.limitType}`}function eo(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>U0(o)).join(", ")}]`),Jh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>ho(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>ho(o)).join(",")),`Target(${s})`}(_i(i))}; limitType=${i.limitType})`}function nf(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,g){const p=SE(h,m,g);return h.inclusive?p<=0:p<0}(s.startAt,Ql(s),o)||s.endAt&&!function(h,m,g){const p=SE(h,m,g);return h.inclusive?p>=0:p>0}(s.endAt,Ql(s),o))}(i,e)}function AI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function q0(i){return(e,t)=>{let s=!1;for(const o of Ql(i)){const u=bI(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function bI(i,e,t){const s=i.field.isKeyField()?ge.comparator(e.key,t.key):function(u,h,m){const g=h.data.field(u),p=m.data.field(u);return g!==null&&p!==null?co(g,p):Ee(42886)}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){na(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return w0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=new lt(ge.comparator);function ur(){return wI}const H0=new lt(ge.comparator);function Hl(...i){let e=H0;for(const t of i)e=e.insert(t.key,t);return e}function j0(i){let e=H0;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Fs(){return Yl()}function F0(){return Yl()}function Yl(){return new ia(i=>i.toString(),(i,e)=>i.isEqual(e))}const RI=new lt(ge.comparator),CI=new Dt(ge.comparator);function ke(...i){let e=CI;for(const t of i)e=e.add(t);return e}const II=new Dt(Ve);function OI(){return II}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(e)?"-0":e}}function G0(i){return{integerValue:""+i}}function DI(i,e){return nI(e)?G0(e):Gp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(){this._=void 0}}function NI(i,e,t){return i instanceof Dh?function(o,u){const h={fields:{[I0]:{stringValue:C0},[D0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&zp(u)&&(u=Zh(u)),u&&(h.fields[O0]=u),{mapValue:h}}(t,e):i instanceof su?Q0(i,e):i instanceof au?Y0(i,e):function(o,u){const h=K0(o,u),m=RE(h)+RE(o.Ae);return ep(h)&&ep(o.Ae)?G0(m):Gp(o.serializer,m)}(i,e)}function MI(i,e,t){return i instanceof su?Q0(i,e):i instanceof au?Y0(i,e):t}function K0(i,e){return i instanceof Nh?function(s){return ep(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Dh extends rf{}class su extends rf{constructor(e){super(),this.elements=e}}function Q0(i,e){const t=$0(e);for(const s of i.elements)t.some(o=>bi(o,s))||t.push(s);return{arrayValue:{values:t}}}class au extends rf{constructor(e){super(),this.elements=e}}function Y0(i,e){let t=$0(e);for(const s of i.elements)t=t.filter(o=>!bi(o,s));return{arrayValue:{values:t}}}class Nh extends rf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function RE(i){return gt(i.integerValue||i.doubleValue)}function $0(i){return qp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function PI(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof su&&o instanceof su||s instanceof au&&o instanceof au?uo(s.elements,o.elements,bi):s instanceof Nh&&o instanceof Nh?bi(s.Ae,o.Ae):s instanceof Dh&&o instanceof Dh}(i.transform,e.transform)}class VI{constructor(e,t){this.version=e,this.transformResults=t}}class sr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new sr}static exists(e){return new sr(void 0,e)}static updateTime(e){return new sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class sf{}function X0(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new J0(i.key,sr.none()):new gu(i.key,i.data,sr.none());{const t=i.data,s=xn.empty();let o=new Dt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ra(i.key,s,new Gn(o.toArray()),sr.none())}}function kI(i,e,t){i instanceof gu?function(o,u,h){const m=o.value.clone(),g=IE(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):i instanceof ra?function(o,u,h){if(!hh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=IE(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(W0(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function $l(i,e,t,s){return i instanceof gu?function(u,h,m,g){if(!hh(u.precondition,h))return m;const p=u.value.clone(),v=OE(u.fieldTransforms,g,h);return p.setAll(v),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null}(i,e,t,s):i instanceof ra?function(u,h,m,g){if(!hh(u.precondition,h))return m;const p=OE(u.fieldTransforms,g,h),v=h.data;return v.setAll(W0(u)),v.setAll(p),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(i,e,t,s):function(u,h,m){return hh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,t)}function xI(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=K0(s.transform,o||null);u!=null&&(t===null&&(t=xn.empty()),t.set(s.field,u))}return t||null}function CE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&uo(s,o,(u,h)=>PI(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class gu extends sf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ra extends sf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function W0(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function IE(i,e,t){const s=new Map;Ge(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,MI(h,m,t[o]))}return s}function OE(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,NI(u,h,e))}return s}class J0 extends sf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LI extends sf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&kI(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=$l(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=$l(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=F0();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const g=X0(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(be.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,(t,s)=>CE(t,s))&&uo(this.baseMutations,e.baseMutations,(t,s)=>CE(t,s))}}class Kp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return RI}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Kp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Be;function qI(i){switch(i){case ne.OK:return Ee(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function Z0(i){if(i===void 0)return lr("GRPC error has no .code"),ne.UNKNOWN;switch(i){case St.OK:return ne.OK;case St.CANCELLED:return ne.CANCELLED;case St.UNKNOWN:return ne.UNKNOWN;case St.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case St.INTERNAL:return ne.INTERNAL;case St.UNAVAILABLE:return ne.UNAVAILABLE;case St.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case St.NOT_FOUND:return ne.NOT_FOUND;case St.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case St.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case St.ABORTED:return ne.ABORTED;case St.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case St.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case St.DATA_LOSS:return ne.DATA_LOSS;default:return Ee(39323,{code:i})}}(Be=St||(St={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=new Yr([4294967295,4294967295],0);function DE(i){const e=HI().encode(i),t=new p0;return t.update(e),new Uint8Array(t.digest())}function NE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Yr([t,s],0),new Yr([o,u],0)]}class Qp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new jl(`Invalid padding: ${t}`);if(s<0)throw new jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new jl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Yr.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(Yr.fromNumber(s)));return o.compare(jI)===1&&(o=new Yr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=DE(e),[s,o]=NE(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Qp(u,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.ge===0)return;const t=DE(e),[s,o]=NE(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new af(be.min(),o,new lt(Ve),ur(),ke())}}class yu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new yu(s,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class eS{constructor(e,t){this.targetId=e,this.Ce=t}}class tS{constructor(e,t,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class ME{constructor(){this.ve=0,this.Fe=PE(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),t=ke(),s=ke();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}}),new yu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=PE()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FI{constructor(e){this.Ge=e,this.ze=new Map,this.je=ur(),this.Je=th(),this.He=th(),this.Ye=new lt(Ve)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((s,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(np(u))if(s===0){const h=new ge(u.path);this.et(t,h,Zt.newNoDocument(h,be.min()))}else Ge(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const m=this.ut(e),g=m?this.ct(m,e,h):1;if(g!==0){this.it(t);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=es(s).toUint8Array()}catch(g){if(g instanceof R0)return lo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Qp(h,o,u)}catch(g){return lo(g instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(t,u,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((u,h)=>{const m=this.ot(h);if(m){if(u.current&&np(m.target)){const g=new ge(m.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,Zt.newNoDocument(g,e))}u.Be&&(t.set(h,u.ke()),u.qe())}});let s=ke();this.He.forEach((u,h)=>{let m=!0;h.forEachWhile(g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,h)=>h.setReadTime(e));const o=new af(e,t,this.Ye,this.je,s);return this.je=ur(),this.Je=th(),this.He=th(),this.Ye=new lt(Ve),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new ME,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Dt(Ve),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Dt(Ve),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ME),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function th(){return new lt(ge.comparator)}function PE(){return new lt(ge.comparator)}const GI={asc:"ASCENDING",desc:"DESCENDING"},KI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QI={and:"AND",or:"OR"};class YI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rp(i,e){return i.useProto3Json||Jh(e)?e:{value:e}}function Mh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function $I(i,e){return Mh(i,e.toTimestamp())}function vi(i){return Ge(!!i,49232),be.fromTimestamp(function(t){const s=Zr(t);return new nt(s.seconds,s.nanos)}(i))}function Yp(i,e){return sp(i,e).canonicalString()}function sp(i,e){const t=function(o){return new ot(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function iS(i){const e=ot.fromString(i);return Ge(lS(e),10190,{key:e.toString()}),e}function ap(i,e){return Yp(i.databaseId,e.path)}function Vm(i,e){const t=iS(e);if(t.get(1)!==i.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ge(sS(t))}function rS(i,e){return Yp(i.databaseId,e)}function XI(i){const e=iS(i);return e.length===4?ot.emptyPath():sS(e)}function op(i){return new ot(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function sS(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function VE(i,e,t){return{name:ap(i,e),fields:t.value.mapValue.fields}}function WI(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(p,v){return p.useProto3Json?(Ge(v===void 0||typeof v=="string",58123),Qt.fromBase64String(v||"")):(Ge(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Qt.fromUint8Array(v||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(p){const v=p.code===void 0?ne.UNKNOWN:Z0(p.code);return new de(v,p.message||"")}(h);t=new tS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Vm(i,s.document.name),u=vi(s.document.updateTime),h=s.document.createTime?vi(s.document.createTime):be.min(),m=new xn({mapValue:{fields:s.document.fields}}),g=Zt.newFoundDocument(o,u,h,m),p=s.targetIds||[],v=s.removedTargetIds||[];t=new fh(p,v,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Vm(i,s.document),u=s.readTime?vi(s.readTime):be.min(),h=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];t=new fh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Vm(i,s.document),u=s.removedTargetIds||[];t=new fh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new zI(o,u),m=s.targetId;t=new eS(m,h)}}return t}function JI(i,e){let t;if(e instanceof gu)t={update:VE(i,e.key,e.value)};else if(e instanceof J0)t={delete:ap(i,e.key)};else if(e instanceof ra)t={update:VE(i,e.key,e.data),updateMask:oO(e.fieldMask)};else{if(!(e instanceof LI))return Ee(16599,{Vt:e.type});t={verify:ap(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof Dh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof su)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof au)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Nh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:$I(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)}(i,e.precondition)),t}function ZI(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map(t=>function(o,u){let h=o.updateTime?vi(o.updateTime):vi(u);return h.isEqual(be.min())&&(h=vi(u)),new VI(h,o.transformResults||[])}(t,e))):[]}function eO(i,e){return{documents:[rS(i,e.path)]}}function tO(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=rS(i,o);const u=function(p){if(p.length!==0)return oS(wi.create(p,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(p){if(p.length!==0)return p.map(v=>function(b){return{field:to(b.field),direction:rO(b.dir)}}(v))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=rp(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:t,parent:o}}function nO(i){let e=XI(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];t.where&&(u=function(S){const b=aS(S);return b instanceof wi&&x0(b)?b.getFilters():[b]}(t.where));let h=[];t.orderBy&&(h=function(S){return S.map(b=>function(V){return new Oh(no(V.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(b))}(t.orderBy));let m=null;t.limit&&(m=function(S){let b;return b=typeof S=="object"?S.value:S,Jh(b)?null:b}(t.limit));let g=null;t.startAt&&(g=function(S){const b=!!S.before,x=S.values||[];return new Ih(x,b)}(t.startAt));let p=null;return t.endAt&&(p=function(S){const b=!S.before,x=S.values||[];return new Ih(x,b)}(t.endAt)),EI(e,o,h,u,m,"F",g,p)}function iO(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function aS(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=no(t.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=no(t.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=no(t.unaryFilter.field);return Ot.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=no(t.unaryFilter.field);return Ot.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(i):i.fieldFilter!==void 0?function(t){return Ot.create(no(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return wi.create(t.compositeFilter.filters.map(s=>aS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(t.compositeFilter.op))}(i):Ee(30097,{filter:i})}function rO(i){return GI[i]}function sO(i){return KI[i]}function aO(i){return QI[i]}function to(i){return{fieldPath:i.canonicalString()}}function no(i){return Kt.fromServerFormat(i.fieldPath)}function oS(i){return i instanceof Ot?function(t){if(t.op==="=="){if(TE(t.value))return{unaryFilter:{field:to(t.field),op:"IS_NAN"}};if(EE(t.value))return{unaryFilter:{field:to(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(TE(t.value))return{unaryFilter:{field:to(t.field),op:"IS_NOT_NAN"}};if(EE(t.value))return{unaryFilter:{field:to(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(t.field),op:sO(t.op),value:t.value}}}(i):i instanceof wi?function(t){const s=t.getFilters().map(o=>oS(o));return s.length===1?s[0]:{compositeFilter:{op:aO(t.op),filters:s}}}(i):Ee(54877,{filter:i})}function oO(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,t,s,o,u=be.min(),h=be.min(),m=Qt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Gr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.yt=e}}function uO(i){const e=nO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?ip(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.Cn=new hO}addToCollectionParentIndex(e,t){return this.Cn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(Jr.min())}updateCollectionGroup(e,t,s){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class hO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Dt(ot.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uS=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(uS,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fo(0)}static cr(){return new fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="LruGarbageCollector",fO=1048576;function LE([i,e],[t,s]){const o=Ve(i,t);return o===0?Ve(e,s):o}class dO{constructor(e){this.Ir=e,this.buffer=new Dt(LE),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();LE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(xE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){To(t)?ue(xE,"Ignoring IndexedDB error during garbage collection: ",t):await Eo(t)}await this.Vr(3e5)})}}class pO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(Wh.ce);const s=new dO(t);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(kE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kE):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,u,h,m,g,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,t))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(p=Date.now(),Za()<=Pe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(p-g)+`ms
Total Duration: ${p-v}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function gO(i,e){return new pO(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this.changes=new ia(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?Z.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&$l(s.mutation,o,Gn.empty(),nt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ke()){const o=Fs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=Hl();return u.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Fs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ke()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let u=ur();const h=Yl(),m=function(){return Yl()}();return t.forEach((g,p)=>{const v=s.get(p.key);o.has(p.key)&&(v===void 0||v.mutation instanceof ra)?u=u.insert(p.key,p):v!==void 0?(h.set(p.key,v.mutation.getFieldMask()),$l(v.mutation,p,v.mutation.getFieldMask(),nt.now())):h.set(p.key,Gn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((p,v)=>h.set(p,v)),t.forEach((p,v)=>m.set(p,new _O(v,h.get(p)??null))),m))}recalculateAndSaveOverlays(e,t){const s=Yl();let o=new lt((h,m)=>h-m),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(g=>{const p=t.get(g);if(p===null)return;let v=s.get(g)||Gn.empty();v=m.applyToLocalView(p,v),s.set(g,v);const S=(o.get(m.batchId)||ke()).add(g);o=o.insert(m.batchId,S)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,v=g.value,S=F0();v.forEach(b=>{if(!u.has(b)){const x=X0(t.get(b),s.get(b));x!==null&&S.set(b,x),u=u.add(b)}}),h.push(this.documentOverlayCache.saveOverlays(e,p,S))}return Z.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ge.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):TI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):Z.resolve(Fs());let m=tu,g=u;return h.next(p=>Z.forEach(p,(v,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(v)?Z.resolve():this.remoteDocumentCache.getEntry(e,v).next(b=>{g=g.insert(v,b)}))).next(()=>this.populateOverlays(e,p,u)).next(()=>this.computeViews(e,g,p,ke())).next(v=>({batchId:m,changes:j0(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next(s=>{let o=Hl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=Hl();return this.indexManager.getCollectionParents(e,u).next(m=>Z.forEach(m,g=>{const p=function(S,b){return new ef(b,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next(v=>{v.forEach((S,b)=>{h=h.insert(S,b)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((g,p)=>{const v=p.getKey();h.get(v)===null&&(h=h.insert(v,Zt.newInvalidDocument(v)))});let m=Hl();return h.forEach((g,p)=>{const v=u.get(g);v!==void 0&&$l(v.mutation,p,Gn.empty(),nt.now()),nf(t,p)&&(m=m.insert(g,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Z.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:vi(o.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:uO(o.bundledQuery),readTime:vi(o.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(){this.overlays=new lt(ge.comparator),this.qr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Fs();return Z.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.St(e,t,u)}),Z.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(e,t,s){const o=Fs(),u=t.length+1,h=new ge(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new lt((p,v)=>p-v);const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>s){let v=u.get(p.largestBatchId);v===null&&(v=Fs(),u=u.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const m=Fs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,v)=>m.set(p,v)),!(m.size()>=o)););return Z.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new BI(t,s));let u=this.qr.get(t);u===void 0&&(u=ke(),this.qr.set(t,u)),this.qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(){this.Qr=new Dt(Lt.$r),this.Ur=new Dt(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Lt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Gr(new Lt(e,t))}zr(e,t){e.forEach(s=>this.removeReference(s,t))}jr(e){const t=new ge(new ot([])),s=new Lt(t,e),o=new Lt(t,e+1),u=[];return this.Ur.forEachInRange([s,o],h=>{this.Gr(h),u.push(h.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ge(new ot([])),s=new Lt(t,e),o=new Lt(t,e+1);let u=ke();return this.Ur.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Lt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ge.comparator(e.key,t.key)||Ve(e.Yr,t.Yr)}static Kr(e,t){return Ve(e.Yr,t.Yr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Dt(Lt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new UI(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Lt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(h)}lookupMutationBatch(e,t){return Z.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Bp:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Lt(t,0),o=new Lt(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],h=>{const m=this.Xr(h.Yr);u.push(m)}),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Dt(Ve);return t.forEach(o=>{const u=new Lt(o,0),h=new Lt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],m=>{s=s.add(m.Yr)})}),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const h=new Lt(new ge(u),0);let m=new Dt(Ve);return this.Zr.forEachWhile(g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)},h),Z.resolve(this.ti(m))}ti(e){const t=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ge(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(t.mutations,o=>{const u=new Lt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,t){const s=new Lt(t,0),o=this.Zr.firstAfterOrEqual(s);return Z.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.ri=e,this.docs=function(){return new lt(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Z.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(t))}getEntries(e,t){let s=ur();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=ur();const h=t.path,m=new ge(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:v}}=g.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||JC(WC(v),s)<=0||(o.has(v.key)||nf(t,v))&&(u=u.insert(v.key,v.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ee(9500)}ii(e,t){return Z.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new wO(this)}getSize(e){return Z.resolve(this.size)}}class wO extends yO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),Z.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e){this.persistence=e,this.si=new ia(t=>Hp(t),jp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new $p,this.targetCount=0,this.ai=fo.ur()}forEachTarget(e,t){return this.si.forEach((s,o)=>t(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),Z.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new fo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Pr(t),Z.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.si.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Z.waitFor(u).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return Z.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),Z.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),Z.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return Z.resolve(s)}containsKey(e,t){return Z.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,t){this.ui={},this.overlays={},this.ci=new Wh(0),this.li=!1,this.li=!0,this.hi=new SO,this.referenceDelegate=e(this),this.Pi=new RO(this),this.indexManager=new cO,this.remoteDocumentCache=function(o){return new bO(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new lO(t),this.Ii=new EO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new TO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new AO(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const o=new CO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,t){return Z.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,t)))}}class CO extends eI{constructor(e){super(),this.currentSequenceNumber=e}}class Xp{constructor(e){this.persistence=e,this.Ri=new $p,this.Vi=null}static mi(e){return new Xp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),Z.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,s=>{const o=ge.fromPath(s);return this.gi(e,o).next(u=>{u||t.removeEntry(o,be.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Z.or([()=>Z.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ph{constructor(e,t){this.persistence=e,this.pi=new ia(s=>iI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=gO(this,t)}static mi(e,t){return new Ph(e,t)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}wr(e){let t=0;return this.pr(e,s=>{t++}).next(()=>t)}pr(e,t){return Z.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?Z.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,h=>this.br(e,h,t).next(m=>{m||(s++,u.removeEntry(h,be.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Z.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=uh(e.data.value)),t}br(e,t,s){return Z.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=ke(),o=ke();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Wp(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return _1()?8:tI(tn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ys(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ws(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new IO;return this.Ss(e,t,h).next(m=>{if(u.result=m,this.Vs)return this.bs(e,t,h,m.size)})}).next(()=>u.result)}bs(e,t,s,o){return s.documentReadCount<this.fs?(Za()<=Pe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",eo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Za()<=Pe.DEBUG&&ue("QueryEngine","Query:",eo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Za()<=Pe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",eo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(t))):Z.resolve())}ys(e,t){if(wE(t))return Z.resolve(null);let s=_i(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=ip(t,null,"F"),s=_i(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=ke(...u);return this.ps.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const p=this.Ds(t,m);return this.Cs(t,p,h,g.readTime)?this.ys(e,ip(t,null,"F")):this.vs(e,p,t,g)}))})))}ws(e,t,s,o){return wE(t)||o.isEqual(be.min())?Z.resolve(null):this.ps.getDocuments(e,s).next(u=>{const h=this.Ds(t,u);return this.Cs(t,h,s,o)?Z.resolve(null):(Za()<=Pe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),eo(t)),this.vs(e,h,t,XC(o,tu)).next(m=>m))})}Ds(e,t){let s=new Dt(q0(e));return t.forEach((o,u)=>{nf(e,u)&&(s=s.add(u))}),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return Za()<=Pe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",eo(t)),this.ps.getDocumentsMatchingQuery(e,t,Jr.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="LocalStore",DO=3e8;class NO{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new lt(Ve),this.xs=new ia(u=>Hp(u),jp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function MO(i,e,t,s){return new NO(i,e,t,s)}async function hS(i,e){const t=we(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let g=ke();for(const p of o){h.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}for(const p of u){m.push(p.batchId);for(const v of p.mutations)g=g.add(v.key)}return t.localDocuments.getDocuments(s,g).next(p=>({Ls:p,removedBatchIds:h,addedBatchIds:m}))})})}function PO(i,e){const t=we(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return function(m,g,p,v){const S=p.batch,b=S.keys();let x=Z.resolve();return b.forEach(V=>{x=x.next(()=>v.getEntry(g,V)).next(q=>{const D=p.docVersions.get(V);Ge(D!==null,48541),q.version.compareTo(D)<0&&(S.applyToRemoteDocument(q,p),q.isValidDocument()&&(q.setReadTime(p.commitVersion),v.addEntry(q)))})}),x.next(()=>m.mutationQueue.removeMutationBatch(g,S))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=ke();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function fS(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function VO(i,e){const t=we(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach((v,S)=>{const b=o.get(S);if(!b)return;m.push(t.Pi.removeMatchingKeys(u,v.removedDocuments,S).next(()=>t.Pi.addMatchingKeys(u,v.addedDocuments,S)));let x=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?x=x.withResumeToken(Qt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,s)),o=o.insert(S,x),function(q,D,K){return q.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=DO?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(b,x,v)&&m.push(t.Pi.updateTargetData(u,x))});let g=ur(),p=ke();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,v))}),m.push(kO(u,h,e.documentUpdates).next(v=>{g=v.ks,p=v.qs})),!s.isEqual(be.min())){const v=t.Pi.getLastRemoteSnapshotVersion(u).next(S=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(v)}return Z.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,p)).next(()=>g)}).then(u=>(t.Ms=o,u))}function kO(i,e,t){let s=ke(),o=ke();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=ur();return t.forEach((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(be.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):ue(Jp,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)}),{ks:h,qs:o}})}function xO(i,e){const t=we(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Bp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function LO(i,e){const t=we(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Pi.getTargetData(s,e).next(u=>u?(o=u,Z.resolve(o)):t.Pi.allocateTargetId(s).next(h=>(o=new Gr(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s})}async function lp(i,e,t){const s=we(i),o=s.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!To(h))throw h;ue(Jp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function UE(i,e,t){const s=we(i);let o=be.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,p,v){const S=we(g),b=S.xs.get(v);return b!==void 0?Z.resolve(S.Ms.get(b)):S.Pi.getTargetData(p,v)}(s,h,_i(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next(g=>{u=g})}).next(()=>s.Fs.getDocumentsMatchingQuery(h,e,t?o:be.min(),t?u:ke())).next(m=>(UO(s,AI(e),m),{documents:m,Qs:u})))}function UO(i,e,t){let s=i.Os.get(e)||be.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Os.set(e,s)}class BE{constructor(){this.activeTargetIds=OI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BO{constructor(){this.Mo=new BE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new BE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="ConnectivityMonitor";class qE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(zE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(zE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh=null;function up(){return nh===null?nh=function(){return 268435456+Math.round(2147483648*Math.random())}():nh++,"0x"+nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="RestConnection",qO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Rh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,u){const h=up(),m=this.zo(e,t.toUriEncodedString());ue(km,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),v=ea(p);return this.Jo(e,m,g,s,v).then(S=>(ue(km,`Received RPC '${e}' ${h}: `,S),S),S=>{throw lo(km,`RPC '${e}' ${h} failed with error: `,S,"url: ",m,"request:",s),S})}Ho(e,t,s,o,u,h){return this.Go(e,t,s,o,u)}jo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,t){const s=qO[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class FO extends HO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const h=up();return new Promise((m,g)=>{const p=new g0;p.setWithCredentials(!0),p.listenOnce(y0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case lh.NO_ERROR:const S=p.getResponseJson();ue(Wt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),m(S);break;case lh.TIMEOUT:ue(Wt,`RPC '${e}' ${h} timed out`),g(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const b=p.getStatus();if(ue(Wt,`RPC '${e}' ${h} failed with status:`,b,"response text:",p.getResponseText()),b>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const V=x?.error;if(V&&V.status&&V.message){const q=function(K){const ie=K.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(ie)>=0?ie:ne.UNKNOWN}(V.status);g(new de(q,V.message))}else g(new de(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new de(ne.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ue(Wt,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(o);ue(Wt,`RPC '${e}' ${h} sending request:`,o),p.send(t,"POST",v,s,15)})}T_(e,t,s){const o=up(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=E0(),m=v0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const v=u.join("");ue(Wt,`Creating RPC '${e}' stream ${o}: ${v}`,g);const S=h.createWebChannel(v,g);this.I_(S);let b=!1,x=!1;const V=new jO({Yo:D=>{x?ue(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,D):(b||(ue(Wt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),b=!0),ue(Wt,`RPC '${e}' stream ${o} sending:`,D),S.send(D))},Zo:()=>S.close()}),q=(D,K,ie)=>{D.listen(K,te=>{try{ie(te)}catch(he){setTimeout(()=>{throw he},0)}})};return q(S,ql.EventType.OPEN,()=>{x||(ue(Wt,`RPC '${e}' stream ${o} transport opened.`),V.o_())}),q(S,ql.EventType.CLOSE,()=>{x||(x=!0,ue(Wt,`RPC '${e}' stream ${o} transport closed`),V.a_(),this.E_(S))}),q(S,ql.EventType.ERROR,D=>{x||(x=!0,lo(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,D.name,"Message:",D.message),V.a_(new de(ne.UNAVAILABLE,"The operation could not be completed")))}),q(S,ql.EventType.MESSAGE,D=>{if(!x){const K=D.data[0];Ge(!!K,16349);const ie=K,te=ie?.error||ie[0]?.error;if(te){ue(Wt,`RPC '${e}' stream ${o} received error:`,te);const he=te.status;let le=function(w){const R=St[w];if(R!==void 0)return Z0(R)}(he),Te=te.message;le===void 0&&(le=ne.INTERNAL,Te="Unknown error status: "+he+" with message "+te.message),x=!0,V.a_(new de(le,Te)),S.close()}else ue(Wt,`RPC '${e}' stream ${o} received:`,K),V.u_(K)}}),q(m,_0.STAT_EVENT,D=>{D.stat===Wm.PROXY?ue(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):D.stat===Wm.NOPROXY&&ue(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.__()},0),V}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function xm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(i){return new YI(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="PersistentStream";class mS{constructor(e,t,s,o,u,h,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dS(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(lr(t.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===t&&this.G_(s,o)},s=>{e(()=>{const o=new de(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ue(HE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ue(HE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GO extends mS{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=WI(this.serializer,e),s=function(u){if(!("targetChange"in u))return be.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?vi(h.readTime):be.min()}(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=op(this.serializer),t.addTarget=function(u,h){let m;const g=h.target;if(m=np(g)?{documents:eO(u,g)}:{query:tO(u,g).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=nS(u,h.resumeToken);const p=rp(u,h.expectedCount);p!==null&&(m.expectedCount=p)}else if(h.snapshotVersion.compareTo(be.min())>0){m.readTime=Mh(u,h.snapshotVersion.toTimestamp());const p=rp(u,h.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const s=iO(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=op(this.serializer),t.removeTarget=e,this.q_(t)}}class KO extends mS{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=ZI(e.writeResults,e.commitTime),s=vi(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=op(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>JI(this.serializer,s))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{}class YO extends QO{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Go(e,sp(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ne.UNKNOWN,u.toString())})}Ho(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Ho(e,sp(t,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new de(ne.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class $O{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(lr(t),this.aa=!1):ue("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="RemoteStore";class XO{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(h=>{s.enqueueAndForget(async()=>{sa(this)&&(ue(Ws,"Restarting streams for network reachability change."),await async function(g){const p=we(g);p.Ea.add(4),await _u(p),p.Ra.set("Unknown"),p.Ea.delete(4),await lf(p)}(this))})}),this.Ra=new $O(s,o)}}async function lf(i){if(sa(i))for(const e of i.da)await e(!0)}async function _u(i){for(const e of i.da)await e(!1)}function pS(i,e){const t=we(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),ng(t)?tg(t):So(t).O_()&&eg(t,e))}function Zp(i,e){const t=we(i),s=So(t);t.Ia.delete(e),s.O_()&&gS(t,e),t.Ia.size===0&&(s.O_()?s.L_():sa(t)&&t.Ra.set("Unknown"))}function eg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}So(i).Y_(e)}function gS(i,e){i.Va.Ue(e),So(i).Z_(e)}function tg(i){i.Va=new FI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),So(i).start(),i.Ra.ua()}function ng(i){return sa(i)&&!So(i).x_()&&i.Ia.size>0}function sa(i){return we(i).Ea.size===0}function yS(i){i.Va=void 0}async function WO(i){i.Ra.set("Online")}async function JO(i){i.Ia.forEach((e,t)=>{eg(i,e)})}async function ZO(i,e){yS(i),ng(i)?(i.Ra.ha(e),tg(i)):i.Ra.set("Unknown")}async function eD(i,e,t){if(i.Ra.set("Online"),e instanceof tS&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))}(i,e)}catch(s){ue(Ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Vh(i,s)}else if(e instanceof fh?i.Va.Ze(e):e instanceof eS?i.Va.st(e):i.Va.tt(e),!t.isEqual(be.min()))try{const s=await fS(i.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const v=u.Ia.get(p);v&&u.Ia.set(p,v.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,p)=>{const v=u.Ia.get(g);if(!v)return;u.Ia.set(g,v.withResumeToken(Qt.EMPTY_BYTE_STRING,v.snapshotVersion)),gS(u,g);const S=new Gr(v.target,g,p,v.sequenceNumber);eg(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){ue(Ws,"Failed to raise snapshot:",s),await Vh(i,s)}}async function Vh(i,e,t){if(!To(e))throw e;i.Ea.add(1),await _u(i),i.Ra.set("Offline"),t||(t=()=>fS(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ue(Ws,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await lf(i)})}function _S(i,e){return e().catch(t=>Vh(i,t,e))}async function uf(i){const e=we(i),t=ns(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bp;for(;tD(e);)try{const o=await xO(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,nD(e,o)}catch(o){await Vh(e,o)}vS(e)&&ES(e)}function tD(i){return sa(i)&&i.Ta.length<10}function nD(i,e){i.Ta.push(e);const t=ns(i);t.O_()&&t.X_&&t.ea(e.mutations)}function vS(i){return sa(i)&&!ns(i).x_()&&i.Ta.length>0}function ES(i){ns(i).start()}async function iD(i){ns(i).ra()}async function rD(i){const e=ns(i);for(const t of i.Ta)e.ea(t.mutations)}async function sD(i,e,t){const s=i.Ta.shift(),o=Kp.from(s,e,t);await _S(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await uf(i)}async function aD(i,e){e&&ns(i).X_&&await async function(s,o){if(function(h){return qI(h)&&h!==ne.ABORTED}(o.code)){const u=s.Ta.shift();ns(s).B_(),await _S(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await uf(s)}}(i,e),vS(i)&&ES(i)}async function jE(i,e){const t=we(i);t.asyncQueue.verifyOperationInProgress(),ue(Ws,"RemoteStore received new credentials");const s=sa(t);t.Ea.add(3),await _u(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await lf(t)}async function oD(i,e){const t=we(i);e?(t.Ea.delete(2),await lf(t)):e||(t.Ea.add(2),await _u(t),t.Ra.set("Unknown"))}function So(i){return i.ma||(i.ma=function(t,s,o){const u=we(t);return u.sa(),new GO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:WO.bind(null,i),t_:JO.bind(null,i),r_:ZO.bind(null,i),H_:eD.bind(null,i)}),i.da.push(async e=>{e?(i.ma.B_(),ng(i)?tg(i):i.Ra.set("Unknown")):(await i.ma.stop(),yS(i))})),i.ma}function ns(i){return i.fa||(i.fa=function(t,s,o){const u=we(t);return u.sa(),new KO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:iD.bind(null,i),r_:aD.bind(null,i),ta:rD.bind(null,i),na:sD.bind(null,i)}),i.da.push(async e=>{e?(i.fa.B_(),await uf(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(Ws,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new ig(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rg(i,e){if(lr("AsyncQueue",`${e}: ${i}`),To(i))return new de(ne.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{static emptySet(e){return new ro(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ge.comparator(t.key,s.key):(t,s)=>ge.comparator(t.key,s.key),this.keyedMap=Hl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ro;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.ga=new lt(ge.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,s)=>{e.push(s)}),e}}class mo{constructor(e,t,s,o,u,h,m,g,p){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new mo(e,t,ro.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class uD{constructor(){this.queries=GE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=we(t),u=o.queries;o.queries=GE(),u.forEach((h,m)=>{for(const g of m.Sa)g.onError(s)})})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function GE(){return new ia(i=>z0(i),tf)}async function cD(i,e){const t=we(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new lD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=rg(h,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&sg(t)}async function hD(i,e){const t=we(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function fD(i,e){const t=we(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&sg(t)}function dD(i,e,t){const s=we(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function sg(i){i.Ca.forEach(e=>{e.next()})}var cp,KE;(KE=cp||(cp={})).Ma="default",KE.Cache="cache";class mD{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new mo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.key=e}}class SS{constructor(e){this.key=e}}class pD{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=q0(e),this.tu=new ro(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new FE,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,S)=>{const b=o.get(v),x=nf(this.query,S)?S:null,V=!!b&&this.mutatedKeys.has(b.key),q=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let D=!1;b&&x?b.data.isEqual(x.data)?V!==q&&(s.track({type:3,doc:x}),D=!0):this.su(b,x)||(s.track({type:2,doc:x}),D=!0,(g&&this.eu(x,g)>0||p&&this.eu(x,p)<0)&&(m=!0)):!b&&x?(s.track({type:0,doc:x}),D=!0):b&&!x&&(s.track({type:1,doc:b}),D=!0,(g||p)&&(m=!0)),D&&(x?(h=h.add(x),u=q?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort((v,S)=>function(x,V){const q=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:D})}};return q(x)-q(V)}(v.type,S.type)||this.eu(v.doc,S.doc)),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,h.length!==0||p?{snapshot:new mo(this.query,e.tu,u,h,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new FE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const t=[];return e.forEach(s=>{this.Xa.has(s)||t.push(new SS(s))}),this.Xa.forEach(s=>{e.has(s)||t.push(new TS(s))}),t}cu(e){this.Ya=e.Qs,this.Xa=ke();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ag="SyncEngine";class gD{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class yD{constructor(e){this.key=e,this.hu=!1}}class _D{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ia(m=>z0(m),tf),this.Iu=new Map,this.Eu=new Set,this.du=new lt(ge.comparator),this.Au=new Map,this.Ru=new $p,this.Vu={},this.mu=new Map,this.fu=fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vD(i,e,t=!0){const s=IS(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await AS(s,e,t,!0),o}async function ED(i,e){const t=IS(i);await AS(t,e,!0,!1)}async function AS(i,e,t,s){const o=await LO(i.localStore,_i(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await TD(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&pS(i.remoteStore,o),m}async function TD(i,e,t,s,o){i.pu=(S,b,x)=>async function(q,D,K,ie){let te=D.view.ru(K);te.Cs&&(te=await UE(q.localStore,D.query,!1).then(({documents:M})=>D.view.ru(M,te)));const he=ie&&ie.targetChanges.get(D.targetId),le=ie&&ie.targetMismatches.get(D.targetId)!=null,Te=D.view.applyChanges(te,q.isPrimaryClient,he,le);return YE(q,D.targetId,Te.au),Te.snapshot}(i,S,b,x);const u=await UE(i.localStore,e,!0),h=new pD(e,u.Qs),m=h.ru(u.documents),g=yu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),p=h.applyChanges(m,i.isPrimaryClient,g);YE(i,t,p.au);const v=new gD(e,t,h);return i.Tu.set(e,v),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),p.snapshot}async function SD(i,e,t){const s=we(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(h=>!tf(h,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await lp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Zp(s.remoteStore,o.targetId),hp(s,o.targetId)}).catch(Eo)):(hp(s,o.targetId),await lp(s.localStore,o.targetId,!0))}async function AD(i,e){const t=we(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Zp(t.remoteStore,s.targetId))}async function bD(i,e,t){const s=ND(i);try{const o=await function(h,m){const g=we(h),p=nt.now(),v=m.reduce((x,V)=>x.add(V.key),ke());let S,b;return g.persistence.runTransaction("Locally write mutations","readwrite",x=>{let V=ur(),q=ke();return g.Ns.getEntries(x,v).next(D=>{V=D,V.forEach((K,ie)=>{ie.isValidDocument()||(q=q.add(K))})}).next(()=>g.localDocuments.getOverlayedDocuments(x,V)).next(D=>{S=D;const K=[];for(const ie of m){const te=xI(ie,S.get(ie.key).overlayedDocument);te!=null&&K.push(new ra(ie.key,te,P0(te.value.mapValue),sr.exists(!0)))}return g.mutationQueue.addMutationBatch(x,p,K,m)}).next(D=>{b=D;const K=D.applyToLocalDocumentSet(S,q);return g.documentOverlayCache.saveOverlays(x,D.batchId,K)})}).then(()=>({batchId:b.batchId,changes:j0(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,g){let p=h.Vu[h.currentUser.toKey()];p||(p=new lt(Ve)),p=p.insert(m,g),h.Vu[h.currentUser.toKey()]=p}(s,o.batchId,t),await vu(s,o.changes),await uf(s.remoteStore)}catch(o){const u=rg(o,"Failed to persist write");t.reject(u)}}async function bS(i,e){const t=we(i);try{const s=await VO(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Au.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ge(h.hu,14607):o.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))}),await vu(t,s,e)}catch(s){await Eo(s)}}function QE(i,e,t){const s=we(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const g=we(h);g.onlineState=m;let p=!1;g.queries.forEach((v,S)=>{for(const b of S.Sa)b.va(m)&&(p=!0)}),p&&sg(g)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function wD(i,e,t){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new lt(ge.comparator);h=h.insert(u,Zt.newNoDocument(u,be.min()));const m=ke().add(u),g=new af(be.min(),new Map,new lt(Ve),h,m);await bS(s,g),s.du=s.du.remove(u),s.Au.delete(e),og(s)}else await lp(s.localStore,e,!1).then(()=>hp(s,e,t)).catch(Eo)}async function RD(i,e){const t=we(i),s=e.batch.batchId;try{const o=await PO(t.localStore,e);RS(t,s,null),wS(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await vu(t,o)}catch(o){await Eo(o)}}async function CD(i,e,t){const s=we(i);try{const o=await function(h,m){const g=we(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return g.mutationQueue.lookupMutationBatch(p,m).next(S=>(Ge(S!==null,37113),v=S.keys(),g.mutationQueue.removeMutationBatch(p,S))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,v,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>g.localDocuments.getDocuments(p,v))})}(s.localStore,e);RS(s,e,t),wS(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await vu(s,o)}catch(o){await Eo(o)}}function wS(i,e){(i.mu.get(e)||[]).forEach(t=>{t.resolve()}),i.mu.delete(e)}function RS(i,e,t){const s=we(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function hp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach(s=>{i.Ru.containsKey(s)||CS(i,s)})}function CS(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Zp(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),og(i))}function YE(i,e,t){for(const s of t)s instanceof TS?(i.Ru.addReference(s.key,e),ID(i,s)):s instanceof SS?(ue(ag,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||CS(i,s.key)):Ee(19791,{wu:s})}function ID(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(ue(ag,"New document in limbo: "+t),i.Eu.add(s),og(i))}function og(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new ge(ot.fromString(e)),s=i.fu.next();i.Au.set(s,new yD(t)),i.du=i.du.insert(t,s),pS(i.remoteStore,new Gr(_i(Fp(t.path)),s,"TargetPurposeLimboResolution",Wh.ce))}}async function vu(i,e,t){const s=we(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach((m,g)=>{h.push(s.pu(g,e,t).then(p=>{if((p||t)&&s.isPrimaryClient){const v=p?!p.fromCache:t?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,v?"current":"not-current")}if(p){o.push(p);const v=Wp.As(g.targetId,p);u.push(v)}}))}),await Promise.all(h),s.Pu.H_(o),await async function(g,p){const v=we(g);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Z.forEach(p,b=>Z.forEach(b.Es,x=>v.persistence.referenceDelegate.addReference(S,b.targetId,x)).next(()=>Z.forEach(b.ds,x=>v.persistence.referenceDelegate.removeReference(S,b.targetId,x)))))}catch(S){if(!To(S))throw S;ue(Jp,"Failed to update sequence numbers: "+S)}for(const S of p){const b=S.targetId;if(!S.fromCache){const x=v.Ms.get(b),V=x.snapshotVersion,q=x.withLastLimboFreeSnapshotVersion(V);v.Ms=v.Ms.insert(b,q)}}}(s.localStore,u))}async function OD(i,e){const t=we(i);if(!t.currentUser.isEqual(e)){ue(ag,"User change. New user:",e.toKey());const s=await hS(t.localStore,e);t.currentUser=e,function(u,h){u.mu.forEach(m=>{m.forEach(g=>{g.reject(new de(ne.CANCELLED,h))})}),u.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await vu(t,s.Ls)}}function DD(i,e){const t=we(i),s=t.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=t.Iu.get(e);if(!u)return o;for(const h of u){const m=t.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function IS(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=bS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wD.bind(null,e),e.Pu.H_=fD.bind(null,e.eventManager),e.Pu.yu=dD.bind(null,e.eventManager),e}function ND(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CD.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=of(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return MO(this.persistence,new OO,e.initialUser,this.serializer)}Cu(e){return new cS(Xp.mi,this.serializer)}Du(e){return new BO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class MD extends kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ge(this.persistence.referenceDelegate instanceof Ph,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new mO(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new cS(s=>Ph.mi(s,t),this.serializer)}}class fp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>QE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=OD.bind(null,this.syncEngine),await oD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uD}()}createDatastore(e){const t=of(e.databaseInfo.databaseId),s=function(u){return new FO(u)}(e.databaseInfo);return function(u,h,m,g){return new YO(u,h,m,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,m){return new XO(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>QE(this.syncEngine,t,0),function(){return qE.v()?new qE:new zO}())}createSyncEngine(e,t){return function(o,u,h,m,g,p,v){const S=new _D(o,u,h,m,g,p);return v&&(S.gu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const s=we(t);ue(Ws,"RemoteStore shutting down."),s.Ea.add(5),await _u(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fp.provider={build:()=>new fp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="FirestoreClient";class VD{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=Lp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ue(is,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ue(is,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=rg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Lm(i,e){i.asyncQueue.verifyOperationInProgress(),ue(is,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await hS(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function $E(i,e){i.asyncQueue.verifyOperationInProgress();const t=await kD(i);ue(is,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>jE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>jE(e.remoteStore,o)),i._onlineComponents=e}async function kD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(is,"Using user provided OfflineComponentProvider");try{await Lm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;lo("Error using user provided cache. Falling back to memory cache: "+t),await Lm(i,new kh)}}else ue(is,"Using default OfflineComponentProvider"),await Lm(i,new MD(void 0));return i._offlineComponents}async function OS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(is,"Using user provided OnlineComponentProvider"),await $E(i,i._uninitializedComponentsProvider._online)):(ue(is,"Using default OnlineComponentProvider"),await $E(i,new fp))),i._onlineComponents}function xD(i){return OS(i).then(e=>e.syncEngine)}async function LD(i){const e=await OS(i),t=e.eventManager;return t.onListen=vD.bind(null,e.syncEngine),t.onUnlisten=SD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ED.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=AD.bind(null,e.syncEngine),t}function UD(i,e,t={}){const s=new $r;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,g,p){const v=new PD({next:b=>{v.Nu(),h.enqueueAndForget(()=>hD(u,S));const x=b.docs.has(m);!x&&b.fromCache?p.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&b.fromCache&&g&&g.source==="server"?p.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),S=new mD(Fp(m.path),v,{includeMetadataChanges:!0,qa:!0});return cD(u,S)}(await LD(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="firestore.googleapis.com",WE=!0;class JE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NS,this.ssl=WE}else this.host=e.host,this.ssl=e.ssl??WE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fO)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$C("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DS(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lg{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new UC;switch(s.type){case"firstParty":return new HC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=XE.get(t);s&&(ue("ComponentProvider","Removing Datastore"),XE.delete(t),s.terminate())}(this),Promise.resolve()}}function BD(i,e,t,s={}){i=eu(i,lg);const o=ea(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${t}`;o&&(Np(`https://${m}`),Mp("Firestore",!0)),u.host!==NS&&u.host!==m&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Ys(g,h)&&(i._setSettings(g),s.mockUserToken)){let p,v;if(typeof s.mockUserToken=="string")p=s.mockUserToken,v=Jt.MOCK_USER;else{p=u0(s.mockUserToken,i._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Jt(S)}i._authCredentials=new BC(new S0(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ug(this.firestore,e,this._query)}}class Ut{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(pu(t,Ut._jsonSchema))return new Ut(e,s||null,new ge(ot.fromString(t.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:At("string",Ut._jsonSchemaVersion),referencePath:At("string")};class ou extends ug{constructor(e,t,s){super(e,t,Fp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new ge(e))}withConverter(e){return new ou(this.firestore,e,this._path)}}function MS(i,e,...t){if(i=Un(i),arguments.length===1&&(e=Lp.newId()),YC("doc","path",e),i instanceof lg){const s=ot.fromString(e,...t);return fE(s),new Ut(i,null,new ge(s))}{if(!(i instanceof Ut||i instanceof ou))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ot.fromString(e,...t));return fE(s),new Ut(i.firestore,i instanceof ou?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="AsyncQueue";class eT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dS(this,"async_queue_retry"),this._c=()=>{const s=xm();s&&ue(ZE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=xm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=xm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new $r;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!To(e))throw e;ue(ZE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,lr("INTERNAL UNHANDLED ERROR: ",tT(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=ig.createAndSchedule(this,e,t,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:tT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function tT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class cg extends lg{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new eT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eT(e),this._firestoreClient=void 0,await e}}}function zD(i,e){const t=typeof i=="object"?i:kp(),s=typeof i=="string"?i:Rh,o=Xh(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=a0("firestore");u&&BD(o,...u)}return o}function PS(i){if(i._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||qD(i),i._firestoreClient}function qD(i){const e=i._freezeSettings(),t=function(o,u,h,m){return new aI(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,DS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new VD(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Qt.fromBase64String(e))}catch(t){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ln(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pu(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:At("string",Ln._jsonSchemaVersion),bytes:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ei._jsonSchemaVersion}}static fromJSON(e){if(pu(e,Ei._jsonSchema))return new Ei(e.latitude,e.longitude)}}Ei._jsonSchemaVersion="firestore/geoPoint/1.0",Ei._jsonSchema={type:At("string",Ei._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ti._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pu(e,Ti._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Ti(e.vectorValues);throw new de(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ti._jsonSchemaVersion="firestore/vectorValue/1.0",Ti._jsonSchema={type:At("string",Ti._jsonSchemaVersion),vectorValues:At("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=/^__.*__$/;class jD{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ra(e,this.data,this.fieldMask,t,this.fieldTransforms):new gu(e,this.data,t,this.fieldTransforms)}}function kS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:i})}}class fg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new fg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return xh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(kS(this.Ac)&&HD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class FD{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||of(e)}Cc(e,t,s,o=!1){return new fg({Ac:e,methodName:t,Dc:s,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GD(i){const e=i._freezeSettings(),t=of(i._databaseId);return new FD(i._databaseId,!!e.ignoreUndefinedProperties,t)}function KD(i,e,t,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,t,o);BS("Data must be an object, but it was:",h,s);const m=LS(s,h);let g,p;if(u.merge)g=new Gn(h.fieldMask),p=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const S of u.mergeFields){const b=QD(e,S,t);if(!h.contains(b))throw new de(ne.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);$D(v,b)||v.push(b)}g=new Gn(v),p=h.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,p=h.fieldTransforms;return new jD(new xn(m),g,p)}function xS(i,e){if(US(i=Un(i)))return BS("Unsupported field value:",e,i),LS(i,e);if(i instanceof VS)return function(s,o){if(!kS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let g=xS(m,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Un(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return DI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=nt.fromDate(s);return{timestampValue:Mh(o.serializer,u)}}if(s instanceof nt){const u=new nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Mh(o.serializer,u)}}if(s instanceof Ei)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ln)return{bytesValue:nS(o.serializer,s._byteString)};if(s instanceof Ut){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Yp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ti)return function(h,m){return{mapValue:{fields:{[N0]:{stringValue:M0},[Ch]:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return Gp(m.serializer,p)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Up(s)}`)}(i,e)}function LS(i,e){const t={};return w0(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):na(i,(s,o)=>{const u=xS(o,e.mc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function US(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof nt||i instanceof Ei||i instanceof Ln||i instanceof Ut||i instanceof VS||i instanceof Ti)}function BS(i,e,t){if(!US(t)||!A0(t)){const s=Up(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function QD(i,e,t){if((e=Un(e))instanceof hg)return e._internalPath;if(typeof e=="string")return zS(i,e);throw xh("Field path arguments must be of type string or ",i,!1,void 0,t)}const YD=new RegExp("[~\\*/\\[\\]]");function zS(i,e,t){if(e.search(YD)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new hg(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function xh(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new de(ne.INVALID_ARGUMENT,m+i+g)}function $D(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(HS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class XD extends qS{data(){return super.data()}}function HS(i,e){return typeof e=="string"?zS(i,e):e instanceof hg?e._internalPath:e._delegate._internalPath}class WD{convertValue(e,t="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return na(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){const t=e.fields?.[Ch].arrayValue?.values?.map(s=>gt(s.doubleValue));return new Ti(t)}convertGeoPoint(e){return new Ei(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Zh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const t=Zr(e);return new nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ot.fromString(e);Ge(lS(s),9688,{name:e});const o=new iu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(t)||lr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(i,e,t){let s;return s=i?i.toFirestore(e):e,s}class Fl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ks extends qS{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(HS("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ks._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ks._jsonSchema={type:At("string",Ks._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class dh extends Ks{data(e={}){return super.data(e)}}class Xl{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Fl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new dh(this._firestore,this._userDataWriter,s.key,s,new Fl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const g=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,v=-1;return m.type!==0&&(p=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:ZD(m.type),doc:g,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(i){i=eu(i,Ut);const e=eu(i.firestore,cg);return UD(PS(e),i._key).then(t=>r2(e,i,t))}Xl._jsonSchemaVersion="firestore/querySnapshot/1.0",Xl._jsonSchema={type:At("string",Xl._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};class t2 extends WD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,t)}}function n2(i,e,t){i=eu(i,Ut);const s=eu(i.firestore,cg),o=JD(i.converter,e);return i2(s,[KD(GD(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,sr.none())])}function i2(i,e){return function(s,o){const u=new $r;return s.asyncQueue.enqueueAndForget(async()=>bD(await xD(s),o,u)),u.promise}(PS(i),e)}function r2(i,e,t){const s=t.docs.get(e._key),o=new t2(i);return new Ks(i,o,e._key,s,new Fl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){vo=o})(ta),$s(new Wr("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new cg(new zC(s.getProvider("auth-internal")),new jC(h,s.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(p.options.projectId,v)}(h,o),h);return u={useFetchStreams:t,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),yi(lE,uE,e),yi(lE,uE,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="firebasestorage.googleapis.com",s2="storageBucket",a2=120*1e3,o2=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Ii{constructor(e,t,s=0){super(Um(e),`Firebase Storage: ${t} (${Um(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Oi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Um(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ri;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ri||(Ri={}));function Um(i){return"storage/"+i}function l2(){const i="An unknown error occurred, please check the error payload for server response.";return new Oi(Ri.UNKNOWN,i)}function u2(){return new Oi(Ri.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function c2(){return new Oi(Ri.CANCELED,"User canceled the upload/download.")}function h2(i){return new Oi(Ri.INVALID_URL,"Invalid URL '"+i+"'.")}function f2(i){return new Oi(Ri.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function nT(i){return new Oi(Ri.INVALID_ARGUMENT,i)}function FS(){return new Oi(Ri.APP_DELETED,"The Firebase app was deleted.")}function d2(i){return new Oi(Ri.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Kn.makeFromUrl(e,t)}catch{return new Kn(e,"")}if(s.path==="")return s;throw f2(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(he){he.path.charAt(he.path.length-1)==="/"&&(he.path_=he.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function p(he){he.path_=decodeURIComponent(he.path)}const v="v[A-Za-z0-9_]+",S=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",x=new RegExp(`^https?://${S}/${v}/b/${o}/o${b}`,"i"),V={bucket:1,path:3},q=t===jS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,D="([^?#]*)",K=new RegExp(`^https?://${q}/${o}/${D}`,"i"),te=[{regex:m,indices:g,postModify:u},{regex:x,indices:V,postModify:p},{regex:K,indices:{bucket:1,path:2},postModify:p}];for(let he=0;he<te.length;he++){const le=te[he],Te=le.regex.exec(e);if(Te){const M=Te[le.indices.bucket];let w=Te[le.indices.path];w||(w=""),s=new Kn(M,w),le.postModify(s);break}}if(s==null)throw h2(e);return s}}class m2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(i,e,t){let s=1,o=null,u=null,h=!1,m=0;function g(){return m===2}let p=!1;function v(...D){p||(p=!0,e.apply(null,D))}function S(D){o=setTimeout(()=>{o=null,i(x,g())},D)}function b(){u&&clearTimeout(u)}function x(D,...K){if(p){b();return}if(D){b(),v.call(null,D,...K);return}if(g()||h){b(),v.call(null,D,...K);return}s<64&&(s*=2);let te;m===1?(m=2,te=0):te=(s+Math.random())*1e3,S(te)}let V=!1;function q(D){V||(V=!0,b(),!p&&(o!==null?(D||(m=2),clearTimeout(o),S(0)):D||(m=1)))}return S(0),u=setTimeout(()=>{h=!0,q(!0)},t),q}function g2(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(i){return i!==void 0}function iT(i,e,t,s){if(s<e)throw nT(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw nT(`Invalid value for '${i}'. Expected ${t} or less.`)}function _2(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Lh;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Lh||(Lh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,t,s,o,u,h,m,g,p,v,S,b=!0,x=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=g,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=S,this.retry=b,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,q)=>{this.resolve_=V,this.reject_=q,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new ih(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const g=m.loaded,p=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,p)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===Lh.NO_ERROR,g=u.getStatus();if(!m||v2(g,this.additionalRetryCodes_)&&this.retry){const v=u.getErrorCode()===Lh.ABORT;s(!1,new ih(!1,null,v));return}const p=this.successCodes_.indexOf(g)!==-1;s(!0,new ih(p,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());y2(g)?u(g):u()}catch(g){h(g)}else if(m!==null){const g=l2();g.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,g)):h(g)}else if(o.canceled){const g=this.appDelete_?FS():c2();h(g)}else{const g=u2();h(g)}};this.canceled_?t(!1,new ih(!1,null,!0)):this.backoffId_=p2(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&g2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ih{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function T2(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function S2(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function A2(i,e){e&&(i["X-Firebase-GMPID"]=e)}function b2(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function w2(i,e,t,s,o,u,h=!0,m=!1){const g=_2(i.urlParams),p=i.url+g,v=Object.assign({},i.headers);return A2(v,e),T2(v,t),S2(v,u),b2(v,s),new E2(p,i.method,v,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function C2(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t){this._service=e,t instanceof Kn?this._location=t:this._location=Kn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Uh(e,t)}get root(){const e=new Kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return C2(this._location.path)}get storage(){return this._service}get parent(){const e=R2(this._location.path);if(e===null)return null;const t=new Kn(this._location.bucket,e);return new Uh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw d2(e)}}function rT(i,e){const t=e?.[s2];return t==null?null:Kn.makeFromBucketSpec(t,i)}function I2(i,e,t,s={}){i.host=`${e}:${t}`;const o=ea(e);o&&(Np(`https://${i.host}/b`),Mp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:u0(u,i.app.options.projectId))}class O2{constructor(e,t,s,o,u,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=jS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=a2,this._maxUploadRetryTime=o2,this._requests=new Set,o!=null?this._bucket=Kn.makeFromBucketSpec(o,this._host):this._bucket=rT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kn.makeFromBucketSpec(this._url,e):this._bucket=rT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){iT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){iT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Uh(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new m2(FS());{const h=w2(e,this._appId,s,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const sT="@firebase/storage",aT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="storage";function D2(i=kp(),e){i=Un(i);const s=Xh(i,GS).getImmediate({identifier:e}),o=a0("storage");return o&&N2(s,...o),s}function N2(i,e,t,s={}){I2(i,e,t,s)}function M2(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new O2(t,s,o,e,ta)}function P2(){$s(new Wr(GS,M2,"PUBLIC").setMultipleInstances(!0)),yi(sT,aT,""),yi(sT,aT,"esm2020")}P2();function KS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V2=KS,QS=new du("auth","Firebase",KS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new Pp("@firebase/auth");function k2(i,...e){Bh.logLevel<=Pe.WARN&&Bh.warn(`Auth (${ta}): ${i}`,...e)}function mh(i,...e){Bh.logLevel<=Pe.ERROR&&Bh.error(`Auth (${ta}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(i,...e){throw dg(i,...e)}function Si(i,...e){return dg(i,...e)}function YS(i,e,t){const s={...V2(),[e]:t};return new du("auth","Firebase",s).create(e,{appName:i.name})}function Xr(i){return YS(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dg(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return QS.create(i,...e)}function ve(i,e,...t){if(!i)throw dg(e,...t)}function nr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw mh(e),new Error(e)}function cr(i,e){i||nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(){return typeof self<"u"&&self.location?.href||""}function x2(){return oT()==="http:"||oT()==="https:"}function oT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x2()||p1()||"connection"in navigator)?navigator.onLine:!0}function U2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,t){this.shortDelay=e,this.longDelay=t,cr(t>e,"Short delay should be less than long delay!"),this.isMobile=f1()||g1()}get(){return L2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(i,e){cr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q2=new Eu(3e4,6e4);function aa(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ss(i,e,t,s,o={}){return XS(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=mu({key:i.config.apiKey,...h}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const p={method:e,headers:g,...u};return m1()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&ea(i.emulatorConfig.host)&&(p.credentials="include"),$S.fetch()(await WS(i,i.config.apiHost,t,m),p)})}async function XS(i,e,t){i._canInitEmulator=!1;const s={...B2,...e};try{const o=new j2(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw rh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(i,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw rh(i,"email-already-in-use",h);if(g==="USER_DISABLED")throw rh(i,"user-disabled",h);const v=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw YS(i,v,p);$n(i,v)}}catch(o){if(o instanceof Ii)throw o;$n(i,"network-request-failed",{message:String(o)})}}async function cf(i,e,t,s,o={}){const u=await ss(i,e,t,s,o);return"mfaPendingCredential"in u&&$n(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function WS(i,e,t,s){const o=`${e}${t}?${s}`,u=i,h=u.config.emulator?mg(i.config,o):`${i.config.apiScheme}://${o}`;return z2.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function H2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class j2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Si(this.auth,"network-request-failed")),q2.get())})}}function rh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Si(i,e,s);return o.customData._tokenResponse=t,o}function lT(i){return i!==void 0&&i.enterprise!==void 0}class F2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return H2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function G2(i,e){return ss(i,"GET","/v2/recaptchaConfig",aa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2(i,e){return ss(i,"POST","/v1/accounts:delete",e)}async function zh(i,e){return ss(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Q2(i,e=!1){const t=Un(i),s=await t.getIdToken(e),o=pg(s);ve(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Wl(Bm(o.auth_time)),issuedAtTime:Wl(Bm(o.iat)),expirationTime:Wl(Bm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Bm(i){return Number(i)*1e3}function pg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=r0(t);return o?JSON.parse(o):(mh("Failed to decode base64 JWT payload"),null)}catch(o){return mh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function uT(i){const e=pg(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Ii&&Y2(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function Y2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qh(i){const e=i.auth,t=await i.getIdToken(),s=await lu(i,zh(e,{idToken:t}));ve(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?JS(o.providerUserInfo):[],h=W2(i.providerData,u),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!h?.length,p=m?g:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new mp(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(i,v)}async function X2(i){const e=Un(i);await qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function W2(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function JS(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(i,e){const t=await XS(i,{},async()=>{const s=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await WS(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return i.emulatorConfig&&ea(i.emulatorConfig.host)&&(g.credentials="include"),$S.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Z2(i,e){return ss(i,"POST","/v2/accounts:revokeToken",aa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const t=uT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await J2(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new so;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Qn{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new $2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await lu(this,this.stsTokenManager.getToken(this.auth,e));return ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Q2(this,e)}reload(){return X2(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Qn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await qh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Xr(this.auth));const e=await this.getIdToken();return await lu(this,K2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,h=t.photoURL??void 0,m=t.tenantId??void 0,g=t._redirectEventId??void 0,p=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:S,emailVerified:b,isAnonymous:x,providerData:V,stsTokenManager:q}=t;ve(S&&q,e,"internal-error");const D=so.fromJSON(this.name,q);ve(typeof S=="string",e,"internal-error"),zr(s,e.name),zr(o,e.name),ve(typeof b=="boolean",e,"internal-error"),ve(typeof x=="boolean",e,"internal-error"),zr(u,e.name),zr(h,e.name),zr(m,e.name),zr(g,e.name),zr(p,e.name),zr(v,e.name);const K=new Qn({uid:S,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:x,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:D,createdAt:p,lastLoginAt:v});return V&&Array.isArray(V)&&(K.providerData=V.map(ie=>({...ie}))),g&&(K._redirectEventId=g),K}static async _fromIdTokenResponse(e,t,s=!1){const o=new so;o.updateFromServerResponse(t);const u=new Qn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await qh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?JS(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new so;m.updateFromIdToken(s);const g=new Qn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new mp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=new Map;function ir(i){cr(i instanceof Function,"Expected a class definition");let e=cT.get(i);return e?(cr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,cT.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ZS.type="NONE";const hT=ZS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(i,e,t){return`firebase:${i}:${e}:${t}`}class ao{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=ph("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await zh(this.auth,{idToken:e}).catch(()=>{});return t?Qn._fromGetAccountInfoResponse(this.auth,t,e):null}return Qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new ao(ir(hT),e,s);const o=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||ir(hT);const h=ph(s,e.config.apiKey,e.name);let m=null;for(const p of t)try{const v=await p._get(h);if(v){let S;if(typeof v=="string"){const b=await zh(e,{idToken:v}).catch(()=>{});if(!b)break;S=await Qn._fromGetAccountInfoResponse(e,b,v)}else S=Qn._fromJSON(e,v);p!==u&&(m=S),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new ao(u,e,s):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async p=>{if(p!==u)try{await p._remove(h)}catch{}})),new ao(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sA(e))return"Blackberry";if(aA(e))return"Webos";if(tA(e))return"Safari";if((e.includes("chrome/")||nA(e))&&!e.includes("edge/"))return"Chrome";if(rA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function eA(i=tn()){return/firefox\//i.test(i)}function tA(i=tn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nA(i=tn()){return/crios\//i.test(i)}function iA(i=tn()){return/iemobile/i.test(i)}function rA(i=tn()){return/android/i.test(i)}function sA(i=tn()){return/blackberry/i.test(i)}function aA(i=tn()){return/webos/i.test(i)}function gg(i=tn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function eN(i=tn()){return gg(i)&&!!window.navigator?.standalone}function tN(){return y1()&&document.documentMode===10}function oA(i=tn()){return gg(i)||rA(i)||aA(i)||sA(i)||/windows phone/i.test(i)||iA(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(i,e=[]){let t;switch(i){case"Browser":t=fT(tn());break;case"Worker":t=`${fT(tn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ta}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(i,e={}){return ss(i,"GET","/v2/passwordPolicy",aa(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=6;class sN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??rN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dT(this),this.idTokenSubscription=new dT(this),this.beforeStateQueue=new nN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ir(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await zh(this,{idToken:e}),s=await Qn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(kn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await qh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=U2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(Xr(this));const t=e?Un(e):null;return t&&ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Xr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(Xr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iN(this),t=new sN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new du("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await Z2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ir(e)||this._popupRedirectResolver;ve(t,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[ir(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&k2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ao(i){return Un(i)}class dT{constructor(e){this.auth=e,this.observer=null,this.addObserver=w1(t=>this.observer=t)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oN(i){hf=i}function uA(i){return hf.loadJS(i)}function lN(){return hf.recaptchaEnterpriseScript}function uN(){return hf.gapiScript}function cN(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class hN{constructor(){this.enterprise=new fN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class fN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const dN="recaptcha-enterprise",cA="NO_RECAPTCHA";class mN{constructor(e){this.type=dN,this.auth=Ao(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{G2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new F2(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,h(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,h,m){const g=window.grecaptcha;lT(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{h(p)}).catch(()=>{h(cA)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hN().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!t&&lT(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=lN();g.length!==0&&(g+=m),uA(g).then(()=>{o(m,u,h)}).catch(p=>{h(p)})}}).catch(m=>{h(m)})})}}async function mT(i,e,t,s=!1,o=!1){const u=new mN(i);let h;if(o)h=cA;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function pT(i,e,t,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await mT(i,e,t,t==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await mT(i,e,t,t==="getOobCode");return s(i,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(i,e){const t=Xh(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Ys(u,e??{}))return o;$n(o,"already-initialized")}return t.initialize({options:e})}function gN(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(ir);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function yN(i,e,t){const s=Ao(i);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=hA(e),{host:h,port:m}=_N(e),g=m===null?"":`:${m}`,p={url:`${u}//${h}${g}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Ys(p,s.config.emulator)&&Ys(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,ea(h)?(Np(`${u}//${h}${g}`),Mp("Auth",!0)):vN()}function hA(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function _N(i){const e=hA(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:gT(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:gT(h)}}}function gT(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function vN(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,t){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}async function EN(i,e){return ss(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(i,e){return cf(i,"POST","/v1/accounts:signInWithPassword",aa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(i,e){return cf(i,"POST","/v1/accounts:signInWithEmailLink",aa(i,e))}async function AN(i,e){return cf(i,"POST","/v1/accounts:signInWithEmailLink",aa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends yg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new uu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new uu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pT(e,t,"signInWithPassword",TN);case"emailLink":return SN(e,{email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pT(e,s,"signUpPassword",EN);case"emailLink":return AN(e,{idToken:t,email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(i,e){return cf(i,"POST","/v1/accounts:signInWithIdp",aa(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="http://localhost";class Js extends yg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$n("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const h=new Js(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return oo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,oo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,oo(e,t)}buildRequest(){const e={requestUri:bN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=mu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RN(i){const e=Bl(zl(i)).link,t=e?Bl(zl(e)).deep_link_id:null,s=Bl(zl(i)).deep_link_id;return(s?Bl(zl(s)).link:null)||s||t||e||i}class _g{constructor(e){const t=Bl(zl(e)),s=t.apiKey??null,o=t.oobCode??null,u=wN(t.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=RN(e);try{return new _g(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.providerId=bo.PROVIDER_ID}static credential(e,t){return uu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=_g.parseLink(t);return ve(s,"argument-error"),uu._fromEmailAndCode(e,s.code,s.tenantId)}}bo.PROVIDER_ID="password";bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends fA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Tu{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends Tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Js._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Hr.credential(t,s)}catch{return null}}}Hr.GOOGLE_SIGN_IN_METHOD="google.com";Hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Tu{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends Tu{constructor(){super("twitter.com")}static credential(e,t){return Js._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Fr.credential(t,s)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await Qn._fromIdTokenResponse(e,s,o),h=yT(s);return new po({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=yT(s);return new po({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function yT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh extends Ii{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Hh(e,t,s,o)}}function dA(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Hh._fromErrorAndOperation(i,u,e,s):u})}async function CN(i,e,t=!1){const s=await lu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return po._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(i,e,t=!1){const{auth:s}=i;if(kn(s.app))return Promise.reject(Xr(s));const o="reauthenticate";try{const u=await lu(i,dA(s,o,e,i),t);ve(u.idToken,s,"internal-error");const h=pg(u.idToken);ve(h,s,"internal-error");const{sub:m}=h;return ve(i.uid===m,s,"user-mismatch"),po._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&$n(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mA(i,e,t=!1){if(kn(i.app))return Promise.reject(Xr(i));const s="signIn",o=await dA(i,s,e),u=await po._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function ON(i,e){return mA(Ao(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(i){const e=Ao(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function NN(i,e,t){return kn(i.app)?Promise.reject(Xr(i)):ON(Un(i),bo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&DN(i),s})}function MN(i,e,t,s){return Un(i).onIdTokenChanged(e,t,s)}function PN(i,e,t){return Un(i).beforeAuthStateChanged(e,t)}const jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=1e3,kN=10;class gA extends pA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);tN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,kN):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},VN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gA.type="LOCAL";const xN=gA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA extends pA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}yA.type="SESSION";const _A=yA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new ff(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async p=>p(t.origin,u)),g=await LN(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ff.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const p=vg("",20);o.port1.start();const v=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(S){const b=S;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(v),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(){return window}function BN(i){Ai().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function zN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qN(){return navigator?.serviceWorker?.controller||null}function HN(){return vA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="firebaseLocalStorageDb",jN=1,Fh="firebaseLocalStorage",TA="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function df(i,e){return i.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function FN(){const i=indexedDB.deleteDatabase(EA);return new Su(i).toPromise()}function pp(){const i=indexedDB.open(EA,jN);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Fh,{keyPath:TA})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Fh)?e(s):(s.close(),await FN(),e(await pp()))})})}async function _T(i,e,t){const s=df(i,!0).put({[TA]:e,value:t});return new Su(s).toPromise()}async function GN(i,e){const t=df(i,!1).get(e),s=await new Su(t).toPromise();return s===void 0?null:s.value}function vT(i,e){const t=df(i,!0).delete(e);return new Su(t).toPromise()}const KN=800,QN=3;class SA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>QN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ff._getInstance(HN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await zN(),!this.activeServiceWorker)return;this.sender=new UN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pp();return await _T(e,jh,"1"),await vT(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>_T(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>GN(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>vT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=df(o,!1).getAll();return new Su(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),KN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SA.type="LOCAL";const YN=SA;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(i,e){return e?ir(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg extends yg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return oo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function XN(i){return mA(i.auth,new Eg(i),i.bypassAuthState)}function WN(i){const{auth:e,user:t}=i;return ve(t,e,"internal-error"),IN(t,new Eg(i),i.bypassAuthState)}async function JN(i){const{auth:e,user:t}=i;return ve(t,e,"internal-error"),CN(t,new Eg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XN;case"linkViaPopup":case"linkViaRedirect":return JN;case"reauthViaPopup":case"reauthViaRedirect":return WN;default:$n(this.auth,"internal-error")}}resolve(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=new Eu(2e3,1e4);class io extends AA{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){cr(this.filter.length===1,"Popup operations only handle one event");const e=vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZN.get())};e()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="pendingRedirect",gh=new Map;class tM extends AA{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const s=await nM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nM(i,e){const t=sM(e),s=rM(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function iM(i,e){gh.set(i._key(),e)}function rM(i){return ir(i._redirectPersistence)}function sM(i){return ph(eM,i.config.apiKey,i.name)}async function aM(i,e,t=!1){if(kn(i.app))return Promise.reject(Xr(i));const s=Ao(i),o=$N(s,e),h=await new tM(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=600*1e3;class lM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uM(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!bA(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Si(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oM&&this.cachedEventUids.clear(),this.cachedEventUids.has(ET(e))}saveEventToCache(e){this.cachedEventUids.add(ET(e)),this.lastProcessedEventTime=Date.now()}}function ET(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function bA({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function uM(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bA(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(i,e={}){return ss(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fM=/^https?/;async function dM(i){if(i.config.emulator)return;const{authorizedDomains:e}=await cM(i);for(const t of e)try{if(mM(t))return}catch{}$n(i,"unauthorized-domain")}function mM(i){const e=dp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!fM.test(t))return!1;if(hM.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=new Eu(3e4,6e4);function TT(){const i=Ai().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function gM(i){return new Promise((e,t)=>{function s(){TT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TT(),t(Si(i,"network-request-failed"))},timeout:pM.get()})}if(Ai().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ai().gapi?.load)s();else{const o=cN("iframefcb");return Ai()[o]=()=>{gapi.load?s():t(Si(i,"network-request-failed"))},uA(`${uN()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw yh=null,e})}let yh=null;function yM(i){return yh=yh||gM(i),yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=new Eu(5e3,15e3),vM="__/auth/iframe",EM="emulator/auth/iframe",TM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AM(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?mg(e,EM):`https://${i.config.authDomain}/${vM}`,s={apiKey:e.apiKey,appName:i.name,v:ta},o=SM.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${mu(s).slice(1)}`}async function bM(i){const e=await yM(i),t=Ai().gapi;return ve(t,i,"internal-error"),e.open({where:document.body,url:AM(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TM,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Si(i,"network-request-failed"),m=Ai().setTimeout(()=>{u(h)},_M.get());function g(){Ai().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RM=500,CM=600,IM="_blank",OM="http://localhost";class ST{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DM(i,e,t,s=RM,o=CM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...wM,width:s.toString(),height:o.toString(),top:u,left:h},p=tn().toLowerCase();t&&(m=nA(p)?IM:t),eA(p)&&(e=e||OM,g.scrollbars="yes");const v=Object.entries(g).reduce((b,[x,V])=>`${b}${x}=${V},`,"");if(eN(p)&&m!=="_self")return NM(e||"",m),new ST(null);const S=window.open(e||"",m,v);ve(S,i,"popup-blocked");try{S.focus()}catch{}return new ST(S)}function NM(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM="__/auth/handler",PM="emulator/auth/handler",VM=encodeURIComponent("fac");async function AT(i,e,t,s,o,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:ta,eventId:o};if(e instanceof fA){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",b1(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,S]of Object.entries({}))h[v]=S}if(e instanceof Tu){const v=e.getScopes().filter(S=>S!=="");v.length>0&&(h.scopes=v.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const g=await i._getAppCheckToken(),p=g?`#${VM}=${encodeURIComponent(g)}`:"";return`${kM(i)}?${mu(m).slice(1)}${p}`}function kM({config:i}){return i.emulator?mg(i,PM):`https://${i.authDomain}/${MM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="webStorageSupport";class xM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_A,this._completeRedirectFn=aM,this._overrideRedirectResult=iM}async _openPopup(e,t,s,o){cr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await AT(e,t,s,dp(),o);return DM(e,u,vg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await AT(e,t,s,dp(),o);return BN(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(cr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await bM(e),s=new lM(e);return t.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(zm,{type:zm},o=>{const u=o?.[0]?.[zm];u!==void 0&&t(!!u),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=dM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return oA()||tA()||gg()}}const LM=xM;var bT="@firebase/auth",wT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zM(i){$s(new Wr("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lA(i)},p=new aN(s,o,u,g);return gN(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),$s(new Wr("auth-internal",e=>{const t=Ao(e.getProvider("auth").getImmediate());return(s=>new UM(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),yi(bT,wT,BM(i)),yi(bT,wT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=300,HM=l0("authIdTokenMaxAge")||qM;let RT=null;const jM=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>HM)return;const o=t?.token;RT!==o&&(RT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function FM(i=kp()){const e=Xh(i,"auth");if(e.isInitialized())return e.getImmediate();const t=pN(i,{popupRedirectResolver:LM,persistence:[YN,xN,_A]}),s=l0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=jM(u.toString());PN(t,h,()=>h(t.currentUser)),MN(t,m=>h(m))}}const o=s0("auth");return o&&yN(t,`http://${o}`),t}function GM(){return document.getElementsByTagName("head")?.[0]??document}oN({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Si("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",GM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zM("Browser");const KM={apiKey:"AIzaSyB_YTVZaNfaOwechBfpx98WzaQTHPSWcEw",authDomain:"mrcfly-c3dad.firebaseapp.com",projectId:"mrcfly-c3dad",storageBucket:"mrcfly-c3dad.firebasestorage.app",messagingSenderId:"78234700286",appId:"1:78234700286:web:f6ab191f1a89b7ebc758af"},Tg=f0(KM),wA=zD(Tg);D2(Tg);const RA=FM(Tg);var _h={exports:{}};/*!
 * Toastify js 1.12.0
 * https://github.com/apvarun/toastify-js
 * @license MIT licensed
 *
 * Copyright (C) 2018 Varun A P
 */var QM=_h.exports,CT;function YM(){return CT||(CT=1,function(i){(function(e,t){i.exports?i.exports=t():e.Toastify=t()})(QM,function(e){var t=function(h){return new t.lib.init(h)},s="1.12.0";t.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},t.lib=t.prototype={toastify:s,constructor:t,init:function(h){return h||(h={}),this.options={},this.toastElement=null,this.options.text=h.text||t.defaults.text,this.options.node=h.node||t.defaults.node,this.options.duration=h.duration===0?0:h.duration||t.defaults.duration,this.options.selector=h.selector||t.defaults.selector,this.options.callback=h.callback||t.defaults.callback,this.options.destination=h.destination||t.defaults.destination,this.options.newWindow=h.newWindow||t.defaults.newWindow,this.options.close=h.close||t.defaults.close,this.options.gravity=h.gravity==="bottom"?"toastify-bottom":t.defaults.gravity,this.options.positionLeft=h.positionLeft||t.defaults.positionLeft,this.options.position=h.position||t.defaults.position,this.options.backgroundColor=h.backgroundColor||t.defaults.backgroundColor,this.options.avatar=h.avatar||t.defaults.avatar,this.options.className=h.className||t.defaults.className,this.options.stopOnFocus=h.stopOnFocus===void 0?t.defaults.stopOnFocus:h.stopOnFocus,this.options.onClick=h.onClick||t.defaults.onClick,this.options.offset=h.offset||t.defaults.offset,this.options.escapeMarkup=h.escapeMarkup!==void 0?h.escapeMarkup:t.defaults.escapeMarkup,this.options.ariaLive=h.ariaLive||t.defaults.ariaLive,this.options.style=h.style||t.defaults.style,h.backgroundColor&&(this.options.style.background=h.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var h=document.createElement("div");h.className="toastify on "+this.options.className,this.options.position?h.className+=" toastify-"+this.options.position:this.options.positionLeft===!0?(h.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):h.className+=" toastify-right",h.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.');for(var m in this.options.style)h.style[m]=this.options.style[m];if(this.options.ariaLive&&h.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)h.appendChild(this.options.node);else if(this.options.escapeMarkup?h.innerText=this.options.text:h.innerHTML=this.options.text,this.options.avatar!==""){var g=document.createElement("img");g.src=this.options.avatar,g.className="toastify-avatar",this.options.position=="left"||this.options.positionLeft===!0?h.appendChild(g):h.insertAdjacentElement("afterbegin",g)}if(this.options.close===!0){var p=document.createElement("button");p.type="button",p.setAttribute("aria-label","Close"),p.className="toast-close",p.innerHTML="&#10006;",p.addEventListener("click",(function(D){D.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}).bind(this));var v=window.innerWidth>0?window.innerWidth:screen.width;(this.options.position=="left"||this.options.positionLeft===!0)&&v>360?h.insertAdjacentElement("afterbegin",p):h.appendChild(p)}if(this.options.stopOnFocus&&this.options.duration>0){var S=this;h.addEventListener("mouseover",function(D){window.clearTimeout(h.timeOutValue)}),h.addEventListener("mouseleave",function(){h.timeOutValue=window.setTimeout(function(){S.removeElement(h)},S.options.duration)})}if(typeof this.options.destination<"u"&&h.addEventListener("click",(function(D){D.stopPropagation(),this.options.newWindow===!0?window.open(this.options.destination,"_blank"):window.location=this.options.destination}).bind(this)),typeof this.options.onClick=="function"&&typeof this.options.destination>"u"&&h.addEventListener("click",(function(D){D.stopPropagation(),this.options.onClick()}).bind(this)),typeof this.options.offset=="object"){var b=o("x",this.options),x=o("y",this.options),V=this.options.position=="left"?b:"-"+b,q=this.options.gravity=="toastify-top"?x:"-"+x;h.style.transform="translate("+V+","+q+")"}return h},showToast:function(){this.toastElement=this.buildToast();var h;if(typeof this.options.selector=="string"?h=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||typeof ShadowRoot<"u"&&this.options.selector instanceof ShadowRoot?h=this.options.selector:h=document.body,!h)throw"Root element is not defined";var m=t.defaults.oldestFirst?h.firstChild:h.lastChild;return h.insertBefore(this.toastElement,m),t.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout((function(){this.removeElement(this.toastElement)}).bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(h){h.className=h.className.replace(" on",""),window.setTimeout((function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),h.parentNode&&h.parentNode.removeChild(h),this.options.callback.call(h),t.reposition()}).bind(this),400)}},t.reposition=function(){for(var h={top:15,bottom:15},m={top:15,bottom:15},g={top:15,bottom:15},p=document.getElementsByClassName("toastify"),v,S=0;S<p.length;S++){u(p[S],"toastify-top")===!0?v="toastify-top":v="toastify-bottom";var b=p[S].offsetHeight;v=v.substr(9,v.length-1);var x=15,V=window.innerWidth>0?window.innerWidth:screen.width;V<=360?(p[S].style[v]=g[v]+"px",g[v]+=b+x):u(p[S],"toastify-left")===!0?(p[S].style[v]=h[v]+"px",h[v]+=b+x):(p[S].style[v]=m[v]+"px",m[v]+=b+x)}return this};function o(h,m){return m.offset[h]?isNaN(m.offset[h])?m.offset[h]:m.offset[h]+"px":"0px"}function u(h,m){return!h||typeof m!="string"?!1:!!(h.className&&h.className.trim().split(/\s+/gi).indexOf(m)>-1)}return t.lib.init.prototype=t.lib,t})}(_h)),_h.exports}YM();function $M(){const[i,e]=Y.useState(""),[t,s]=Y.useState(null),[o,u]=Y.useState(!1),[h,m]=Y.useState(!1),g=async()=>{u(!0),m(!1);const p=MS(wA,"entries",i),v=await e2(p);v.exists()?(s(v.data()),u(!1)):(s(null),u(!1),alert("ID not found."))};return qe.jsxs("div",{children:[qe.jsx("input",{type:"text",placeholder:"Enter ID",onChange:p=>e(p.target.value)}),qe.jsx("button",{onClick:g,children:"Search"}),o&&qe.jsx("div",{children:"Loading..."}),t&&qe.jsxs("div",{children:[qe.jsx("h3",{children:t.name}),qe.jsx("p",{children:t.status}),!h&&qe.jsx("div",{children:"Loading image..."}),qe.jsx("img",{src:t.imageUrl,alt:"Uploaded",style:{width:"200px",display:h?"block":"none"},onLoad:()=>m(!0)})]})]})}function CA(i,e){return function(){return i.apply(e,arguments)}}const{toString:XM}=Object.prototype,{getPrototypeOf:Sg}=Object,{iterator:mf,toStringTag:IA}=Symbol,pf=(i=>e=>{const t=XM.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Wn=i=>(i=i.toLowerCase(),e=>pf(e)===i),gf=i=>e=>typeof e===i,{isArray:wo}=Array,cu=gf("undefined");function Au(i){return i!==null&&!cu(i)&&i.constructor!==null&&!cu(i.constructor)&&hn(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const OA=Wn("ArrayBuffer");function WM(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&OA(i.buffer),e}const JM=gf("string"),hn=gf("function"),DA=gf("number"),bu=i=>i!==null&&typeof i=="object",ZM=i=>i===!0||i===!1,vh=i=>{if(pf(i)!=="object")return!1;const e=Sg(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(IA in i)&&!(mf in i)},eP=i=>{if(!bu(i)||Au(i))return!1;try{return Object.keys(i).length===0&&Object.getPrototypeOf(i)===Object.prototype}catch{return!1}},tP=Wn("Date"),nP=Wn("File"),iP=Wn("Blob"),rP=Wn("FileList"),sP=i=>bu(i)&&hn(i.pipe),aP=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||hn(i.append)&&((e=pf(i))==="formdata"||e==="object"&&hn(i.toString)&&i.toString()==="[object FormData]"))},oP=Wn("URLSearchParams"),[lP,uP,cP,hP]=["ReadableStream","Request","Response","Headers"].map(Wn),fP=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wu(i,e,{allOwnKeys:t=!1}={}){if(i===null||typeof i>"u")return;let s,o;if(typeof i!="object"&&(i=[i]),wo(i))for(s=0,o=i.length;s<o;s++)e.call(null,i[s],s,i);else{if(Au(i))return;const u=t?Object.getOwnPropertyNames(i):Object.keys(i),h=u.length;let m;for(s=0;s<h;s++)m=u[s],e.call(null,i[m],m,i)}}function NA(i,e){if(Au(i))return null;e=e.toLowerCase();const t=Object.keys(i);let s=t.length,o;for(;s-- >0;)if(o=t[s],e===o.toLowerCase())return o;return null}const Gs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,MA=i=>!cu(i)&&i!==Gs;function gp(){const{caseless:i}=MA(this)&&this||{},e={},t=(s,o)=>{const u=i&&NA(e,o)||o;vh(e[u])&&vh(s)?e[u]=gp(e[u],s):vh(s)?e[u]=gp({},s):wo(s)?e[u]=s.slice():e[u]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&wu(arguments[s],t);return e}const dP=(i,e,t,{allOwnKeys:s}={})=>(wu(e,(o,u)=>{t&&hn(o)?i[u]=CA(o,t):i[u]=o},{allOwnKeys:s}),i),mP=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),pP=(i,e,t,s)=>{i.prototype=Object.create(e.prototype,s),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),t&&Object.assign(i.prototype,t)},gP=(i,e,t,s)=>{let o,u,h;const m={};if(e=e||{},i==null)return e;do{for(o=Object.getOwnPropertyNames(i),u=o.length;u-- >0;)h=o[u],(!s||s(h,i,e))&&!m[h]&&(e[h]=i[h],m[h]=!0);i=t!==!1&&Sg(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e},yP=(i,e,t)=>{i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;const s=i.indexOf(e,t);return s!==-1&&s===t},_P=i=>{if(!i)return null;if(wo(i))return i;let e=i.length;if(!DA(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=i[e];return t},vP=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&Sg(Uint8Array)),EP=(i,e)=>{const s=(i&&i[mf]).call(i);let o;for(;(o=s.next())&&!o.done;){const u=o.value;e.call(i,u[0],u[1])}},TP=(i,e)=>{let t;const s=[];for(;(t=i.exec(e))!==null;)s.push(t);return s},SP=Wn("HTMLFormElement"),AP=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,o){return s.toUpperCase()+o}),IT=(({hasOwnProperty:i})=>(e,t)=>i.call(e,t))(Object.prototype),bP=Wn("RegExp"),PA=(i,e)=>{const t=Object.getOwnPropertyDescriptors(i),s={};wu(t,(o,u)=>{let h;(h=e(o,u,i))!==!1&&(s[u]=h||o)}),Object.defineProperties(i,s)},wP=i=>{PA(i,(e,t)=>{if(hn(i)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=i[t];if(hn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},RP=(i,e)=>{const t={},s=o=>{o.forEach(u=>{t[u]=!0})};return wo(i)?s(i):s(String(i).split(e)),t},CP=()=>{},IP=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function OP(i){return!!(i&&hn(i.append)&&i[IA]==="FormData"&&i[mf])}const DP=i=>{const e=new Array(10),t=(s,o)=>{if(bu(s)){if(e.indexOf(s)>=0)return;if(Au(s))return s;if(!("toJSON"in s)){e[o]=s;const u=wo(s)?[]:{};return wu(s,(h,m)=>{const g=t(h,o+1);!cu(g)&&(u[m]=g)}),e[o]=void 0,u}}return s};return t(i,0)},NP=Wn("AsyncFunction"),MP=i=>i&&(bu(i)||hn(i))&&hn(i.then)&&hn(i.catch),VA=((i,e)=>i?setImmediate:e?((t,s)=>(Gs.addEventListener("message",({source:o,data:u})=>{o===Gs&&u===t&&s.length&&s.shift()()},!1),o=>{s.push(o),Gs.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",hn(Gs.postMessage)),PP=typeof queueMicrotask<"u"?queueMicrotask.bind(Gs):typeof process<"u"&&process.nextTick||VA,VP=i=>i!=null&&hn(i[mf]),Q={isArray:wo,isArrayBuffer:OA,isBuffer:Au,isFormData:aP,isArrayBufferView:WM,isString:JM,isNumber:DA,isBoolean:ZM,isObject:bu,isPlainObject:vh,isEmptyObject:eP,isReadableStream:lP,isRequest:uP,isResponse:cP,isHeaders:hP,isUndefined:cu,isDate:tP,isFile:nP,isBlob:iP,isRegExp:bP,isFunction:hn,isStream:sP,isURLSearchParams:oP,isTypedArray:vP,isFileList:rP,forEach:wu,merge:gp,extend:dP,trim:fP,stripBOM:mP,inherits:pP,toFlatObject:gP,kindOf:pf,kindOfTest:Wn,endsWith:yP,toArray:_P,forEachEntry:EP,matchAll:TP,isHTMLForm:SP,hasOwnProperty:IT,hasOwnProp:IT,reduceDescriptors:PA,freezeMethods:wP,toObjectSet:RP,toCamelCase:AP,noop:CP,toFiniteNumber:IP,findKey:NA,global:Gs,isContextDefined:MA,isSpecCompliantForm:OP,toJSONObject:DP,isAsyncFn:NP,isThenable:MP,setImmediate:VA,asap:PP,isIterable:VP};function Re(i,e,t,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}Q.inherits(Re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const kA=Re.prototype,xA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{xA[i]={value:i}});Object.defineProperties(Re,xA);Object.defineProperty(kA,"isAxiosError",{value:!0});Re.from=(i,e,t,s,o,u)=>{const h=Object.create(kA);return Q.toFlatObject(i,h,function(g){return g!==Error.prototype},m=>m!=="isAxiosError"),Re.call(h,i.message,e,t,s,o),h.cause=i,h.name=i.name,u&&Object.assign(h,u),h};const kP=null;function yp(i){return Q.isPlainObject(i)||Q.isArray(i)}function LA(i){return Q.endsWith(i,"[]")?i.slice(0,-2):i}function OT(i,e,t){return i?i.concat(e).map(function(o,u){return o=LA(o),!t&&u?"["+o+"]":o}).join(t?".":""):e}function xP(i){return Q.isArray(i)&&!i.some(yp)}const LP=Q.toFlatObject(Q,{},null,function(e){return/^is[A-Z]/.test(e)});function yf(i,e,t){if(!Q.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,t=Q.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(q,D){return!Q.isUndefined(D[q])});const s=t.metaTokens,o=t.visitor||v,u=t.dots,h=t.indexes,g=(t.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(e);if(!Q.isFunction(o))throw new TypeError("visitor must be a function");function p(V){if(V===null)return"";if(Q.isDate(V))return V.toISOString();if(Q.isBoolean(V))return V.toString();if(!g&&Q.isBlob(V))throw new Re("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(V)||Q.isTypedArray(V)?g&&typeof Blob=="function"?new Blob([V]):Buffer.from(V):V}function v(V,q,D){let K=V;if(V&&!D&&typeof V=="object"){if(Q.endsWith(q,"{}"))q=s?q:q.slice(0,-2),V=JSON.stringify(V);else if(Q.isArray(V)&&xP(V)||(Q.isFileList(V)||Q.endsWith(q,"[]"))&&(K=Q.toArray(V)))return q=LA(q),K.forEach(function(te,he){!(Q.isUndefined(te)||te===null)&&e.append(h===!0?OT([q],he,u):h===null?q:q+"[]",p(te))}),!1}return yp(V)?!0:(e.append(OT(D,q,u),p(V)),!1)}const S=[],b=Object.assign(LP,{defaultVisitor:v,convertValue:p,isVisitable:yp});function x(V,q){if(!Q.isUndefined(V)){if(S.indexOf(V)!==-1)throw Error("Circular reference detected in "+q.join("."));S.push(V),Q.forEach(V,function(K,ie){(!(Q.isUndefined(K)||K===null)&&o.call(e,K,Q.isString(ie)?ie.trim():ie,q,b))===!0&&x(K,q?q.concat(ie):[ie])}),S.pop()}}if(!Q.isObject(i))throw new TypeError("data must be an object");return x(i),e}function DT(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Ag(i,e){this._pairs=[],i&&yf(i,this,e)}const UA=Ag.prototype;UA.append=function(e,t){this._pairs.push([e,t])};UA.toString=function(e){const t=e?function(s){return e.call(this,s,DT)}:DT;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function UP(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function BA(i,e,t){if(!e)return i;const s=t&&t.encode||UP;Q.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let u;if(o?u=o(e,t):u=Q.isURLSearchParams(e)?e.toString():new Ag(e,t).toString(s),u){const h=i.indexOf("#");h!==-1&&(i=i.slice(0,h)),i+=(i.indexOf("?")===-1?"?":"&")+u}return i}class NT{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Q.forEach(this.handlers,function(s){s!==null&&e(s)})}}const zA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BP=typeof URLSearchParams<"u"?URLSearchParams:Ag,zP=typeof FormData<"u"?FormData:null,qP=typeof Blob<"u"?Blob:null,HP={isBrowser:!0,classes:{URLSearchParams:BP,FormData:zP,Blob:qP},protocols:["http","https","file","blob","url","data"]},bg=typeof window<"u"&&typeof document<"u",_p=typeof navigator=="object"&&navigator||void 0,jP=bg&&(!_p||["ReactNative","NativeScript","NS"].indexOf(_p.product)<0),FP=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",GP=bg&&window.location.href||"http://localhost",KP=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bg,hasStandardBrowserEnv:jP,hasStandardBrowserWebWorkerEnv:FP,navigator:_p,origin:GP},Symbol.toStringTag,{value:"Module"})),en={...KP,...HP};function QP(i,e){return yf(i,new en.classes.URLSearchParams,{visitor:function(t,s,o,u){return en.isNode&&Q.isBuffer(t)?(this.append(s,t.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)},...e})}function YP(i){return Q.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function $P(i){const e={},t=Object.keys(i);let s;const o=t.length;let u;for(s=0;s<o;s++)u=t[s],e[u]=i[u];return e}function qA(i){function e(t,s,o,u){let h=t[u++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),g=u>=t.length;return h=!h&&Q.isArray(o)?o.length:h,g?(Q.hasOwnProp(o,h)?o[h]=[o[h],s]:o[h]=s,!m):((!o[h]||!Q.isObject(o[h]))&&(o[h]=[]),e(t,s,o[h],u)&&Q.isArray(o[h])&&(o[h]=$P(o[h])),!m)}if(Q.isFormData(i)&&Q.isFunction(i.entries)){const t={};return Q.forEachEntry(i,(s,o)=>{e(YP(s),o,t,0)}),t}return null}function XP(i,e,t){if(Q.isString(i))try{return(e||JSON.parse)(i),Q.trim(i)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(i)}const Ru={transitional:zA,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",o=s.indexOf("application/json")>-1,u=Q.isObject(e);if(u&&Q.isHTMLForm(e)&&(e=new FormData(e)),Q.isFormData(e))return o?JSON.stringify(qA(e)):e;if(Q.isArrayBuffer(e)||Q.isBuffer(e)||Q.isStream(e)||Q.isFile(e)||Q.isBlob(e)||Q.isReadableStream(e))return e;if(Q.isArrayBufferView(e))return e.buffer;if(Q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return QP(e,this.formSerializer).toString();if((m=Q.isFileList(e))||s.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return yf(m?{"files[]":e}:e,g&&new g,this.formSerializer)}}return u||o?(t.setContentType("application/json",!1),XP(e)):e}],transformResponse:[function(e){const t=this.transitional||Ru.transitional,s=t&&t.forcedJSONParsing,o=this.responseType==="json";if(Q.isResponse(e)||Q.isReadableStream(e))return e;if(e&&Q.isString(e)&&(s&&!this.responseType||o)){const h=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(m){if(h)throw m.name==="SyntaxError"?Re.from(m,Re.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:en.classes.FormData,Blob:en.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],i=>{Ru.headers[i]={}});const WP=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),JP=i=>{const e={};let t,s,o;return i&&i.split(`
`).forEach(function(h){o=h.indexOf(":"),t=h.substring(0,o).trim().toLowerCase(),s=h.substring(o+1).trim(),!(!t||e[t]&&WP[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},MT=Symbol("internals");function Ul(i){return i&&String(i).trim().toLowerCase()}function Eh(i){return i===!1||i==null?i:Q.isArray(i)?i.map(Eh):String(i)}function ZP(i){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(i);)e[s[1]]=s[2];return e}const eV=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function qm(i,e,t,s,o){if(Q.isFunction(s))return s.call(this,e,t);if(o&&(e=t),!!Q.isString(e)){if(Q.isString(s))return e.indexOf(s)!==-1;if(Q.isRegExp(s))return s.test(e)}}function tV(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function nV(i,e){const t=Q.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(i,s+t,{value:function(o,u,h){return this[s].call(this,e,o,u,h)},configurable:!0})})}let fn=class{constructor(e){e&&this.set(e)}set(e,t,s){const o=this;function u(m,g,p){const v=Ul(g);if(!v)throw new Error("header name must be a non-empty string");const S=Q.findKey(o,v);(!S||o[S]===void 0||p===!0||p===void 0&&o[S]!==!1)&&(o[S||g]=Eh(m))}const h=(m,g)=>Q.forEach(m,(p,v)=>u(p,v,g));if(Q.isPlainObject(e)||e instanceof this.constructor)h(e,t);else if(Q.isString(e)&&(e=e.trim())&&!eV(e))h(JP(e),t);else if(Q.isObject(e)&&Q.isIterable(e)){let m={},g,p;for(const v of e){if(!Q.isArray(v))throw TypeError("Object iterator must return a key-value pair");m[p=v[0]]=(g=m[p])?Q.isArray(g)?[...g,v[1]]:[g,v[1]]:v[1]}h(m,t)}else e!=null&&u(t,e,s);return this}get(e,t){if(e=Ul(e),e){const s=Q.findKey(this,e);if(s){const o=this[s];if(!t)return o;if(t===!0)return ZP(o);if(Q.isFunction(t))return t.call(this,o,s);if(Q.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ul(e),e){const s=Q.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||qm(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let o=!1;function u(h){if(h=Ul(h),h){const m=Q.findKey(s,h);m&&(!t||qm(s,s[m],m,t))&&(delete s[m],o=!0)}}return Q.isArray(e)?e.forEach(u):u(e),o}clear(e){const t=Object.keys(this);let s=t.length,o=!1;for(;s--;){const u=t[s];(!e||qm(this,this[u],u,e,!0))&&(delete this[u],o=!0)}return o}normalize(e){const t=this,s={};return Q.forEach(this,(o,u)=>{const h=Q.findKey(s,u);if(h){t[h]=Eh(o),delete t[u];return}const m=e?tV(u):String(u).trim();m!==u&&delete t[u],t[m]=Eh(o),s[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Q.forEach(this,(s,o)=>{s!=null&&s!==!1&&(t[o]=e&&Q.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[MT]=this[MT]={accessors:{}}).accessors,o=this.prototype;function u(h){const m=Ul(h);s[m]||(nV(o,h),s[m]=!0)}return Q.isArray(e)?e.forEach(u):u(e),this}};fn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(fn.prototype,({value:i},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(s){this[t]=s}}});Q.freezeMethods(fn);function Hm(i,e){const t=this||Ru,s=e||t,o=fn.from(s.headers);let u=s.data;return Q.forEach(i,function(m){u=m.call(t,u,o.normalize(),e?e.status:void 0)}),o.normalize(),u}function HA(i){return!!(i&&i.__CANCEL__)}function Ro(i,e,t){Re.call(this,i??"canceled",Re.ERR_CANCELED,e,t),this.name="CanceledError"}Q.inherits(Ro,Re,{__CANCEL__:!0});function jA(i,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?i(t):e(new Re("Request failed with status code "+t.status,[Re.ERR_BAD_REQUEST,Re.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function iV(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function rV(i,e){i=i||10;const t=new Array(i),s=new Array(i);let o=0,u=0,h;return e=e!==void 0?e:1e3,function(g){const p=Date.now(),v=s[u];h||(h=p),t[o]=g,s[o]=p;let S=u,b=0;for(;S!==o;)b+=t[S++],S=S%i;if(o=(o+1)%i,o===u&&(u=(u+1)%i),p-h<e)return;const x=v&&p-v;return x?Math.round(b*1e3/x):void 0}}function sV(i,e){let t=0,s=1e3/e,o,u;const h=(p,v=Date.now())=>{t=v,o=null,u&&(clearTimeout(u),u=null),i(...p)};return[(...p)=>{const v=Date.now(),S=v-t;S>=s?h(p,v):(o=p,u||(u=setTimeout(()=>{u=null,h(o)},s-S)))},()=>o&&h(o)]}const Gh=(i,e,t=3)=>{let s=0;const o=rV(50,250);return sV(u=>{const h=u.loaded,m=u.lengthComputable?u.total:void 0,g=h-s,p=o(g),v=h<=m;s=h;const S={loaded:h,total:m,progress:m?h/m:void 0,bytes:g,rate:p||void 0,estimated:p&&m&&v?(m-h)/p:void 0,event:u,lengthComputable:m!=null,[e?"download":"upload"]:!0};i(S)},t)},PT=(i,e)=>{const t=i!=null;return[s=>e[0]({lengthComputable:t,total:i,loaded:s}),e[1]]},VT=i=>(...e)=>Q.asap(()=>i(...e)),aV=en.hasStandardBrowserEnv?((i,e)=>t=>(t=new URL(t,en.origin),i.protocol===t.protocol&&i.host===t.host&&(e||i.port===t.port)))(new URL(en.origin),en.navigator&&/(msie|trident)/i.test(en.navigator.userAgent)):()=>!0,oV=en.hasStandardBrowserEnv?{write(i,e,t,s,o,u){const h=[i+"="+encodeURIComponent(e)];Q.isNumber(t)&&h.push("expires="+new Date(t).toGMTString()),Q.isString(s)&&h.push("path="+s),Q.isString(o)&&h.push("domain="+o),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function lV(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function uV(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function FA(i,e,t){let s=!lV(e);return i&&(s||t==!1)?uV(i,e):e}const kT=i=>i instanceof fn?{...i}:i;function Zs(i,e){e=e||{};const t={};function s(p,v,S,b){return Q.isPlainObject(p)&&Q.isPlainObject(v)?Q.merge.call({caseless:b},p,v):Q.isPlainObject(v)?Q.merge({},v):Q.isArray(v)?v.slice():v}function o(p,v,S,b){if(Q.isUndefined(v)){if(!Q.isUndefined(p))return s(void 0,p,S,b)}else return s(p,v,S,b)}function u(p,v){if(!Q.isUndefined(v))return s(void 0,v)}function h(p,v){if(Q.isUndefined(v)){if(!Q.isUndefined(p))return s(void 0,p)}else return s(void 0,v)}function m(p,v,S){if(S in e)return s(p,v);if(S in i)return s(void 0,p)}const g={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(p,v,S)=>o(kT(p),kT(v),S,!0)};return Q.forEach(Object.keys({...i,...e}),function(v){const S=g[v]||o,b=S(i[v],e[v],v);Q.isUndefined(b)&&S!==m||(t[v]=b)}),t}const GA=i=>{const e=Zs({},i);let{data:t,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:u,headers:h,auth:m}=e;e.headers=h=fn.from(h),e.url=BA(FA(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let g;if(Q.isFormData(t)){if(en.hasStandardBrowserEnv||en.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((g=h.getContentType())!==!1){const[p,...v]=g?g.split(";").map(S=>S.trim()).filter(Boolean):[];h.setContentType([p||"multipart/form-data",...v].join("; "))}}if(en.hasStandardBrowserEnv&&(s&&Q.isFunction(s)&&(s=s(e)),s||s!==!1&&aV(e.url))){const p=o&&u&&oV.read(u);p&&h.set(o,p)}return e},cV=typeof XMLHttpRequest<"u",hV=cV&&function(i){return new Promise(function(t,s){const o=GA(i);let u=o.data;const h=fn.from(o.headers).normalize();let{responseType:m,onUploadProgress:g,onDownloadProgress:p}=o,v,S,b,x,V;function q(){x&&x(),V&&V(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let D=new XMLHttpRequest;D.open(o.method.toUpperCase(),o.url,!0),D.timeout=o.timeout;function K(){if(!D)return;const te=fn.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),le={data:!m||m==="text"||m==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:te,config:i,request:D};jA(function(M){t(M),q()},function(M){s(M),q()},le),D=null}"onloadend"in D?D.onloadend=K:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(K)},D.onabort=function(){D&&(s(new Re("Request aborted",Re.ECONNABORTED,i,D)),D=null)},D.onerror=function(){s(new Re("Network Error",Re.ERR_NETWORK,i,D)),D=null},D.ontimeout=function(){let he=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const le=o.transitional||zA;o.timeoutErrorMessage&&(he=o.timeoutErrorMessage),s(new Re(he,le.clarifyTimeoutError?Re.ETIMEDOUT:Re.ECONNABORTED,i,D)),D=null},u===void 0&&h.setContentType(null),"setRequestHeader"in D&&Q.forEach(h.toJSON(),function(he,le){D.setRequestHeader(le,he)}),Q.isUndefined(o.withCredentials)||(D.withCredentials=!!o.withCredentials),m&&m!=="json"&&(D.responseType=o.responseType),p&&([b,V]=Gh(p,!0),D.addEventListener("progress",b)),g&&D.upload&&([S,x]=Gh(g),D.upload.addEventListener("progress",S),D.upload.addEventListener("loadend",x)),(o.cancelToken||o.signal)&&(v=te=>{D&&(s(!te||te.type?new Ro(null,i,D):te),D.abort(),D=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const ie=iV(o.url);if(ie&&en.protocols.indexOf(ie)===-1){s(new Re("Unsupported protocol "+ie+":",Re.ERR_BAD_REQUEST,i));return}D.send(u||null)})},fV=(i,e)=>{const{length:t}=i=i?i.filter(Boolean):[];if(e||t){let s=new AbortController,o;const u=function(p){if(!o){o=!0,m();const v=p instanceof Error?p:this.reason;s.abort(v instanceof Re?v:new Ro(v instanceof Error?v.message:v))}};let h=e&&setTimeout(()=>{h=null,u(new Re(`timeout ${e} of ms exceeded`,Re.ETIMEDOUT))},e);const m=()=>{i&&(h&&clearTimeout(h),h=null,i.forEach(p=>{p.unsubscribe?p.unsubscribe(u):p.removeEventListener("abort",u)}),i=null)};i.forEach(p=>p.addEventListener("abort",u));const{signal:g}=s;return g.unsubscribe=()=>Q.asap(m),g}},dV=function*(i,e){let t=i.byteLength;if(t<e){yield i;return}let s=0,o;for(;s<t;)o=s+e,yield i.slice(s,o),s=o},mV=async function*(i,e){for await(const t of pV(i))yield*dV(t,e)},pV=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},xT=(i,e,t,s)=>{const o=mV(i,e);let u=0,h,m=g=>{h||(h=!0,s&&s(g))};return new ReadableStream({async pull(g){try{const{done:p,value:v}=await o.next();if(p){m(),g.close();return}let S=v.byteLength;if(t){let b=u+=S;t(b)}g.enqueue(new Uint8Array(v))}catch(p){throw m(p),p}},cancel(g){return m(g),o.return()}},{highWaterMark:2})},_f=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",KA=_f&&typeof ReadableStream=="function",gV=_f&&(typeof TextEncoder=="function"?(i=>e=>i.encode(e))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),QA=(i,...e)=>{try{return!!i(...e)}catch{return!1}},yV=KA&&QA(()=>{let i=!1;const e=new Request(en.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!e}),LT=64*1024,vp=KA&&QA(()=>Q.isReadableStream(new Response("").body)),Kh={stream:vp&&(i=>i.body)};_f&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Kh[e]&&(Kh[e]=Q.isFunction(i[e])?t=>t[e]():(t,s)=>{throw new Re(`Response type '${e}' is not supported`,Re.ERR_NOT_SUPPORT,s)})})})(new Response);const _V=async i=>{if(i==null)return 0;if(Q.isBlob(i))return i.size;if(Q.isSpecCompliantForm(i))return(await new Request(en.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(i)||Q.isArrayBuffer(i))return i.byteLength;if(Q.isURLSearchParams(i)&&(i=i+""),Q.isString(i))return(await gV(i)).byteLength},vV=async(i,e)=>{const t=Q.toFiniteNumber(i.getContentLength());return t??_V(e)},EV=_f&&(async i=>{let{url:e,method:t,data:s,signal:o,cancelToken:u,timeout:h,onDownloadProgress:m,onUploadProgress:g,responseType:p,headers:v,withCredentials:S="same-origin",fetchOptions:b}=GA(i);p=p?(p+"").toLowerCase():"text";let x=fV([o,u&&u.toAbortSignal()],h),V;const q=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let D;try{if(g&&yV&&t!=="get"&&t!=="head"&&(D=await vV(v,s))!==0){let le=new Request(e,{method:"POST",body:s,duplex:"half"}),Te;if(Q.isFormData(s)&&(Te=le.headers.get("content-type"))&&v.setContentType(Te),le.body){const[M,w]=PT(D,Gh(VT(g)));s=xT(le.body,LT,M,w)}}Q.isString(S)||(S=S?"include":"omit");const K="credentials"in Request.prototype;V=new Request(e,{...b,signal:x,method:t.toUpperCase(),headers:v.normalize().toJSON(),body:s,duplex:"half",credentials:K?S:void 0});let ie=await fetch(V,b);const te=vp&&(p==="stream"||p==="response");if(vp&&(m||te&&q)){const le={};["status","statusText","headers"].forEach(R=>{le[R]=ie[R]});const Te=Q.toFiniteNumber(ie.headers.get("content-length")),[M,w]=m&&PT(Te,Gh(VT(m),!0))||[];ie=new Response(xT(ie.body,LT,M,()=>{w&&w(),q&&q()}),le)}p=p||"text";let he=await Kh[Q.findKey(Kh,p)||"text"](ie,i);return!te&&q&&q(),await new Promise((le,Te)=>{jA(le,Te,{data:he,headers:fn.from(ie.headers),status:ie.status,statusText:ie.statusText,config:i,request:V})})}catch(K){throw q&&q(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new Re("Network Error",Re.ERR_NETWORK,i,V),{cause:K.cause||K}):Re.from(K,K&&K.code,i,V)}}),Ep={http:kP,xhr:hV,fetch:EV};Q.forEach(Ep,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const UT=i=>`- ${i}`,TV=i=>Q.isFunction(i)||i===null||i===!1,YA={getAdapter:i=>{i=Q.isArray(i)?i:[i];const{length:e}=i;let t,s;const o={};for(let u=0;u<e;u++){t=i[u];let h;if(s=t,!TV(t)&&(s=Ep[(h=String(t)).toLowerCase()],s===void 0))throw new Re(`Unknown adapter '${h}'`);if(s)break;o[h||"#"+u]=s}if(!s){const u=Object.entries(o).map(([m,g])=>`adapter ${m} `+(g===!1?"is not supported by the environment":"is not available in the build"));let h=e?u.length>1?`since :
`+u.map(UT).join(`
`):" "+UT(u[0]):"as no adapter specified";throw new Re("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return s},adapters:Ep};function jm(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new Ro(null,i)}function BT(i){return jm(i),i.headers=fn.from(i.headers),i.data=Hm.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),YA.getAdapter(i.adapter||Ru.adapter)(i).then(function(s){return jm(i),s.data=Hm.call(i,i.transformResponse,s),s.headers=fn.from(s.headers),s},function(s){return HA(s)||(jm(i),s&&s.response&&(s.response.data=Hm.call(i,i.transformResponse,s.response),s.response.headers=fn.from(s.response.headers))),Promise.reject(s)})}const $A="1.11.0",vf={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{vf[i]=function(s){return typeof s===i||"a"+(e<1?"n ":" ")+i}});const zT={};vf.transitional=function(e,t,s){function o(u,h){return"[Axios v"+$A+"] Transitional option '"+u+"'"+h+(s?". "+s:"")}return(u,h,m)=>{if(e===!1)throw new Re(o(h," has been removed"+(t?" in "+t:"")),Re.ERR_DEPRECATED);return t&&!zT[h]&&(zT[h]=!0,console.warn(o(h," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(u,h,m):!0}};vf.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function SV(i,e,t){if(typeof i!="object")throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);const s=Object.keys(i);let o=s.length;for(;o-- >0;){const u=s[o],h=e[u];if(h){const m=i[u],g=m===void 0||h(m,u,i);if(g!==!0)throw new Re("option "+u+" must be "+g,Re.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Re("Unknown option "+u,Re.ERR_BAD_OPTION)}}const Th={assertOptions:SV,validators:vf},pi=Th.validators;let Qs=class{constructor(e){this.defaults=e||{},this.interceptors={request:new NT,response:new NT}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const u=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Zs(this.defaults,t);const{transitional:s,paramsSerializer:o,headers:u}=t;s!==void 0&&Th.assertOptions(s,{silentJSONParsing:pi.transitional(pi.boolean),forcedJSONParsing:pi.transitional(pi.boolean),clarifyTimeoutError:pi.transitional(pi.boolean)},!1),o!=null&&(Q.isFunction(o)?t.paramsSerializer={serialize:o}:Th.assertOptions(o,{encode:pi.function,serialize:pi.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Th.assertOptions(t,{baseUrl:pi.spelling("baseURL"),withXsrfToken:pi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h=u&&Q.merge(u.common,u[t.method]);u&&Q.forEach(["delete","get","head","post","put","patch","common"],V=>{delete u[V]}),t.headers=fn.concat(h,u);const m=[];let g=!0;this.interceptors.request.forEach(function(q){typeof q.runWhen=="function"&&q.runWhen(t)===!1||(g=g&&q.synchronous,m.unshift(q.fulfilled,q.rejected))});const p=[];this.interceptors.response.forEach(function(q){p.push(q.fulfilled,q.rejected)});let v,S=0,b;if(!g){const V=[BT.bind(this),void 0];for(V.unshift(...m),V.push(...p),b=V.length,v=Promise.resolve(t);S<b;)v=v.then(V[S++],V[S++]);return v}b=m.length;let x=t;for(S=0;S<b;){const V=m[S++],q=m[S++];try{x=V(x)}catch(D){q.call(this,D);break}}try{v=BT.call(this,x)}catch(V){return Promise.reject(V)}for(S=0,b=p.length;S<b;)v=v.then(p[S++],p[S++]);return v}getUri(e){e=Zs(this.defaults,e);const t=FA(e.baseURL,e.url,e.allowAbsoluteUrls);return BA(t,e.params,e.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(e){Qs.prototype[e]=function(t,s){return this.request(Zs(s||{},{method:e,url:t,data:(s||{}).data}))}});Q.forEach(["post","put","patch"],function(e){function t(s){return function(u,h,m){return this.request(Zs(m||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}Qs.prototype[e]=t(),Qs.prototype[e+"Form"]=t(!0)});let AV=class XA{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(u){t=u});const s=this;this.promise.then(o=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](o);s._listeners=null}),this.promise.then=o=>{let u;const h=new Promise(m=>{s.subscribe(m),u=m}).then(o);return h.cancel=function(){s.unsubscribe(u)},h},e(function(u,h,m){s.reason||(s.reason=new Ro(u,h,m),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new XA(function(o){e=o}),cancel:e}}};function bV(i){return function(t){return i.apply(null,t)}}function wV(i){return Q.isObject(i)&&i.isAxiosError===!0}const Tp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tp).forEach(([i,e])=>{Tp[e]=i});function WA(i){const e=new Qs(i),t=CA(Qs.prototype.request,e);return Q.extend(t,Qs.prototype,e,{allOwnKeys:!0}),Q.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return WA(Zs(i,o))},t}const yt=WA(Ru);yt.Axios=Qs;yt.CanceledError=Ro;yt.CancelToken=AV;yt.isCancel=HA;yt.VERSION=$A;yt.toFormData=yf;yt.AxiosError=Re;yt.Cancel=yt.CanceledError;yt.all=function(e){return Promise.all(e)};yt.spread=bV;yt.isAxiosError=wV;yt.mergeConfig=Zs;yt.AxiosHeaders=fn;yt.formToJSON=i=>qA(Q.isHTMLForm(i)?new FormData(i):i);yt.getAdapter=YA.getAdapter;yt.HttpStatusCode=Tp;yt.default=yt;const{Axios:PV,AxiosError:VV,CanceledError:kV,isCancel:xV,CancelToken:LV,VERSION:UV,all:BV,Cancel:zV,isAxiosError:qV,spread:HV,toFormData:jV,AxiosHeaders:FV,HttpStatusCode:GV,formToJSON:KV,getAdapter:QV,mergeConfig:YV}=yt;function RV(){const[i,e]=Y.useState({id:"",name:"",status:"",image:null}),t=async o=>{const u=new FormData;u.append("file",o),u.append("upload_preset","client_img_upload");try{return(await yt.post("https://api.cloudinary.com/v1_1/dpwfwn2dq/image/upload",u)).data.secure_url}catch(h){return console.error("Upload to Cloudinary failed:",h),null}},s=async o=>{if(o.preventDefault(),!i.id||!i.name||!i.status||!i.image){alert("Please fill all fields");return}const u=await t(i.image);if(!u){alert("Image upload failed");return}try{await n2(MS(wA,"entries",i.id),{name:i.name,status:i.status,imageUrl:u}),alert("Successfully saved!")}catch(h){console.error("Firestore error:",h),alert("Failed to save data.")}};return qe.jsxs("form",{onSubmit:s,children:[qe.jsx("input",{type:"text",placeholder:"ID",onChange:o=>e({...i,id:o.target.value})}),qe.jsx("input",{type:"text",placeholder:"Name",onChange:o=>e({...i,name:o.target.value})}),qe.jsx("input",{type:"text",placeholder:"Status",onChange:o=>e({...i,status:o.target.value})}),qe.jsx("input",{type:"file",accept:"image/*",onChange:o=>e({...i,image:o.target.files[0]})}),qe.jsx("button",{type:"submit",className:" cursor-pointer ",children:"Submit"})]})}function CV(){const[i,e]=Y.useState(""),[t,s]=Y.useState(""),o=Rp(),u=async h=>{h.preventDefault();try{await NN(RA,i,t),o("/admin")}catch(m){alert("Login failed: "+m.message)}};return qe.jsxs("form",{onSubmit:u,children:[qe.jsx("input",{type:"email",placeholder:"Email",onChange:h=>e(h.target.value)}),qe.jsx("input",{type:"password",placeholder:"Password",onChange:h=>s(h.target.value)}),qe.jsx("button",{type:"submit",children:"Login"})]})}function IV({children:i}){const[e,t]=Y.useState(null),[s,o]=Y.useState(!0);return Y.useEffect(()=>{const u=RA.onAuthStateChanged(h=>{t(h),o(!1)});return()=>u()},[]),s?qe.jsx("p",{children:"Checking authentication..."}):e?i:qe.jsx(ER,{to:"/login"})}function OV(){return qe.jsx(GR,{children:qe.jsxs(SR,{children:[qe.jsx(sh,{path:"/",element:qe.jsx($M,{})}),qe.jsx(sh,{path:"/admin",element:qe.jsx(IV,{children:qe.jsx(RV,{})})}),qe.jsx(sh,{path:"/login",element:qe.jsx(CV,{})})]})})}Nw.createRoot(document.getElementById("root")).render(qe.jsx(Y.StrictMode,{children:qe.jsx(OV,{})}));
